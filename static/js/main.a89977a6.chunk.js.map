{"version":3,"sources":["assets/banner_bg1.jpg","assets/map.png","redux/slices/navigation.ts","constans/index.ts","redux/slices/search.ts","API/constants.ts","API/schedule.ts","API/user.ts","API/group.ts","API/index.ts","API/streams.ts","utils/getTimeByLesson.ts","utils/normalizeLesson.ts","utils/selectDay.ts","utils/currentDay.ts","utils/currentWeek.ts","utils/currentLesson.ts","utils/useLastSchedules.ts","redux/slices/schedule.ts","redux/slices/profile.ts","redux/rootReducer.ts","redux/store.ts","components/Title/index.tsx","components/Lesson/index.tsx","components/DayCard/index.tsx","components/Cell/SingleCell.tsx","components/Cell/HalfCell.tsx","components/Cell/QuarterCell.tsx","components/FullSchedule/index.tsx","utils/fullSchedule.ts","components/TabsSchedule/index.tsx","components/ByDay/index.tsx","panels/Schedule/MenuItemIcon.tsx","panels/Schedule/index.tsx","utils/getDiff.ts","panels/Profile/index.tsx","utils/toEnd.ts","panels/Map/index.tsx","panels/Search/index.tsx","components/StaticsLesson/index.tsx","utils/getStatsLesson.ts","App.tsx","panels/Sleep/index.tsx","components/Switcher/index.tsx","index.tsx"],"names":["module","exports","initialState","story","panels","schedule","profile","list","navigationSlice","createSlice","name","reducers","changeStory","state","action","payload","changePanel","panel","actions","searchSlice","query","loading","setQuery","setLoading","BASE_URL","process","requestSchedule","href","a","id","replace","url","fetch","res","json","requestUser","registerUser","opts","method","headers","addGroup","uid","group","body","JSON","stringify","delGroup","getStreams","getTimeByLesson","normalizeLesson","lesson","time","coords","j","k","place","type","subject","fromWhoms","selectDay","lessons","day","week","filter","l","i","z","map","currentDay","Date","getDay","currentWeek","now","ms","getTime","d","weeks","date","start","end","currentLesson","split","sh","sm","lessonStart","setHours","eh","em","lessonEnd","n","useLastSchedules","limit","lsLast","localStorage","getItem","last","parse","setLast","s","filterLast","length","fw","newLast","setItem","createAsyncThunk","thunkAPI","schedules","getState","find","uniq","API","data","activeMode","text","isDiff","activeSubject","error","activeSchedule","history","scheduleSlice","changeMode","changeDay","changeWeek","setSubject","setIsDiff","popHistory","pop","newActiveHref","exams","clearHistory","extraReducers","builder","addCase","pending","meta","arg","add","push","rejected","fulfilled","requestStreams","user","profileSlice","loadingStreams","errorStreams","streams","userId","loadingUser","errorUser","myGroup","rootReducer","combineReducers","navigation","search","store","configureStore","reducer","Title","title","mySchedule","link","className","height","width","fill","size","Lesson","current","infoShow","dispatch","useDispatch","t","key","onClick","getStats","style","marginLeft","DayCard","undefined","SingleCell","column","row","w","cn","join","gridRow","gridColumn","HalfCell","isHalf","grid","QuarterCell","HEADERS","TIME","FullSchedule","lastLessonNum","reduce","max","lessonNum","full","forEach","dayId","lessonId","children","fullSchedule","gridTemplateRows","slice","h","cells","isHalfQuarter","isQuarter","Object","values","c","DAYS","TabsSchedule","mode","fontSize","color","selected","ByDay","useSelector","slideIndex","onChange","MenuItemIcon","MENU","Schedule","React","useState","menuOpened","setMenuOpened","toggleMenu","diff","useMemo","b","la","lb","dayEqual","lessonNumEqual","weekEqual","groupEqual","isEqual","left","transform","opened","onClose","item","notExams","examsSelected","myGroupSave","notMyGroupDelete","withoutDiff","withDiff","ownDiff","notUserGroup","before","requestAnimationFrame","selectMenuItem","asideContent","stretched","Profile","platform","usePlatform","snackbar","setSnackbar","openSnackbar","backgroundColor","wasted","Math","floor","toEnd","total","goToSchedule","qoute","qoutes","q","header","subheader","background","backgroundImage","bg2","backgroundPosition","backgroundSize","backgroundRepeat","marginTop","value","padding","disabled","src","photo","description","author","paddingTop","fontStyle","paddingBottom","bridge","send","then","_","catch","err","group_id","includes","Map","alt","SearchPanel","filterSearch","toLowerCase","searchResult","setSearchResult","useEffect","tid","setTimeout","clearTimeout","separator","vertical","placeholder","e","currentTarget","after","TYPE_LESSON","lec","pr","lab","StaticsLesson","closeModal","byWeek","dd","currentWeekIndex","findIndex","stats","getStatsLesson","activeModal","dynamicContentHeight","right","entries","entrie","App","changeActiveStory","newStory","dataset","userData","init","margin","isWebView","activeStory","tabbar","data-story","activePanel","modal","popout","Sleep","icon","Switcher","hours","getUTCHours","subscribe","detail","document","setAttribute","scheme","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.a89977a6.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/banner_bg1.975d0629.jpg\";","module.exports = \"data:image/png;base64,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\"","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\"\n\nimport { MAP_PANEL, PROFILE_PANEL, PROFILE_STORY, SCHEDULE_PANEL, SCHEDULE_STORY, SEARCH_PANEL, LIST_PANEL, LIST_STORY } from \"../../constans\"\n\ntype Story = typeof PROFILE_STORY | typeof SCHEDULE_STORY | typeof LIST_STORY\ntype ProfilePanel = typeof PROFILE_PANEL | typeof MAP_PANEL\ntype SchedulePanel = typeof SCHEDULE_PANEL | typeof SEARCH_PANEL\ntype ListPanel = typeof LIST_PANEL\ntype Panel = { schedule : SchedulePanel, profile : ProfilePanel, list : ListPanel }\n\ntype ChangePanelAction = { story : keyof Panel, panel : ProfilePanel | SchedulePanel }\n\ninterface NavigationState\n{\n  story : Story\n  panels : Panel\n}\n\nconst initialState : NavigationState = {\n  story : PROFILE_STORY,\n  panels : {\n    schedule : SEARCH_PANEL,\n    profile : PROFILE_PANEL,\n    list : LIST_PANEL,\n  },\n}\n\nconst navigationSlice = createSlice({\n  name : 'navigation',\n  initialState,\n  reducers : {\n    changeStory(state, action)\n    {\n      state.story = action.payload\n    },\n    changePanel(state, action : PayloadAction<ChangePanelAction>)\n    {\n      const { story, panel } = action.payload\n      if(story === 'schedule')\n        state.panels.schedule = panel as SchedulePanel\n      else if(story === 'profile')\n        state.panels.profile = panel as ProfilePanel\n    },\n  }\n})\n\nexport const { changeStory, changePanel } = navigationSlice.actions\nexport default navigationSlice.reducer","export const SCHEDULE_STORY = 'schedule'\nexport const PROFILE_STORY = 'profile'\nexport const LIST_STORY = 'list'\n\nexport const SEARCH_PANEL = 'search'\nexport const SCHEDULE_PANEL = 'schedule'\nexport const PROFILE_PANEL = 'profile'\nexport const MAP_PANEL = 'map'\nexport const LIST_PANEL = 'list'\n\nexport const COUNT_LAST_SCHEDULES = 6","import { createSlice } from \"@reduxjs/toolkit\"\n\ninterface SearchState\n{\n  query : string\n  loading : boolean\n}\n\nconst initialState : SearchState = {\n  query : '',\n  loading : false\n}\n\nconst searchSlice = createSlice({\n  name : 'search',\n  initialState,\n  reducers : {\n    setQuery(state, action)\n    {\n      state.query = action.payload\n    },\n    setLoading(state, action)\n    {\n      state.loading = action.payload\n    }\n  }\n})\n\nexport const { setQuery, setLoading } = searchSlice.actions\nexport default searchSlice.reducer","export const BASE_URL = process.env.REACT_APP_BASE_URL","import { BASE_URL } from \"./constants\"\n\nexport const requestSchedule = async (href : string) => {\n  const id = href.replace(/(\\?|&)/g,'').replace('=','/')\n  const url = `${BASE_URL}/schedule/${id}`\n  const res = await fetch(url)\n  \n  return res.json()\n}","import { BASE_URL } from \"./constants\"\n\nexport const requestUser = async (id : number) => {\n  const url = `${BASE_URL}/user/${id}`\n  const res = await fetch(url)\n\n  return res.json()\n}\n\nexport const registerUser = async (id : number) => {\n  const url = `${BASE_URL}/user/${id}`\n  const opts = {\n    method : 'POST', \n    headers : {'Content-Type': 'application/json;charset=utf-8'}\n  }\n  const res = await fetch(url, opts)\n\n  return res.json()\n}","import { BASE_URL } from \"./constants\"\n\nexport const addGroup = async ({uid, group} : {uid : number, group : string}) => {\n  const url = `${BASE_URL}/user/group`\n  const opts = {\n    method : 'PUT', \n    headers : {'Content-Type': 'application/json;charset=utf-8'},\n    body : JSON.stringify({uid, group})\n  }\n  const res = await fetch(url, opts)\n\n  return res.json()\n}\n\nexport const delGroup = async (uid : number) => {\n  const url = `${BASE_URL}/user/group`\n  const opts = {\n    method : 'DELETE', \n    headers : {'Content-Type': 'application/json;charset=utf-8'},\n    body : JSON.stringify({uid})\n  }\n  const res = await fetch(url, opts)\n\n  return res.json()\n}","import {requestSchedule} from './schedule'\nimport {registerUser,requestUser} from './user'\nimport {addGroup,delGroup} from './group'\nimport {getStreams} from './streams'\n\nexport default {\n  requestSchedule,\n  requestUser,\n  delGroup,\n  registerUser,\n  addGroup,\n  getStreams,\n}","import { BASE_URL } from \"./constants\"\n\nexport const getStreams = async () => {\n  const url = `${BASE_URL}/streams`\n  const res = await fetch(url)\n  return res.json()\n}","import { Lesson } from \"../types/Lesson\"\n\nexport const getTimeByLesson = (id : Lesson) => {\n  return [\n    ['08:15', '09:50'],\n    ['10:00', '11:35'],\n    ['11:45', '13:20'],\n    ['12:35', '14:10'],\n    ['14:20', '15:55'],\n    ['16:05', '17:40'],\n    ['17:50', '19:25'],\n    ['19:35', '21:10'],\n  ][id]\n}","import { ILesson } from \"../types/ILesson\";\nimport { PlainLesson } from \"../types/PlainLesson\";\nimport { getTimeByLesson } from \"./getTimeByLesson\";\n\nexport const normalizeLesson = (lesson : PlainLesson) : ILesson => {\n  const time = getTimeByLesson(lesson.coords.j)\n\n  const group = lesson.coords.k !== 2 ? `(${lesson.coords.k + 1} гр.)` : ''\n\n  return {\n    place : lesson.place,\n    type : lesson.type,\n    subject : `${lesson.subject}${group}`,\n    fromWhoms : lesson.fromWhoms,\n    time,\n  }\n}","import { ILesson } from \"../types/ILesson\";\nimport { PlainLesson } from \"../types/PlainLesson\";\nimport { normalizeLesson } from \"./normalizeLesson\";\n\nexport const selectDay = (\n  lessons : PlainLesson[],\n  day : number,\n  week : number\n) : ILesson[] => {\n  return lessons.filter(l => {\n    const { i, z } = l.coords\n\n    return i === day && (z === week || z === 2)\n  }).map(normalizeLesson)\n}","import { Day } from \"../types/Day\"\n\nexport const currentDay = () : Day => {\n  const id = new Date().getDay()\n\n  return (id > 0 ? id - 1 : id) as Day\n}","import weeks from '../data/weeks.json'\n\nimport { Week } from '../types/Week'\n\nexport const currentWeek = () : Week => {\n  const now = new Date()\n  const ms = now.getTime()\n  const d = now.getDay()\n\n  const week = weeks.filter(({date : [start, end]}) => start <= ms && ms <= end)[0].week\n\n  return (d !== 0 ? week : (week === 0 ? 1 : 0)) as Week\n}","import { Day } from \"../types/Day\"\nimport { Week } from \"../types/Week\"\nimport { currentWeek } from \"./currentWeek\"\n\nexport const currentLesson = (time : string[], day : Day, week : Week) : boolean => {\n  const now = new Date()\n\n  if(now.getDay() === day + 1 && week === currentWeek())\n  {\n    const TEN_MIN = 10 * 60 * 1000\n\n    const [start, end] = time    \n    const [sh, sm] = start.split(':').map(d => +d)\n    const lessonStart = new Date().setHours(sh, sm) - TEN_MIN\n    const [eh, em] = end.split(':').map(d => +d)\n    const lessonEnd = new Date().setHours(eh, em)\n\n    const n = now.getTime()\n\n    return lessonStart <= n && n <= lessonEnd\n  }\n\n  return false\n}","import { FromWhom } from \"../types/ILesson\"\n\nexport const useLastSchedules = (limit : number) => {\n  const LAST_SCHEDULES = 'lastSchedules'\n\n  const lsLast = localStorage.getItem(LAST_SCHEDULES)\n  const last : FromWhom[] = lsLast ? JSON.parse(lsLast) : []\n\n  const setLast = (s : FromWhom) => {\n    const overloadFilter = (fw : FromWhom, i : number) =>\n      fw.href.replace('&', '') !== s.href.replace('&', '') && i !== last.length - 1\n    const normalFilter = (fw : FromWhom) => fw.href.replace('&', '') !== s.href.replace('&', '')\n\n    const filterLast = last.filter(last.length < limit ? normalFilter : overloadFilter)    \n    const newLast = [s, ...filterLast]\n\n    localStorage.setItem(LAST_SCHEDULES, JSON.stringify(newLast))\n  }\n\n  return { last, setLast }\n}","import { createAsyncThunk, createSlice, PayloadAction } from \"@reduxjs/toolkit\";\n\nimport API from \"../../API\";\n\nimport { MenuItem } from '../../panels/Schedule'\nimport { Day } from \"../../types/Day\";\nimport { FromWhom } from \"../../types/ILesson\";\nimport { PlainLesson } from \"../../types/PlainLesson\";\nimport { Week } from \"../../types/Week\";\nimport { currentDay, currentWeek } from \"../../utils\";\nimport { RootState } from \"../rootReducer\";\n\ninterface Exam\n{\n  place: string\n  subject: string\n  type : 3 | 4\n  fromWhoms: FromWhom[]\n}\n\nexport interface ScheduleData\n{\n  title : string\n  href : string\n  schedule : PlainLesson[]\n  exams : Exam[]\n}\n\ninterface ScheduleState\n{\n  activeMode : MenuItem\n  isDiff : boolean\n  day : Day\n  week : Week\n  activeSubject : string | null\n  loading : boolean\n  error : boolean\n  activeSchedule : ScheduleData | null\n  schedules : ScheduleData[] // ??? ILesson[]\n  history : string[]\n}\n\ntype RequestScheduleParam = {href : string, add ?: boolean}\n\nexport const requestSchedule = createAsyncThunk(\n  'schedule/request',\n  async ({href} : RequestScheduleParam, thunkAPI) => {    \n    const schedules = (thunkAPI.getState() as RootState).schedule.schedules\n    const schedule = schedules.find(s => s.href === href.replace('&', ''))\n    \n    if(schedule) return { uniq : false, schedule}\n\n    const data = await API.requestSchedule(href)\n    return { uniq : true, schedule : data}\n  }\n)\n\nconst initialState : ScheduleState = {\n  activeMode : { text : 'По дням', id : 'byDays' },\n  isDiff : false,\n  day : currentDay(),\n  week : currentWeek(),\n  activeSubject : null,\n  loading : false,\n  error : false,\n  activeSchedule : null,\n  schedules : [],\n  history : [],\n}\n\nconst scheduleSlice = createSlice({\n  name : 'schedule',\n  initialState,\n  reducers : {\n    changeMode(state, action : PayloadAction<MenuItem>)\n    {\n      state.activeMode = action.payload\n    },\n    changeDay(state, action : PayloadAction<Day>)\n    {\n      state.day = action.payload\n    },\n    changeWeek(state, action : PayloadAction<Week>)\n    {\n      state.week = action.payload\n    },\n    setSubject(state, action)\n    {\n      state.activeSubject = action.payload\n    },\n    setIsDiff(state, action)\n    {\n      state.isDiff = action.payload\n    },\n    popHistory(state)\n    {\n      state.isDiff = false\n      state.history.pop()\n      if(state.history.length !== 0)\n      {\n        const newActiveHref = state.history[state.history.length - 1]\n        const schedule = state.schedules.find(s => s.href === newActiveHref) as ScheduleData\n        \n        if(!schedule.exams && state.activeMode.id === 'exams')\n          state.activeMode = initialState.activeMode\n\n        state.activeSchedule = schedule\n      }\n    },\n    clearHistory(state)\n    {\n      state.history = []\n      state.isDiff = false\n    }\n  },\n  extraReducers(builder)\n  {\n    builder\n      .addCase(requestSchedule.pending,(state, action) => {\n        state.loading = true\n        state.error = false\n        state.activeSchedule = null\n        \n        const { add = true, href } = action.meta.arg\n        if(add)\n          state.history.push(href.replace('&', ''))\n      })\n      .addCase(requestSchedule.rejected,(state) => {\n        state.loading = false\n        state.error = true\n        state.isDiff = false\n      })\n      .addCase(requestSchedule.fulfilled,(state, action) => {\n        state.loading = false\n        state.error = false\n        const {uniq, schedule} = action.payload\n        state.activeSchedule = schedule as ScheduleData\n        if(uniq)\n          state.schedules.push(schedule)\n\n        if(!schedule.exams && state.activeMode.id === 'exams')\n          state.activeMode = initialState.activeMode\n      })\n  },\n})\n\nexport const { changeMode, changeDay, changeWeek, setSubject, popHistory, setIsDiff, clearHistory } = scheduleSlice.actions\nexport default scheduleSlice.reducer","import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport { FromWhom } from \"../../types/ILesson\";\nimport API from '../../API'\nimport { ScheduleData } from \"./schedule\";\n\ninterface User\n{\n  id : number\n  group : string\n  myGroup : ScheduleData | null\n  fromWhoms : FromWhom[]  \n}\n\ninterface ProfileState\n{\n  loadingStreams : boolean\n  errorStreams : boolean\n  streams : FromWhom[]\n\n  user : User | null\n  userId : number | null\n  loadingUser : boolean\n  errorUser : boolean\n}\n\nexport const requestStreams = createAsyncThunk(\n  'streams/request', API.getStreams\n)\n\nexport const requestUser = createAsyncThunk(\n  'user/request',\n  async (id : number) => {\n    const user = await API.requestUser(id)\n    if(user) return user\n\n    const res = await API.registerUser(id)\n\n    return res\n  }\n)\n\nexport const addGroup = createAsyncThunk(\n  'group/add',\n  async ({uid, group} : {uid : number, group : string}) => {\n    const data = await API.addGroup({uid, group})\n\n    return data\n  }\n)\n\nexport const delGroup = createAsyncThunk(\n  'group/del',\n  async (id : number) => {\n    const data = await API.delGroup(id)\n\n    return data\n  }\n)\n\nconst initialState : ProfileState = {\n  loadingStreams : false,\n  errorStreams : false,\n  streams : [],\n\n  user : null,\n  // user : { id : 17, groupId : '', myGroup : null, fromWhoms : [] },\n  userId : null,\n  loadingUser : true,\n  errorUser : false,\n}\n\nconst profileSlice = createSlice({\n  name : 'profile',\n  initialState,\n  reducers : {},\n  extraReducers(builder)\n  {\n    builder\n      .addCase(requestUser.pending, (state, action) => {\n        state.loadingUser = true\n        state.errorUser = false\n        state.userId = action.meta.arg\n      })\n      .addCase(requestUser.rejected, (state) => {\n        state.loadingUser = false\n        state.errorUser = true\n      })\n      .addCase(requestUser.fulfilled, (state, action) => {\n        state.loadingUser = false\n        state.errorUser = false\n        state.user = action.payload\n      })\n\n      .addCase(addGroup.pending, (state) => {\n        state.loadingUser = true\n        state.errorUser = false\n      })\n      .addCase(addGroup.rejected, (state) => {\n        state.loadingUser = false\n        state.errorUser = true\n      })\n      .addCase(addGroup.fulfilled, (state, action) => {\n        state.loadingUser = false\n        state.errorUser = false\n        state.user!.group = action.payload.group\n        state.user!.myGroup = action.payload.myGroup\n        state.user!.fromWhoms = action.payload.fromWhoms\n      })\n\n      .addCase(delGroup.pending, (state) => {\n        state.loadingUser = true\n        state.errorUser = false\n      })\n      .addCase(delGroup.rejected, (state) => {\n        state.loadingUser = false\n        state.errorUser = true\n      })\n      .addCase(delGroup.fulfilled, (state) => {\n        state.loadingUser = false\n        state.errorUser = false\n        state.user!.group = ''\n        state.user!.myGroup = null\n        state.user!.fromWhoms = []\n      })\n\n      .addCase(requestStreams.pending, (state) => {\n        state.loadingStreams = true\n        state.errorStreams = false\n      })\n      .addCase(requestStreams.rejected, (state) => {\n        state.loadingStreams = false\n        state.errorStreams = true\n      })\n      .addCase(requestStreams.fulfilled, (state, action) => {\n        state.loadingStreams = false\n        state.errorStreams = false\n        state.streams = action.payload\n      })\n  }\n})\n\nexport default profileSlice.reducer","import { combineReducers } from \"@reduxjs/toolkit\"\n\nimport navigation from './slices/navigation'\nimport search from './slices/search'\nimport schedule from './slices/schedule'\nimport profile from './slices/profile'\n\nconst rootReducer = combineReducers({\n  navigation,\n  search,\n  schedule,\n  profile,\n})\n\nexport type RootState = ReturnType<typeof rootReducer>\nexport default rootReducer","import { configureStore } from \"@reduxjs/toolkit\"\n\nimport rootReducer from './rootReducer'\n\nconst store = configureStore({ reducer : rootReducer })\n\nexport default store","import React from 'react'\nimport './Title.sass'\n\nimport { Card, Div, Link, Spinner } from '@vkontakte/vkui'\nimport Icon28Favorite from '@vkontakte/icons/dist/28/favorite'\nimport Icon28ViewOutline from '@vkontakte/icons/dist/28/view_outline'\n\nexport interface TitleProps\n{\n  title : string\n  href ?: string\n  isDiff ?: boolean\n  mySchedule ?: boolean\n  loading ?: boolean\n}\n\nconst Title : React.FC<TitleProps> = ({\n  title,\n  href,\n  mySchedule = false,\n  isDiff = false,\n  loading = false\n}) => {\n  const link = `http://www.bstu.ru/static/themes/bstu/schedule/index.php${href}`\n  return(\n    <Div>\n      <Card>\n        <Div className='title'>\n          {isDiff && <Icon28ViewOutline height=\"20\" width=\"20\" fill=\"#4bb34b\" />}\n          {href ? <Link href={link}>{title}</Link> : title}\n          {loading && <Spinner size=\"small\" className=\"title__spinner\" />}\n          {!loading && mySchedule && <Icon28Favorite height=\"20\" width=\"20\" fill=\"#cc00ff\" />}\n        </Div>\n      </Card>\n    </Div>\n  )\n}\n\nexport default Title","import React from 'react'\nimport './Lesson.sass'\n\nimport Icon28InfoCircleOutline from '@vkontakte/icons/dist/28/info_outline'\n\nimport { FromWhom, ILesson } from '../../types/ILesson'\nimport { requestSchedule, setIsDiff, setSubject } from '../../redux/slices/schedule'\nimport { useDispatch } from 'react-redux'\nimport { useLastSchedules } from '../../utils'\nimport { COUNT_LAST_SCHEDULES } from '../../constans'\n\ninterface LessonProps extends ILesson\n{\n  current : boolean\n  infoShow : boolean\n}\n\nconst Lesson : React.FC<LessonProps> = ({\n  time,\n  place,\n  type,\n  subject,\n  fromWhoms,\n  current,\n  infoShow\n}) => {\n  const dispatch = useDispatch()\n\n  const { setLast } = useLastSchedules(COUNT_LAST_SCHEDULES)\n  \n  const getStats = (subject : string) => {\n    if(type > 2) return\n    \n    const s = subject.replace(/\\(\\d гр.\\)/,'')\n    dispatch(setSubject(s))\n  }\n\n  const goToSchedule = (s : FromWhom) => {\n    setLast(s)\n    dispatch(requestSchedule({href : s.href}))\n    dispatch(setIsDiff(false))\n  }\n\n  return(\n    <div className=\"lesson-wrapper\">\n      <div className={`lesson__time ${current ? `lesson__time-current` : ''}`}>\n        {time?.map((t, i) => <div key={i}>{t}</div> )}\n      </div>\n      <div className={`lesson__info lesson__info-${['lec', 'pr', 'lab', 'cons', 'exam'][type]}`}>\n        <div className=\"lesson__place\">{place}</div>\n        <div\n          className=\"lesson__subject\"\n          onClick={() => getStats(subject)}\n        >\n          <div className=\"lesson__subject-text\">{subject}</div>\n          {infoShow && <Icon28InfoCircleOutline style={{marginLeft:4}} width=\"18\" height=\"18\"/>}\n        </div>\n        <div className=\"lesson__fromWhoms\">\n          {fromWhoms.map((fw, i) => {\n            return(\n              <div\n                key={i}\n                className=\"linkable\"\n                onClick={() => goToSchedule(fw)}\n              >{fw.title}</div>\n            )\n          })}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Lesson","import React from 'react'\n\nimport { Card, Div } from '@vkontakte/vkui'\n\nimport Lesson from '../Lesson'\n\nimport { ILesson } from '../../types/ILesson'\nimport { Day } from '../../types/Day'\nimport { Week } from '../../types/Week'\nimport { currentLesson } from '../../utils'\n\nexport interface DayCardProps\n{\n  lessons : ILesson[]\n  day ?: Day\n  week ?: Week\n  infoShow ?: boolean\n}\n\nconst DayCard : React.FC<DayCardProps> = ({\n  lessons,\n  day,\n  week,\n  infoShow = true\n}) => {\n  return(\n    <Div>\n      <Card className='day-card'>\n        <Div>\n          {lessons.map((l,i) => {\n            const isExam = day === undefined && week === undefined\n            const current = isExam ? false : currentLesson(l.time!, day!, week!)\n\n            return <Lesson infoShow={infoShow} key={i} {...l} current={current} />\n          })}\n        </Div>\n      </Card>\n    </Div>\n  )\n}\n\nexport default DayCard","import React from 'react'\nimport './Cell.sass'\n\nimport { PlainLesson } from '../../types/PlainLesson'\nimport { currentLesson, currentWeek, getTimeByLesson } from '../../utils'\nimport { useDispatch } from 'react-redux'\nimport { requestSchedule, setIsDiff, setSubject } from '../../redux/slices/schedule'\nimport { useLastSchedules } from '../../utils'\nimport { FromWhom } from '../../types/ILesson'\nimport { COUNT_LAST_SCHEDULES } from '../../constans'\n\ninterface SingleCellProps\n{\n  column : number\n  row : number\n  lesson : PlainLesson\n}\n\nconst SingleCell : React.FC<SingleCellProps> = ({\n  lesson,\n  column,\n  row\n}) => {\n  const dispatch = useDispatch()\n\n  const { setLast } = useLastSchedules(COUNT_LAST_SCHEDULES)\n\n  const getStats = (subject : string) => {\n    const s = subject.replace(/\\(\\d гр.\\)/,'')\n    dispatch(setSubject(s))\n  }\n\n  const goToSchedule = (s : FromWhom) => {\n    setLast(s)\n    dispatch(requestSchedule({href : s.href}))\n    dispatch(setIsDiff(false))\n  }\n\n  const w = lesson.coords.z\n  const cn = [\n    lesson.coords.j === 3 ? 'break_bottom' : '',\n    currentLesson(getTimeByLesson(lesson.coords.j), lesson.coords.i, w === 2 ? currentWeek() : w) ? 'current' : ''\n  ].join(' ')\n\n  return(\n    <div\n      className={`cell cell__single cell__single-${['lec', 'pr', 'lab'][lesson.type]}`}\n      style={{\n        gridRow : row,\n        gridColumn : column,\n      }}\n    >\n      <div className=\"cell__single-place\">{lesson.place}</div>\n      <div\n        className={`cell__single-subject ${cn}`}\n        onClick={() => getStats(lesson.subject)}\n      >{lesson.subject}</div>\n      <div className=\"cell__single-fromWhoms\">\n        {lesson.fromWhoms.map((fw, i) => {\n          return <div\n            key={i}\n            onClick={() => goToSchedule(fw)}\n            className={'linkable'}\n          >{fw.title}</div>\n        })}\n      </div>\n    </div>\n  )\n}\n\nexport default SingleCell","import React from 'react'\nimport './Cell.sass'\n\nimport { PlainLesson } from '../../types/PlainLesson'\nimport SingleCell from './SingleCell'\n\ninterface HalfCellProps\n{\n  column : number\n  row : number\n  lessons : PlainLesson[]\n}\n\nconst HalfCell : React.FC<HalfCellProps> = ({\n  column,\n  row,\n  lessons\n}) => {\n  const isHalf = lessons[0].coords.k === 2\n  const grid = {[`gridTemplate${isHalf ? 'Rows' : 'Columns'}`] : 'repeat(2,1fr)'}\n\n  return(\n    <div\n      className=\"cell__half\"\n      style={{\n        ...grid,\n        gridRow : row,\n        gridColumn : column,\n      }}\n    >\n      {lessons.map((l, i) => {\n        const column = isHalf ? 1 : l.coords.k + 1\n        const row = isHalf ? l.coords.z + 1 : 1\n\n        return <SingleCell key={i} column={column} row={row} lesson={l} />\n      })}\n    </div>\n  )\n}\n\nexport default HalfCell","import React from 'react'\nimport './Cell.sass'\n\nimport { PlainLesson } from '../../types/PlainLesson'\nimport SingleCell from './SingleCell'\n\ninterface QuarterCellProps\n{\n  column : number\n  row : number\n  lessons : PlainLesson[]\n}\n\nconst QuarterCell : React.FC<QuarterCellProps> = ({\n  column,\n  row,\n  lessons\n}) => {\n  return(\n    <div\n      className=\"cell__quarter\"\n      style={{\n        gridRow : row,\n        gridColumn : column,\n      }}\n    >\n      {lessons.map((l, i) => {\n        const column = l.coords.k + 1\n        const row = l.coords.z + 1\n\n        return <SingleCell key={i} column={column} row={row} lesson={l} />\n      })}\n    </div>\n  )\n}\n\nexport default QuarterCell","import React from 'react'\nimport './FullSchedule.sass'\n\nimport { Card } from '@vkontakte/vkui'\n\nimport SingleCell from '../Cell/SingleCell'\nimport HalfCell from '../Cell/HalfCell'\nimport QuarterCell from '../Cell/QuarterCell'\n\nimport { IDay } from '../../utils/fullSchedule'\nimport { PlainLesson } from '../../types/PlainLesson'\nimport { currentDay, fullSchedule } from '../../utils'\n\ninterface FullScheduleProps\n{\n  schedule : PlainLesson[]\n}\n\nconst HEADERS = [\n  'Время',\n  'Понедельник',\n  'Вторник',\n  'Среда',\n  'Четверг',\n  'Пятница',\n  'Суббота'\n]\n\nconst TIME = [\n  ['08:15', '09:50'],\n  ['10:00', '11:35'],\n  ['11:45', '12:35', '13:20','14:10'],\n  ['14:20', '15:55'],\n  ['16:05', '17:40'],\n  ['17:50', '19:25'],\n  ['19:35', '21:10'],\n]\n\nconst FullSchedule : React.FC<FullScheduleProps> = ({\n  schedule\n}) => {\n  const lastLessonNum = schedule.reduce((max : number, l) => {\n    const j = l.coords.j\n    const lessonNum = j > 2 ? j - 1 : j\n\n    return lessonNum > max ? lessonNum : max\n  }, 0)\n\n  const full = fullSchedule(schedule)\n\n  return(\n    <div className=\"card__wrapper-vertical\">\n      <div className=\"card__wrapper-horizontal\">\n        <div\n          className=\"card__container\"\n          style={{\n            gridTemplateRows : `18px repeat(${lastLessonNum + 1},auto)`\n          }}\n        >\n          {HEADERS.slice(0, full[full.length - 1].day + 2).map((h, i) => {\n            const cn = (currentDay() + 1 === i) ? 'current' : ''\n\n            return <div\n              key={i}\n              className={`card__cell card__cell-header ${cn}`}\n              style={{ gridRow : 1, gridColumn : i + 1 }}\n            >{h}</div>\n          })}\n          {TIME.slice(0, lastLessonNum + 1).map((time, i) => {\n            return <div\n              key={i}\n              className=\"card__cell card__cell-time\"\n              style={{ gridRow : i + 2, gridColumn : 1 }}\n            >\n              {time.map((t, j) => {\n                const cn = (i === 2 && (j === 1 || j === 3)) ? 'break-bottom' : ''\n\n                return <div key={j} className={cn}>{t}</div>\n              })}\n            </div>\n          })}\n          {\n            full.reduce((cells : React.ReactNode[], d : IDay) : React.ReactNode[] => {\n              const lessons = d.lessons.map(l => {\n                const column = d.day + 2\n                const row = l.lessonNum + 2\n\n                const isHalf = l.children[0].coords.z !== 2\n                const isHalfQuarter = l.children[0].coords.k !== 2\n                const isQuarter = isHalf && isHalfQuarter\n\n                const key = Object.values(l.children[0].coords).reduce((k : string,c : number) : string => k + c ,'')\n\n                if(isQuarter) return <QuarterCell key={key} column={column} row={row} lessons={l.children} />\n                else if(isHalf) return <HalfCell key={key} column={column} row={row} lessons={l.children} />\n                else if(isHalfQuarter) return <HalfCell key={key} column={column} row={row} lessons={l.children} />\n                else return <SingleCell key={key} column={column} row={row} lesson={l.children[0]} />\n              })\n\n              return [...cells, ...lessons] as React.ReactNode[]\n            }, [])\n          }\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default FullSchedule","import { Day } from \"../types/Day\";\nimport { Lesson } from \"../types/Lesson\";\nimport { PlainLesson } from \"../types/PlainLesson\";\n\ninterface ILesson\n{\n  lessonNum : Lesson\n  children : PlainLesson[]\n}\n\nexport interface IDay\n{\n  day : Day\n  lessons : ILesson[]\n}\n\nexport const fullSchedule = (schedule : PlainLesson[]) : IDay[] => {\n  const data : IDay[] = []\n\n  schedule.forEach((l,i) => {\n    const dayId = l.coords.i\n    const j = l.coords.j\n    const lessonId = (j > 2 ? j - 1 : j) as Lesson\n    \n    if(!data[dayId])\n      data[dayId] = { day : dayId, lessons : [] }\n      \n    if(!data[dayId].lessons[lessonId])\n      data[dayId].lessons[lessonId] = { lessonNum: lessonId, children: [] }\n      \n    data[dayId].lessons[lessonId].children.push(l)\n  })\n  \n  return data\n}","import React from 'react'\nimport './TabsSchedule.sass'\n\nimport { Tabs, TabsItem } from '@vkontakte/vkui'\n\nimport { Day } from '../../types/Day'\nimport { Week } from '../../types/Week'\nimport { currentDay, currentWeek } from '../../utils'\nimport { useDispatch } from 'react-redux'\nimport { changeDay, changeWeek } from '../../redux/slices/schedule'\n\nexport interface TabsScheduleProps\n{\n  week : Week\n  day : Day\n}\n\nconst DAYS = ['ПН','ВТ','СР','ЧТ','ПТ','СБ']\n\nconst TabsSchedule : React.FC<TabsScheduleProps> = ({\n  week,\n  day,\n}) => {\n  const dispatch = useDispatch()\n\n  return(\n    <>\n      <Tabs mode=\"default\" style={{ fontSize : '12px' }}>\n        <TabsItem\n          style={{ color : currentWeek() === 0 ? 'red' : '' }}\n          onClick={() => dispatch(changeWeek(0))} selected={week === 0}\n        >Числитель</TabsItem>\n        <TabsItem\n          style={{ color : currentWeek() === 1 ? 'red' : '' }}\n          onClick={() => dispatch(changeWeek(1))} selected={week === 1}\n        >Знаменатель</TabsItem>\n      </Tabs>\n      <Tabs mode=\"default\" style={{ fontSize : '12px' }}>\n        {DAYS.map((d, i) => {\n          const selected = i === day\n\n          return <TabsItem\n            key={i}\n            selected={selected}\n            style={{ color : currentDay() === i ? 'red' : '' }}\n            onClick={() => dispatch(changeDay(i as Day))}\n          >{d}</TabsItem>\n        })}\n      </Tabs>    \n    </>\n  )\n}\n\nexport default TabsSchedule","import React from 'react'\nimport { Gallery } from '@vkontakte/vkui'\n\nimport DayCard from '../DayCard'\nimport TabsSchedule from '../TabsSchedule'\nimport { selectDay } from '../../utils'\nimport { PlainLesson } from '../../types/PlainLesson'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { changeDay } from '../../redux/slices/schedule'\nimport { RootState } from '../../redux/rootReducer'\nimport { Day } from '../../types/Day'\n\ninterface ByDayProps\n{\n  schedule : PlainLesson[]\n}\n\nconst DAYS = [0,1,2,3,4,5]\n\nconst ByDay : React.FC<ByDayProps> = ({\n  schedule\n}) => {\n  const dispatch = useDispatch()\n  const { day, week } = useSelector((s : RootState) => s.schedule)\n  \n  const dayChange = (d : Day) => dispatch(changeDay(d))\n\n  return(\n    <>\n      <TabsSchedule week={week} day={day} />\n      <Gallery\n        style={{height:'100%'}}\n        slideIndex={day}\n        onChange={dayChange}\n      >\n        {DAYS.map(d => {\n          return <DayCard key={d} day={day} week={week} lessons={selectDay(schedule, d, week)} />\n        })}\n      </Gallery>\n    </>\n  )\n}\n\nexport default ByDay","import React from 'react'\n\nimport Icon28ArticleOutline from '@vkontakte/icons/dist/28/article_outline' // по дням\nimport Icon28GridSquareOutline from '@vkontakte/icons/dist/28/grid_square_outline' // полностью\nimport Icon28Users3Outline from '@vkontakte/icons/dist/28/users_3_outline' // экзамены\nimport Icon28FavoriteOutline from '@vkontakte/icons/dist/28/favorite_outline' // сохранить\nimport Icon28UnfavoriteOutline from '@vkontakte/icons/dist/28/unfavorite_outline' // удалить\nimport Icon28ViewOutline from '@vkontakte/icons/dist/28/view_outline' // разница\nimport Icon28HideOutline from '@vkontakte/icons/dist/28/hide_outline' // без разницы\n\nexport type MenuItemId =  'byDays' | 'full' | 'exams' | 'without_diff' | 'with_diff' | 'save' | 'delete'\n\ninterface MenuItemIconProps\n{\n  id : MenuItemId\n}\n\nconst MenuItemIcon : React.FC<MenuItemIconProps> = ({\n  id\n}) => {\n  switch(id)\n  {\n    case 'byDays': return <Icon28ArticleOutline />\n    case 'full': return <Icon28GridSquareOutline />\n    case 'exams': return <Icon28Users3Outline />\n    case 'save': return <Icon28FavoriteOutline fill=\"orange\" />\n    case 'delete': return <Icon28UnfavoriteOutline fill=\"red\" />\n    case 'with_diff': return <Icon28ViewOutline fill=\"#4bb34b\" />\n    case 'without_diff': return <Icon28HideOutline fill=\"gray\" />\n  }\n}\n\nexport default MenuItemIcon","import React from 'react'\nimport './Schedule.sass'\n\nimport { Button, Cell, List, Panel, PanelHeader, PanelHeaderBack, PanelHeaderContent, PanelHeaderContext, PanelSpinner, Placeholder } from \"@vkontakte/vkui\"\nimport Icon16Dropdown from '@vkontakte/icons/dist/16/dropdown'\nimport Icon24Done from '@vkontakte/icons/dist/24/done'\n\nimport Title from '../../components/Title'\nimport DayCard from '../../components/DayCard'\nimport FullSchedule from '../../components/FullSchedule'\nimport ByDay from '../../components/ByDay'\n\nimport { ILesson } from '../../types/ILesson'\nimport { PlainLesson } from '../../types/PlainLesson'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { RootState } from '../../redux/rootReducer'\nimport { changeMode, popHistory, requestSchedule, setIsDiff } from '../../redux/slices/schedule'\nimport { changePanel } from '../../redux/slices/navigation'\nimport { SCHEDULE_STORY, SEARCH_PANEL } from '../../constans'\nimport { addGroup, delGroup } from '../../redux/slices/profile'\nimport MenuItemIcon, { MenuItemId } from './MenuItemIcon'\nimport { getDiff } from '../../utils/'\n\ninterface ISchedulePanelProps\n{\n  id : string\n}\n\nexport type MenuItem = { text : string, id : string }\nconst MENU = [\n  { text : 'По дням', id : 'byDays' },\n  { text : 'Полностью', id : 'full' },\n  { text : 'Экзамены', id : 'exams' },\n  { text : 'Без разницы', id : 'without_diff' },\n  { text : 'Разница', id : 'with_diff' },\n  { text : 'Сохранить', id : 'save' },\n  { text : 'Удалить', id : 'delete' },\n]\n\nconst Schedule : React.FC<ISchedulePanelProps> = ({\n  id,\n}) => {\n  const dispatch = useDispatch()\n  const { activeMode, activeSchedule, loading, error, history, isDiff } = useSelector((s : RootState) => s.schedule)\n  const { user, loadingUser } = useSelector((s : RootState) => s.profile)\n\n  const [menuOpened, setMenuOpened] = React.useState<boolean>(false)\n  const toggleMenu = () => setMenuOpened(!menuOpened && !loading)\n\n  const selectMenuItem = (item : MenuItem) => {\n    if(item.id !== activeMode.id)\n    {\n      if(item.id === 'save' && user)\n      {\n        dispatch(addGroup({uid : user.id, group : history[history.length-1]}))\n        dispatch(setIsDiff(false))\n      }\n      else if(item.id === 'delete' && user)\n      {\n        dispatch(delGroup(user.id))\n        dispatch(setIsDiff(false))\n      }\n      else if(item.id === 'with_diff' || item.id === 'without_diff')\n      {\n        dispatch(setIsDiff(item.id === 'with_diff'))\n      }\n      else if(item.id === 'exams')\n      {\n        dispatch(changeMode(item))\n        dispatch(setIsDiff(false))\n      }\n      else dispatch(changeMode(item))\n    }\n\n    requestAnimationFrame(toggleMenu)\n  }\n\n  const goBack = () => {\n    dispatch(popHistory())\n\n    if(history.length < 2)\n      dispatch(changePanel({story : SCHEDULE_STORY, panel : SEARCH_PANEL}))\n  }\n\n  const handleError = () => {\n    dispatch(requestSchedule({href : history[history.length - 1], add : false}))\n  }\n\n  const diff = React.useMemo(() => {\n    if(isDiff && user && user.myGroup && activeSchedule)\n      return getDiff(activeSchedule.schedule as PlainLesson[], user.myGroup.schedule)\n\n    return []\n  }, [isDiff, user, activeSchedule])\n\n  return(\n    <Panel id={id}>\n      <PanelHeader left={<PanelHeaderBack onClick={goBack} />}>\n        <div onClick={toggleMenu} className='header'>\n          {activeMode.text}\n          <Icon16Dropdown fill='var(--accent)' style={{ transform: `rotate(${menuOpened && activeSchedule ? '180deg' : '0'})` }} />\n        </div>\n      </PanelHeader>\n      {activeSchedule &&\n        <PanelHeaderContext\n          opened={menuOpened}\n          onClose={toggleMenu}\n        >\n          <List>\n            {MENU.map((item,i) => {\n              const notExams = !activeSchedule?.exams && item.id === 'exams'\n              const examsSelected = activeMode.id === 'exams' && (item.id === 'with_diff' || item.id === 'without_diff')\n\n              const myGroup = user && user.group === activeSchedule.href\n              const myGroupSave = myGroup && item.id === 'save'\n              const notMyGroupDelete = !myGroup && item.id === 'delete'\n\n              const withoutDiff = isDiff && item.id === 'with_diff'\n              const withDiff = !isDiff && item.id === 'without_diff'\n              const ownDiff = (item.id === 'without_diff' || item.id === 'with_diff') && myGroup\n\n              const notUserGroup = user && !user.group && (item.id === 'with_diff' || item.id === 'without_diff')\n\n              if(\n                examsSelected ||\n                notExams ||\n                myGroupSave ||\n                notMyGroupDelete ||\n                withoutDiff ||\n                withDiff ||\n                ownDiff ||\n                notUserGroup\n              ) return\n\n              let cn = ''\n              if(item.id === 'save') cn = 'save'\n              else if(item.id === 'delete') cn = 'delete'\n\n              return <Cell\n                key={i}\n                before={<MenuItemIcon id={item.id as MenuItemId} />}\n                onClick={() => selectMenuItem(item)}\n                className={cn}\n                asideContent={activeMode.id === item.id ? <Icon24Done fill='var(--accent)' /> : null}\n              >{item.text}</Cell>\n            })}        \n          </List>\n        </PanelHeaderContext>\n      }\n      \n      {loading && <PanelSpinner />}\n      {error && \n        <Placeholder\n          action={<Button mode=\"tertiary\" onClick={handleError}>Попробовать еще</Button>}\n          stretched\n        >Произошла ошибка</Placeholder>\n      }\n      {activeSchedule && <>\n        <Title\n          href={activeSchedule.href}\n          isDiff={isDiff}\n          mySchedule={(user && user.group === activeSchedule.href) as boolean}\n          title={activeSchedule!.title}\n          loading={loadingUser}\n        />\n        {activeMode.id === 'exams' && <DayCard infoShow={false} lessons={activeSchedule!.exams as ILesson[]} />}\n        {activeMode.id === 'byDays' &&\n          <ByDay schedule={isDiff ? diff : activeSchedule.schedule as PlainLesson[]}/>\n        }\n        {activeMode.id === 'full' &&\n          <FullSchedule schedule={isDiff ? diff : activeSchedule.schedule as PlainLesson[]}/>\n        }\n      </>}\n    </Panel>\n  )\n}\n\nexport default Schedule","import { PlainLesson, Coords } from \"../types/PlainLesson\"\n\nexport const getDiff = (a : PlainLesson[], b : PlainLesson[]) : PlainLesson[] => {  \n  const isEqual = (a : Coords, b : Coords) : boolean => {\n    const dayEqual = a.i === b.i\n    const lessonNumEqual = a.j === b.j\n    const weekEqual = a.z === b.z || a.z === 2 || b.z === 2\n    const groupEqual = a.k === b.k || a.k === 2 || b.k === 2\n\n    return dayEqual && lessonNumEqual && weekEqual && groupEqual\n  }\n  \n  return a.filter(la => !b.find(lb => isEqual(la.coords, lb.coords)))\n}","import React from 'react'\nimport './Profile.sass'\n\nimport { Avatar, Banner, Button, Card, CardScroll, CellButton, Div, Group, Header, InfoRow, Link, Panel, PanelHeader, PanelHeaderButton, PanelSpinner, Placeholder, Progress, SimpleCell, Snackbar, Spinner, Text, usePlatform } from \"@vkontakte/vkui\"\nimport Icon28GlobeOutline from '@vkontakte/icons/dist/28/globe_outline'\nimport Icon16Favorite from '@vkontakte/icons/dist/16/favorite';\nimport Icon16OnlineMobile from '@vkontakte/icons/dist/16/online_mobile';\nimport Icon16Share from '@vkontakte/icons/dist/16/share';\nimport Icon16ErrorCircleOutline from '@vkontakte/icons/dist/16/error_circle_outline';\nimport Icon16DoneCircle from '@vkontakte/icons/dist/16/done_circle';\nimport Icon24NotificationOutline from '@vkontakte/icons/dist/24/notification_outline';\nimport Icon24NotificationSlashOutline from '@vkontakte/icons/dist/24/notification_slash_outline';\nimport Icon28SnowflakeOutline from '@vkontakte/icons/dist/28/snowflake_outline';\nimport Icon16Users from '@vkontakte/icons/dist/16/users';\nimport bridge from '@vkontakte/vk-bridge'\n\nimport bg1 from '../../assets/banner_bg.jpg'\nimport bg2 from '../../assets/banner_bg1.jpg'\nimport bg3 from '../../assets/dp.png'\nimport qoutes from '../../data/qoutes.json'\n\nimport {currentWeek, toEnd } from '../../utils'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { changePanel, changeStory } from '../../redux/slices/navigation'\nimport { COUNT_LAST_SCHEDULES, MAP_PANEL, PROFILE_STORY, SCHEDULE_PANEL, SCHEDULE_STORY, SEARCH_PANEL } from '../../constans'\nimport { RootState } from '../../redux/rootReducer'\nimport { clearHistory, requestSchedule, setIsDiff } from '../../redux/slices/schedule'\nimport { delGroup, requestStreams } from '../../redux/slices/profile'\nimport { FromWhom } from '../../types/ILesson'\nimport { useLastSchedules } from '../../utils'\n\n\ninterface IProfilePanelProps\n{\n  id : string\n}\n\nconst Profile : React.FC<IProfilePanelProps> = ({\n  id,\n}) => {\n  const platform = usePlatform()\n  \n  const dispatch = useDispatch()\n  const {\n    user, loadingUser, errorUser, userId,\n    streams, loadingStreams, errorStreams,\n  } = useSelector((s : RootState) => s.profile)\n\n  const [snackbar, setSnackbar] = React.useState<React.ReactElement | null>(null)\n  const openSnackbar = (text : string) => {\n    setSnackbar(\n      <Snackbar\n        before={\n          <Avatar size={24} style={{backgroundColor:'var(--accent)'}}>\n            <Icon16DoneCircle fill=\"#fff\" width={14} height={14} />\n          </Avatar>\n        }\n        onClose={() => setSnackbar(null)}\n      >{text}</Snackbar>\n    )\n  }\n\n  const { setLast } = useLastSchedules(COUNT_LAST_SCHEDULES)\n  const [now, total, diff] = toEnd()\n\n  const goToSchedule = (s : FromWhom) => {\n    setLast(s)\n    dispatch(requestSchedule({href : s.href}))\n    dispatch(changeStory(SCHEDULE_STORY))\n    dispatch(changePanel({story:SCHEDULE_STORY,panel:SCHEDULE_PANEL}))\n  }\n\n  const addToFavorites = () => {\n    bridge.send('VKWebAppAddToFavorites')\n      .then(_=>openSnackbar('Добавлено в избранное'))\n      .catch(err=>err)\n  }\n\n  const allowNotifications = () => {\n    bridge.send('VKWebAppAllowNotifications')\n      .then(_=>openSnackbar('Уведомления разрешены'))\n      .catch(err=>err)\n  }\n  \n  const addToHomeScreen = () => {\n    bridge.send('VKWebAppAddToHomeScreen')\n      .then(res=>res)\n      .catch(err=>err)\n  }\n\n  const share = () => {\n    bridge.send('VKWebAppShare')\n      .then(res=>res)\n      .catch(err=>err)\n  }\n\n  const joinGroup = () => {\n    bridge.send('VKWebAppJoinGroup',{group_id:198278031})\n      .then(res=>res)\n      .catch(err=>err)    \n  }\n\n  const qoute = qoutes.find(q => q.id === diff)!\n  \n  return(\n    <Panel id={id}>\n      <PanelHeader\n        left={\n          <PanelHeaderButton\n            onClick={() => dispatch(changePanel({story : PROFILE_STORY, panel : MAP_PANEL}))}\n          ><Icon28GlobeOutline /></PanelHeaderButton>\n        }\n      >Профиль</PanelHeader>\n\n      {!loadingUser && !errorUser &&\n        <Group>\n          <Banner\n            mode=\"image\"\n            header={`Текущая неделя : ${currentWeek() === 0 ? 'числитель' : 'знаменатель'}`}\n            subheader={`Конец семестра 30.05.2021г`}\n            background={\n              <div\n                style={{\n                  backgroundColor: '#65c063',\n                  backgroundImage: `url(${bg2})`,\n                  backgroundPosition: 'right bottom',\n                  backgroundSize: 320,\n                  backgroundRepeat: 'no-repeat',\n                }}\n              />\n            }\n            actions={\n              <InfoRow style={{marginTop:4}} header={`Осталось ${diff} дн.`}>\n                <Progress\n                  style={{width:'70%', marginTop : 8, background : 'gray'}}\n                  value={(now / total) * 100}\n                />\n              </InfoRow>\n            }\n          />\n\n          <Div style={{padding:'0 12px'}}>\n            <Card>\n              <SimpleCell\n                disabled\n                before={<Avatar size={40} src={qoute.photo} />}\n                description=\"Цитата на день\"\n              >{qoute.author}</SimpleCell>\n              <Div style={{paddingTop:0,fontStyle:'italic'}}>\n                {qoute.text}\n              </Div>\n            </Card>\n          </Div>\n\n          <Div style={{paddingBottom : 0}}>\n            <Card>\n              <Header>Действия</Header>\n              <CellButton\n                before={<Icon16Favorite/>}\n                onClick={addToFavorites}\n                style={{color:'orange'}}\n              >В избранное</CellButton>\n              {platform === 'android' &&\n                <CellButton\n                  before={<Icon16OnlineMobile/>}\n                  onClick={addToHomeScreen}\n                >На дом. экран</CellButton>\n              }\n              <CellButton\n                before={<Icon16Users/>}\n                onClick={joinGroup}\n                style={{color:'green'}}\n              >Вступить в группу</CellButton>\n              <CellButton\n                before={<Icon16Share/>}\n                onClick={share}\n              >Поделиться</CellButton>\n            </Card>\n          </Div>\n\n          <Div style={{paddingBottom : (user && user.myGroup) ? 0 : 12}}>\n            <Card>\n              <Header>Ваше расписание</Header>\n              {user && user.myGroup\n                ? <>\n                  <CellButton\n                    onClick={() => goToSchedule(user.myGroup!)}\n                  >{user.myGroup.title}</CellButton>\n                  <CellButton\n                    onClick={() => {\n                      dispatch(setIsDiff(false))\n                      dispatch(delGroup(user.id))\n                    }}\n                    style={{color:'red'}}\n                  >Удалить расписание</CellButton>\n                </>\n                : <CellButton\n                    onClick={() => {\n                      dispatch(changeStory(SCHEDULE_STORY))\n                      dispatch(changePanel({story:SCHEDULE_STORY,panel:SEARCH_PANEL}))\n                      dispatch(clearHistory())\n                    }}\n                    style={{color:'orange'}}\n                  >Выбрать</CellButton>\n              }\n            </Card>\n          </Div>\n          {user && user.myGroup &&\n            <Div style={{padding:'0px 12px 12px 12px'}}>\n              <Card>\n                <Group\n                  header={<Header>{user.group.includes('t') ? 'Группы' : 'Преподаватели'}</Header>}\n                  style={{marginTop:8}}\n                >\n                  {user.fromWhoms.map((fw,i) => {\n                    return <CellButton\n                      key={i}\n                      onClick={() => goToSchedule(fw)}\n                    >{fw.title}</CellButton>\n                  })}\n                </Group>\n              </Card>\n            </Div>\n          }\n        </Group>\n      }\n\n      {snackbar}\n    </Panel>\n  )\n}\n\nexport default Profile","export const toEnd = () => {\n  const start = new Date(2021, 0, 25).getTime()\n  const now = new Date().getTime()\n  const end = new Date(2021, 4, 30).getTime()\n\n  const DAYS = 1000 * 60 * 60 * 24\n\n  const wasted = (now - start) / DAYS\n  const total  = (end - start) / DAYS\n  const diff   = (end - now) / DAYS\n\n  return [wasted < 0 ? 0 : wasted, total, diff].map(Math.floor)\n}","import React from 'react'\n\nimport { Cell, Div, Group, Panel, PanelHeader, PanelHeaderBack } from \"@vkontakte/vkui\"\n\nimport map from '../../assets/map.png'\nimport { useDispatch } from 'react-redux'\nimport { changePanel } from '../../redux/slices/navigation'\nimport { PROFILE_PANEL, PROFILE_STORY } from '../../constans'\n\ninterface IMapPanelProps\n{\n  id : string\n}\n\nconst Map : React.FC<IMapPanelProps> = ({\n  id,\n}) => {\n  const dispatch = useDispatch()\n  return(\n    <Panel id={id}>\n      <PanelHeader\n        left={\n          <PanelHeaderBack\n            onClick={() => dispatch(changePanel({story : PROFILE_STORY, panel : PROFILE_PANEL}))}\n          />\n        }\n      >Карта</PanelHeader>\n\n      <Div>\n        <img src={map} alt=\"карта\" style={{width:'100%'}}/>\n      </Div>\n\n      <Div>\n        <Group header=\"Расшифровка аббревиатур\">\n          <Cell>УК - учебный корпус</Cell>\n          <Cell>ГУК - главный учебный корпус</Cell>\n          <Cell>СДК - студенческий дворец культуры</Cell>\n          <Cell>УСК - учебно-спортивный комплекс</Cell>\n        </Group>\n      </Div>\n    </Panel>\n  )\n}\n\nexport default Map","import React from 'react'\nimport './Search.sass'\nimport schedules from '../../data/schedules.json'\n\nimport { Card, CardScroll, CellButton, FixedLayout, List, Panel, PanelHeader, PanelSpinner, Placeholder, Search } from \"@vkontakte/vkui\"\n\nimport { FromWhom } from '../../types/ILesson'\nimport { changePanel } from '../../redux/slices/navigation'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { COUNT_LAST_SCHEDULES, SCHEDULE_PANEL, SCHEDULE_STORY } from '../../constans'\nimport { setQuery, setLoading } from '../../redux/slices/search'\nimport { RootState } from '../../redux/rootReducer'\nimport { clearHistory, requestSchedule } from '../../redux/slices/schedule'\nimport { useLastSchedules } from '../../utils'\n\ninterface ISearchPanelProps\n{\n  id : string\n}\n\nconst SearchPanel : React.FC<ISearchPanelProps> = ({\n  id,\n}) => {\n\n  const dispatch = useDispatch()\n  const {query, loading} = useSelector((s : RootState) => s.search)\n  \n  const { last, setLast } = useLastSchedules(COUNT_LAST_SCHEDULES)\n\n  const filterSearch = (value : string) => (s : FromWhom) =>\n    s.title.toLowerCase().includes(value.toLowerCase())\n    \n  const [searchResult, setSearchResult] = React.useState<typeof schedules>(query ? schedules.filter(filterSearch(query)) : [])\n  React.useEffect(() => {\n    let tid : number | undefined\n    if(query)\n    {\n      tid = setTimeout(() => {\n        dispatch(setLoading(false))\n        setSearchResult(schedules.filter(filterSearch(query)))\n      }, 150) as unknown as number\n    }\n    else\n    {\n      dispatch(setLoading(false))\n      setSearchResult([])\n    }\n\n    return () => clearTimeout(tid)\n  }, [query])\n  const handleChange = (e : React.FormEvent<HTMLInputElement>) => {\n    dispatch(setQuery(e.currentTarget.value))\n    dispatch(setLoading(true))\n  }\n  \n  const goToSchedule = (s : FromWhom) => {\n    setLast(s)\n    dispatch(requestSchedule({href : s.href}))\n    dispatch(changePanel({ story : SCHEDULE_STORY, panel : SCHEDULE_PANEL }))\n  }\n\n  return(\n    <Panel id={id}>\n      <PanelHeader separator={false}>Поиск</PanelHeader>\n      <FixedLayout vertical=\"top\">\n        <Search\n          placeholder=\"Группа или преподаватель\"\n          value={query}\n          onChange={handleChange}\n          after={null}\n        />\n        {last.length !== 0 &&\n          <CardScroll>\n            {last.map(s => {\n              return <Card\n                key={s.href}\n                className=\"last-card\"\n                onClick={() => goToSchedule(s)}\n              >{s.title}</Card>\n            })}\n          </CardScroll>\n        }\n      </FixedLayout>\n      {\n        loading\n          ? <div style={{marginTop:100}}><PanelSpinner/></div>\n          : searchResult.length === 0\n            ? <Placeholder stretched>Ничего не найдено</Placeholder>\n            : (\n              <List style={{ marginTop : 52 + (last.length === 0 ? 0 : 50) }}>\n                {searchResult.map(s => {\n                  return <CellButton\n                    key={s.href}\n                    onClick={() => goToSchedule(s)}\n                  >{s.title}</CellButton>\n                })}\n              </List>\n            )\n      }\n\n    </Panel>\n  )\n}\n\nexport default SearchPanel","import React from 'react'\nimport './StaticsLesson.sass'\n\nimport { CellButton, Div, Group, InfoRow, ModalPage, ModalPageHeader, ModalRoot, PanelHeaderButton, Progress } from '@vkontakte/vkui'\nimport { getStatsLesson } from '../../utils'\nimport Title from '../Title'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { RootState } from '../../redux/rootReducer'\nimport { requestSchedule, setIsDiff, setSubject } from '../../redux/slices/schedule'\nimport { PlainLesson } from '../../types/PlainLesson'\nimport { FromWhom } from '../../types/ILesson'\nimport { useLastSchedules } from '../../utils'\nimport { COUNT_LAST_SCHEDULES } from '../../constans'\n\ninterface StaticsLessonProps{}\n\nconst TYPE_LESSON = {\n  lec : 'Лекции',\n  pr : 'Практики',\n  lab : 'Лабораторные'\n}\n\nconst StaticsLesson : React.FC<StaticsLessonProps> = ({\n  \n}) => {\n  const dispatch = useDispatch()\n  const { activeSubject, activeSchedule } = useSelector((s : RootState) => s.schedule)\n\n  const { setLast } = useLastSchedules(COUNT_LAST_SCHEDULES)\n\n  const closeModal = () => dispatch(setSubject(null))\n\n  const goToSchedule = (s : FromWhom) => {\n    setLast(s)\n    closeModal()\n    dispatch(requestSchedule({href : s.href}))\n    dispatch(setIsDiff(false))\n  }\n  \n  if(!activeSchedule) return null\n  \n  const data = getStatsLesson(activeSubject as string, activeSchedule.schedule)\n\n  return(\n    <ModalRoot\n      activeModal={activeSubject ? 'statics_lesson' : null}\n      onClose={closeModal}\n    >\n      <ModalPage\n        id=\"statics_lesson\"\n        dynamicContentHeight={true}\n        onClose={closeModal}\n        header={\n          <ModalPageHeader\n            right={<PanelHeaderButton onClick={closeModal}>Закрыть</PanelHeaderButton>}\n          >Статистика</ModalPageHeader>\n        }\n      >\n        <Title title={activeSubject as string}/>\n        <Div>\n          <Group header=\"Занятия\" separator=\"hide\">\n            {data && Object.entries(data.stats).map((entrie, i) => {\n              const [key, [now, total]] = entrie\n\n              if(total === 0) return\n\n              return(\n                <Div key={i}>\n                  <InfoRow header={`${TYPE_LESSON[key as keyof typeof TYPE_LESSON]} ${now}/${total}`}>\n                    <Progress className={`progress__${key}`} value={(now / total) * 100} />\n                  </InfoRow>\n                </Div>\n              )\n            })}\n          </Group>\n          {data && data.fromWhoms.length !== 0 &&\n            <Group header={activeSchedule.href.includes('t') ? 'Группы' : 'Преподаватели'} separator=\"hide\">\n              {data.fromWhoms.map(fw => {\n                return <CellButton\n                  key={fw.href}\n                  onClick={() => goToSchedule(fw)}\n                >{fw.title}</CellButton>\n              })}\n            </Group>\n          }\n        </Div>\n      </ModalPage>\n    </ModalRoot>\n  )\n}\n\nexport default StaticsLesson","// import weeks from '../data/weeks.json'\nimport weeks from '../data/weeks_new.json'\n\nimport { FromWhom } from '../types/ILesson'\nimport { PlainLesson } from '../types/PlainLesson'\n\nexport const getStatsLesson = (subject : string, schedule : PlainLesson[]) => {\n  const byWeek = [[0,0],[0,0],[0,0]]\n  const fromWhoms : FromWhom[] = []\n\n  const now = new Date()\n  \n  const dd = now.getDay()\n  const currentDay = dd === 0 ? 6 : dd - 1\n  \n  const d = now.getTime()\n  const currentWeekIndex = weeks.findIndex(({ date : [start, end] }) => start < d && d < end)\n  \n\n  schedule.forEach(l => {\n    if(l.subject === subject)\n    {\n      weeks.forEach((w, i) => {\n        const week = l.coords.z\n        const day = l.coords.i\n        const group = l.coords.k\n\n        if(week === w.week || week === 2)\n        {\n          if(\n            group !== 2 && (l.fromWhoms.length === 2 || week !== 2) ||\n            group === 2\n          )\n            byWeek[l.type][1]++\n          else\n            byWeek[l.type][1] += 0.5\n\n          if(\n            i < currentWeekIndex ||\n            i === currentWeekIndex && day <= currentDay\n          )\n          {\n            if(\n              group !== 2 && (l.fromWhoms.length === 2 || week !== 2) ||\n              group === 2\n            )\n              byWeek[l.type][0]++\n            else\n              byWeek[l.type][0] += 0.5\n          }\n        }\n      })\n\n      l.fromWhoms.map(fw => {\n        if(fromWhoms.find(_ => _.href === fw.href)) return\n\n        fromWhoms.push(fw)\n      })\n    }\n  })\n\n  return {\n    fromWhoms,\n    stats : {\n      lec : byWeek[0].map(Math.floor),\n      pr  : byWeek[1].map(Math.floor),\n      lab : byWeek[2].map(Math.floor),\n    },\n  }\n}","import React from 'react'\n\nimport bridge from '@vkontakte/vk-bridge'\nimport { Button, ConfigProvider, Epic, Placeholder, ScreenSpinner, Tabbar, TabbarItem, View } from '@vkontakte/vkui'\nimport Icon28UserCircleOutline from \"@vkontakte/icons/dist/28/user_circle_outline\"\nimport Icon28GridSquareOutline from \"@vkontakte/icons/dist/28/grid_square_outline\"\nimport Icon28SnowflakeOutline from '@vkontakte/icons/dist/28/snowflake_outline'\n\nimport Schedule from './panels/Schedule'\nimport Profile from './panels/Profile'\nimport Map from './panels/Map'\nimport SearchPanel from './panels/Search'\nimport StaticsLesson from './components/StaticsLesson'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { RootState } from './redux/rootReducer'\nimport { changePanel, changeStory } from './redux/slices/navigation'\nimport { SCHEDULE_PANEL, SCHEDULE_STORY, SEARCH_PANEL } from './constans'\nimport { requestStreams, requestUser } from './redux/slices/profile'\nimport { clearHistory } from './redux/slices/schedule'\n\nconst App : React.FC = () => {\n\tconst dispatch = useDispatch()\n\tconst { story, panels } = useSelector((s : RootState) => s.navigation)\n\tconst { loadingUser, errorUser, userId } = useSelector((s : RootState) => s.profile)\n\n\tconst changeActiveStory = (e : React.MouseEvent<HTMLDivElement>) => {\n\t\tconst newStory = e.currentTarget.dataset.story\n\t\tif(\n\t\t\tnewStory === SCHEDULE_STORY &&\n\t\t\tstory === SCHEDULE_STORY &&\n\t\t\tpanels.schedule === SCHEDULE_PANEL\n\t\t)\n\t\t{\n\t\t\tdispatch(changePanel({story:SCHEDULE_STORY, panel:SEARCH_PANEL}))\n\t\t\tdispatch(clearHistory())\n\t\t}\n\t\telse if(newStory === story) return\n\t\telse dispatch(changeStory(newStory))\n\t}\n\n\tReact.useEffect(() => {\n\t\tasync function init()\n\t\t{\n\t\t\tconst userData = await bridge.send('VKWebAppGetUserInfo')\n\t\t\tdispatch(requestUser(userData.id))\n\t\t}\n\n\t\tinit()\n\t},[])\n\n\tif(errorUser)\n\t\treturn (\n\t\t\t<Placeholder\n\t\t\t\taction={\n\t\t\t\t\t<Button\n\t\t\t\t\t\tmode=\"tertiary\"\n\t\t\t\t\t\tonClick={() => dispatch(requestUser(userId as number))}\n\t\t\t\t\t>Попробовать еще</Button>\n\t\t\t\t}\n\t\t\t\tstretched\n\t\t\t\tclassName=\"placeholder-error\"\n\t\t\t>\n\t\t\t\t<Icon28SnowflakeOutline fill=\"#2975cc\" width={64} height={64} style={{margin:'0 auto'}}/>\n\t\t\t\t<span>Произошла ошибка</span><br/>\n\t\t\t\t<span>сайт БГТУ ушел на каникулы</span>\n\t\t\t</Placeholder>\n\t\t)\n\t\n\treturn(\n\t\t<ConfigProvider isWebView={true}>\n\t\t\t<Epic\n\t\t\t\tactiveStory={story}\n\t\t\t\ttabbar={\n\t\t\t\t\t<Tabbar>\t\t\t\t\t\n\t\t\t\t\t\t<TabbarItem\n\t\t\t\t\t\t\tonClick={changeActiveStory}\n\t\t\t\t\t\t\tselected={story === 'schedule'}\n\t\t\t\t\t\t\tdata-story={'schedule'}\n\t\t\t\t\t\t\ttext=\"Расписание\"\n\t\t\t\t\t\t><Icon28GridSquareOutline/></TabbarItem>\n\t\t\t\t\t\t<TabbarItem\n\t\t\t\t\t\t\tonClick={changeActiveStory}\n\t\t\t\t\t\t\tselected={story === 'profile'}\n\t\t\t\t\t\t\tdata-story={'profile'}\n\t\t\t\t\t\t\ttext=\"Профиль\"\n\t\t\t\t\t\t><Icon28UserCircleOutline/></TabbarItem>\n\t\t\t\t\t</Tabbar>\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t<View\n\t\t\t\t\tid={'schedule'}\n\t\t\t\t\tactivePanel={panels.schedule}\n\t\t\t\t\tmodal={<StaticsLesson />}\n\t\t\t\t>\n\t\t\t\t\t<SearchPanel id='search' />\n\t\t\t\t\t<Schedule id='schedule' />\n\t\t\t\t</View>\n\t\t\t\t<View\n\t\t\t\t\tid={'profile'}\n\t\t\t\t\tactivePanel={panels.profile}\n\t\t\t\t\tpopout={loadingUser ? <ScreenSpinner /> : null}\n\t\t\t\t>\n\t\t\t\t\t<Profile id='profile' />\n\t\t\t\t\t<Map id='map' />\n\t\t\t\t</View>\t\t\n\t\t\t</Epic>\n\t\t</ConfigProvider>\n\t)\n}\n\nexport default App","import React from 'react'\n\nimport { Placeholder, Link} from \"@vkontakte/vkui\"\nimport Icon28MoonOutline from \"@vkontakte/icons/dist/28/moon_outline\"\n\nconst Sleep = ({ }) => {\n  return(\n    <Placeholder\n      icon={<Icon28MoonOutline width={56} height={56} />}\n      action={\n        <>\n          <Link href={`http://www.bstu.ru/about/useful/schedule`}>Посмотреть расписание на сайте</Link>\n          <br /><br/>\n          <Link href={`https://vk.com/club198278031`}>Группа приложения</Link>        \n        </>\n      }\n      stretched\n    >\n      Приложение отдыхает<br/> с 23:00 до 07:00 каждого дня\n    </Placeholder>\n  )\n}\n\nexport default Sleep","import React from 'react'\n\nimport store from '../../redux/store'\nimport { Provider } from 'react-redux'\n\nimport App from '../../App'\nimport Sleep from '../../panels/Sleep'\n\nconst Switcher = () => {\n  const hours = new Date().getUTCHours()\n  \n  return (hours >= 20 || hours < 4) ? <Sleep /> : <Provider store={store}><App /></Provider>\n}\n\nexport default Switcher","import 'core-js/features/map'\nimport 'core-js/features/set'\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport bridge from '@vkontakte/vk-bridge'\nimport '@vkontakte/vkui/dist/vkui.css'\n\nimport './index.sass'\nimport Switcher from './components/Switcher'\n\n// import eruda from 'eruda'\n// eruda.init()\n\nbridge.send('VKWebAppInit')\nbridge.subscribe(e => {\n  if(e.detail.type === 'VKWebAppUpdateConfig')\n    document.body.setAttribute('scheme', e.detail.data.scheme)\n})\n\nReactDOM.render(<Switcher />, document.getElementById('root'))"],"sourceRoot":""}