{"version":3,"sources":["assets/banner_bg.jpg","assets/banner_bg1.jpg","assets/map.png","redux/slices/navigation.ts","constans/index.ts","redux/slices/search.ts","API/constants.ts","API/schedule.ts","API/user.ts","API/group.ts","API/index.ts","API/streams.ts","API/list.ts","utils/getTimeByLesson.ts","utils/normalizeLesson.ts","utils/selectDay.ts","utils/currentDay.ts","utils/currentWeek.ts","utils/currentLesson.ts","utils/useLastSchedules.ts","redux/slices/schedule.ts","redux/slices/profile.ts","redux/slices/list.ts","redux/rootReducer.ts","redux/store.ts","components/Title/index.tsx","components/Lesson/index.tsx","components/DayCard/index.tsx","components/Cell/SingleCell.tsx","components/Cell/HalfCell.tsx","components/Cell/QuarterCell.tsx","components/FullSchedule/index.tsx","utils/fullSchedule.ts","components/TabsSchedule/index.tsx","components/ByDay/index.tsx","panels/Schedule/MenuItemIcon.tsx","panels/Schedule/index.tsx","utils/getDiff.ts","panels/Profile/index.tsx","utils/toEnd.ts","panels/Map/index.tsx","panels/Search/index.tsx","components/StaticsLesson/index.tsx","utils/getStatsLesson.ts","panels/List/index.tsx","App.tsx","panels/Sleep/index.tsx","components/Switcher/index.tsx","index.tsx"],"names":["module","exports","initialState","story","panels","schedule","profile","list","navigationSlice","createSlice","name","reducers","changeStory","state","action","payload","changePanel","panel","actions","searchSlice","query","loading","setQuery","setLoading","BASE_URL","process","requestSchedule","href","a","id","replace","url","fetch","res","json","requestUser","registerUser","opts","method","headers","addGroup","uid","group","body","JSON","stringify","delGroup","getStreams","getList","getTimeByLesson","normalizeLesson","lesson","time","coords","j","k","place","type","subject","fromWhoms","selectDay","lessons","day","week","filter","l","i","z","map","currentDay","Date","getDay","currentWeek","now","ms","getTime","d","weeks","date","start","end","currentLesson","split","sh","sm","lessonStart","setHours","eh","em","lessonEnd","n","useLastSchedules","limit","lsLast","localStorage","getItem","last","parse","setLast","s","filterLast","length","fw","newLast","setItem","createAsyncThunk","thunkAPI","schedules","getState","find","uniq","API","data","activeMode","text","isDiff","activeSubject","error","activeSchedule","history","scheduleSlice","changeMode","changeDay","changeWeek","setSubject","setIsDiff","popHistory","pop","newActiveHref","exams","clearHistory","extraReducers","builder","addCase","pending","meta","arg","add","push","rejected","fulfilled","requestStreams","user","profileSlice","loadingStreams","errorStreams","streams","userId","loadingUser","errorUser","myGroup","requestList","listSlice","loadingList","errorList","rootReducer","combineReducers","navigation","search","store","configureStore","reducer","Title","title","mySchedule","link","className","height","width","fill","size","Lesson","current","infoShow","dispatch","useDispatch","t","key","onClick","getStats","style","marginLeft","DayCard","undefined","SingleCell","column","row","w","cn","join","gridRow","gridColumn","HalfCell","isHalf","grid","QuarterCell","HEADERS","TIME","FullSchedule","lastLessonNum","reduce","max","lessonNum","full","forEach","dayId","lessonId","children","fullSchedule","gridTemplateRows","slice","h","cells","isHalfQuarter","isQuarter","Object","values","c","DAYS","TabsSchedule","mode","fontSize","color","selected","ByDay","useSelector","slideIndex","onChange","MenuItemIcon","MENU","Schedule","React","useState","menuOpened","setMenuOpened","toggleMenu","diff","useMemo","b","console","log","la","lb","dayEqual","lessonNumEqual","weekEqual","groupEqual","isEqual","getDiff","left","transform","opened","onClose","item","notExams","examsSelected","myGroupSave","notMyGroupDelete","withoutDiff","withDiff","ownDiff","notUserGroup","before","requestAnimationFrame","selectMenuItem","asideContent","stretched","Profile","platform","usePlatform","snackbar","setSnackbar","openSnackbar","backgroundColor","Math","floor","toEnd","total","goToSchedule","header","background","backgroundImage","bg1","backgroundPosition","backgroundSize","backgroundRepeat","display","flexDirection","marginTop","bridge","send","then","_","catch","err","flex","subheader","bg2","value","padding","justifyContent","stream","includes","Map","src","alt","SearchPanel","filterSearch","toLowerCase","searchResult","setSearchResult","useEffect","tid","setTimeout","clearTimeout","separator","vertical","placeholder","e","currentTarget","after","TYPE_LESSON","lec","pr","lab","StaticsLesson","closeModal","byWeek","dd","currentWeekIndex","findIndex","stats","getStatsLesson","activeModal","dynamicContentHeight","right","entries","entrie","ListPanel","activeTab","setActiveTab","count","disabled","App","changeActiveStory","newStory","dataset","userData","init","isWebView","activeStory","tabbar","data-story","activePanel","modal","popout","Sleep","icon","Switcher","hours","getUTCHours","eruda","subscribe","detail","document","setAttribute","scheme","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.e2430fdc.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/banner_bg.87106ccb.jpg\";","module.exports = __webpack_public_path__ + \"static/media/banner_bg1.975d0629.jpg\";","module.exports = \"data:image/png;base64,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\"","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\"\r\n\r\nimport { MAP_PANEL, PROFILE_PANEL, PROFILE_STORY, SCHEDULE_PANEL, SCHEDULE_STORY, SEARCH_PANEL, LIST_PANEL, LIST_STORY } from \"../../constans\"\r\n\r\ntype Story = typeof PROFILE_STORY | typeof SCHEDULE_STORY | typeof LIST_STORY\r\ntype ProfilePanel = typeof PROFILE_PANEL | typeof MAP_PANEL\r\ntype SchedulePanel = typeof SCHEDULE_PANEL | typeof SEARCH_PANEL\r\ntype ListPanel = typeof LIST_PANEL\r\ntype Panel = { schedule : SchedulePanel, profile : ProfilePanel, list : ListPanel }\r\n\r\ntype ChangePanelAction = { story : keyof Panel, panel : ProfilePanel | SchedulePanel }\r\n\r\ninterface NavigationState\r\n{\r\n  story : Story\r\n  panels : Panel\r\n}\r\n\r\nconst initialState : NavigationState = {\r\n  story : PROFILE_STORY,\r\n  panels : {\r\n    schedule : SEARCH_PANEL,\r\n    profile : PROFILE_PANEL,\r\n    list : LIST_PANEL,\r\n  },\r\n}\r\n\r\nconst navigationSlice = createSlice({\r\n  name : 'navigation',\r\n  initialState,\r\n  reducers : {\r\n    changeStory(state, action)\r\n    {\r\n      state.story = action.payload\r\n    },\r\n    changePanel(state, action : PayloadAction<ChangePanelAction>)\r\n    {\r\n      const { story, panel } = action.payload\r\n      if(story === 'schedule')\r\n        state.panels.schedule = panel as SchedulePanel\r\n      else if(story === 'profile')\r\n        state.panels.profile = panel as ProfilePanel\r\n    },\r\n  }\r\n})\r\n\r\nexport const { changeStory, changePanel } = navigationSlice.actions\r\nexport default navigationSlice.reducer","export const SCHEDULE_STORY = 'schedule'\r\nexport const PROFILE_STORY = 'profile'\r\nexport const LIST_STORY = 'list'\r\n\r\nexport const SEARCH_PANEL = 'search'\r\nexport const SCHEDULE_PANEL = 'schedule'\r\nexport const PROFILE_PANEL = 'profile'\r\nexport const MAP_PANEL = 'map'\r\nexport const LIST_PANEL = 'list'\r\n\r\nexport const COUNT_LAST_SCHEDULES = 6","import { createSlice } from \"@reduxjs/toolkit\"\r\n\r\ninterface SearchState\r\n{\r\n  query : string\r\n  loading : boolean\r\n}\r\n\r\nconst initialState : SearchState = {\r\n  query : '',\r\n  loading : false\r\n}\r\n\r\nconst searchSlice = createSlice({\r\n  name : 'search',\r\n  initialState,\r\n  reducers : {\r\n    setQuery(state, action)\r\n    {\r\n      state.query = action.payload\r\n    },\r\n    setLoading(state, action)\r\n    {\r\n      state.loading = action.payload\r\n    }\r\n  }\r\n})\r\n\r\nexport const { setQuery, setLoading } = searchSlice.actions\r\nexport default searchSlice.reducer","export const BASE_URL = process.env.REACT_APP_BASE_URL","import { BASE_URL } from \"./constants\"\r\n\r\nexport const requestSchedule = async (href : string) => {\r\n  const id = href.replace(/(\\?|&)/g,'').replace('=','/')\r\n  const url = `${BASE_URL}/schedule/${id}`\r\n  const res = await fetch(url)\r\n  \r\n  return res.json()\r\n}","import { BASE_URL } from \"./constants\"\r\n\r\nexport const requestUser = async (id : number) => {\r\n  const url = `${BASE_URL}/user/${id}`\r\n  const res = await fetch(url)\r\n\r\n  return res.json()\r\n}\r\n\r\nexport const registerUser = async (id : number) => {\r\n  const url = `${BASE_URL}/user/${id}`\r\n  const opts = {\r\n    method : 'POST', \r\n    headers : {'Content-Type': 'application/json;charset=utf-8'}\r\n  }\r\n  const res = await fetch(url, opts)\r\n\r\n  return res.json()\r\n}","import { BASE_URL } from \"./constants\"\r\n\r\nexport const addGroup = async ({uid, group} : {uid : number, group : string}) => {\r\n  const url = `${BASE_URL}/user/group`\r\n  const opts = {\r\n    method : 'PUT', \r\n    headers : {'Content-Type': 'application/json;charset=utf-8'},\r\n    body : JSON.stringify({uid, group})\r\n  }\r\n  const res = await fetch(url, opts)\r\n\r\n  return res.json()\r\n}\r\n\r\nexport const delGroup = async (uid : number) => {\r\n  const url = `${BASE_URL}/user/group`\r\n  const opts = {\r\n    method : 'DELETE', \r\n    headers : {'Content-Type': 'application/json;charset=utf-8'},\r\n    body : JSON.stringify({uid})\r\n  }\r\n  const res = await fetch(url, opts)\r\n\r\n  return res.json()\r\n}","import {requestSchedule} from './schedule'\r\nimport {registerUser,requestUser} from './user'\r\nimport {addGroup,delGroup} from './group'\r\nimport {getStreams} from './streams'\r\nimport {getList} from './list'\r\n\r\nexport default {\r\n  requestSchedule,\r\n  requestUser,\r\n  delGroup,\r\n  registerUser,\r\n  addGroup,\r\n  getStreams,\r\n  getList,\r\n}","import { BASE_URL } from \"./constants\"\r\n\r\nexport const getStreams = async () => {\r\n  const url = `${BASE_URL}/streams`\r\n  const res = await fetch(url)\r\n  return res.json()\r\n}","import { BASE_URL } from \"./constants\"\r\n\r\nexport const getList = async () => {\r\n  const url = `${BASE_URL}/list`\r\n  const res = await fetch(url)\r\n  return res.json()\r\n}","import { Lesson } from \"../types/Lesson\"\r\n\r\nexport const getTimeByLesson = (id : Lesson) => {\r\n  return [\r\n    ['08:15', '09:50'],\r\n    ['10:00', '11:35'],\r\n    ['11:45', '13:20'],\r\n    ['12:35', '14:10'],\r\n    ['14:20', '15:55'],\r\n    ['16:05', '17:40'],\r\n    ['17:50', '19:25'],\r\n    ['19:35', '21:10'],\r\n  ][id]\r\n}","import { ILesson } from \"../types/ILesson\";\r\nimport { PlainLesson } from \"../types/PlainLesson\";\r\nimport { getTimeByLesson } from \"./getTimeByLesson\";\r\n\r\nexport const normalizeLesson = (lesson : PlainLesson) : ILesson => {\r\n  const time = getTimeByLesson(lesson.coords.j)\r\n\r\n  const group = lesson.coords.k !== 2 ? `(${lesson.coords.k + 1} гр.)` : ''\r\n\r\n  return {\r\n    place : lesson.place,\r\n    type : lesson.type,\r\n    subject : `${lesson.subject}${group}`,\r\n    fromWhoms : lesson.fromWhoms,\r\n    time,\r\n  }\r\n}","import { ILesson } from \"../types/ILesson\";\r\nimport { PlainLesson } from \"../types/PlainLesson\";\r\nimport { normalizeLesson } from \"./normalizeLesson\";\r\n\r\nexport const selectDay = (\r\n  lessons : PlainLesson[],\r\n  day : number,\r\n  week : number\r\n) : ILesson[] => {\r\n  return lessons.filter(l => {\r\n    const { i, z } = l.coords\r\n\r\n    return i === day && (z === week || z === 2)\r\n  }).map(normalizeLesson)\r\n}","import { Day } from \"../types/Day\"\r\n\r\nexport const currentDay = () : Day => {\r\n  const id = new Date().getDay()\r\n\r\n  return (id > 0 ? id - 1 : id) as Day\r\n}","import weeks from '../data/weeks.json'\r\n\r\nimport { Week } from '../types/Week'\r\n\r\nexport const currentWeek = () : Week => {\r\n  const now = new Date()\r\n  const ms = now.getTime()\r\n  const d = now.getDay()\r\n\r\n  const week = weeks.filter(({date : [start, end]}) => start <= ms && ms <= end)[0].week\r\n\r\n  return (d !== 0 ? week : (week === 0 ? 1 : 0)) as Week\r\n}","import { Day } from \"../types/Day\"\r\nimport { Week } from \"../types/Week\"\r\nimport { currentWeek } from \"./currentWeek\"\r\n\r\nexport const currentLesson = (time : string[], day : Day, week : Week) : boolean => {\r\n  const now = new Date()\r\n\r\n  if(now.getDay() === day + 1 && week === currentWeek())\r\n  {\r\n    const TEN_MIN = 10 * 60 * 1000\r\n\r\n    const [start, end] = time    \r\n    const [sh, sm] = start.split(':').map(d => +d)\r\n    const lessonStart = new Date().setHours(sh, sm) - TEN_MIN\r\n    const [eh, em] = end.split(':').map(d => +d)\r\n    const lessonEnd = new Date().setHours(eh, em)\r\n\r\n    const n = now.getTime()\r\n\r\n    return lessonStart <= n && n <= lessonEnd\r\n  }\r\n\r\n  return false\r\n}","import { FromWhom } from \"../types/ILesson\"\r\n\r\nexport const useLastSchedules = (limit : number) => {\r\n  const LAST_SCHEDULES = 'lastSchedules'\r\n\r\n  const lsLast = localStorage.getItem(LAST_SCHEDULES)\r\n  const last : FromWhom[] = lsLast ? JSON.parse(lsLast) : []\r\n\r\n  const setLast = (s : FromWhom) => {\r\n    const overloadFilter = (fw : FromWhom, i : number) =>\r\n      fw.href.replace('&', '') !== s.href.replace('&', '') && i !== last.length - 1\r\n    const normalFilter = (fw : FromWhom) => fw.href.replace('&', '') !== s.href.replace('&', '')\r\n\r\n    const filterLast = last.filter(last.length < limit ? normalFilter : overloadFilter)    \r\n    const newLast = [s, ...filterLast]\r\n\r\n    localStorage.setItem(LAST_SCHEDULES, JSON.stringify(newLast))\r\n  }\r\n\r\n  return { last, setLast }\r\n}","import { createAsyncThunk, createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\n\r\nimport API from \"../../API\";\r\n\r\nimport { MenuItem } from '../../panels/Schedule'\r\nimport { Day } from \"../../types/Day\";\r\nimport { FromWhom } from \"../../types/ILesson\";\r\nimport { PlainLesson } from \"../../types/PlainLesson\";\r\nimport { Week } from \"../../types/Week\";\r\nimport { currentDay, currentWeek } from \"../../utils\";\r\nimport { RootState } from \"../rootReducer\";\r\n\r\ninterface Exam\r\n{\r\n  place: string\r\n  subject: string\r\n  type : 3 | 4\r\n  fromWhoms: FromWhom[]\r\n}\r\n\r\nexport interface ScheduleData\r\n{\r\n  title : string\r\n  href : string\r\n  schedule : PlainLesson[]\r\n  exams : Exam[]\r\n}\r\n\r\ninterface ScheduleState\r\n{\r\n  activeMode : MenuItem\r\n  isDiff : boolean\r\n  day : Day\r\n  week : Week\r\n  activeSubject : string | null\r\n  loading : boolean\r\n  error : boolean\r\n  activeSchedule : ScheduleData | null\r\n  schedules : ScheduleData[] // ??? ILesson[]\r\n  history : string[]\r\n}\r\n\r\ntype RequestScheduleParam = {href : string, add ?: boolean}\r\n\r\nexport const requestSchedule = createAsyncThunk(\r\n  'schedule/request',\r\n  async ({href} : RequestScheduleParam, thunkAPI) => {    \r\n    const schedules = (thunkAPI.getState() as RootState).schedule.schedules\r\n    const schedule = schedules.find(s => s.href === href.replace('&', ''))\r\n    \r\n    if(schedule) return { uniq : false, schedule}\r\n\r\n    const data = await API.requestSchedule(href)\r\n    return { uniq : true, schedule : data}\r\n  }\r\n)\r\n\r\nconst initialState : ScheduleState = {\r\n  activeMode : { text : 'По дням', id : 'byDays' },\r\n  isDiff : false,\r\n  day : currentDay(),\r\n  week : currentWeek(),\r\n  activeSubject : null,\r\n  loading : false,\r\n  error : false,\r\n  activeSchedule : null,\r\n  schedules : [],\r\n  history : [],\r\n}\r\n\r\nconst scheduleSlice = createSlice({\r\n  name : 'schedule',\r\n  initialState,\r\n  reducers : {\r\n    changeMode(state, action : PayloadAction<MenuItem>)\r\n    {\r\n      state.activeMode = action.payload\r\n    },\r\n    changeDay(state, action : PayloadAction<Day>)\r\n    {\r\n      state.day = action.payload\r\n    },\r\n    changeWeek(state, action : PayloadAction<Week>)\r\n    {\r\n      state.week = action.payload\r\n    },\r\n    setSubject(state, action)\r\n    {\r\n      state.activeSubject = action.payload\r\n    },\r\n    setIsDiff(state, action)\r\n    {\r\n      state.isDiff = action.payload\r\n    },\r\n    popHistory(state)\r\n    {\r\n      state.isDiff = false\r\n      state.history.pop()\r\n      if(state.history.length !== 0)\r\n      {\r\n        const newActiveHref = state.history[state.history.length - 1]\r\n        const schedule = state.schedules.find(s => s.href === newActiveHref) as ScheduleData\r\n        \r\n        if(!schedule.exams && state.activeMode.id === 'exams')\r\n          state.activeMode = initialState.activeMode\r\n\r\n        state.activeSchedule = schedule\r\n      }\r\n    },\r\n    clearHistory(state)\r\n    {\r\n      state.history = []\r\n      state.isDiff = false\r\n    }\r\n  },\r\n  extraReducers(builder)\r\n  {\r\n    builder\r\n      .addCase(requestSchedule.pending,(state, action) => {\r\n        state.loading = true\r\n        state.error = false\r\n        state.activeSchedule = null\r\n        \r\n        const { add = true, href } = action.meta.arg\r\n        if(add)\r\n          state.history.push(href.replace('&', ''))\r\n      })\r\n      .addCase(requestSchedule.rejected,(state) => {\r\n        state.loading = false\r\n        state.error = true\r\n        state.isDiff = false\r\n      })\r\n      .addCase(requestSchedule.fulfilled,(state, action) => {\r\n        state.loading = false\r\n        state.error = false\r\n        const {uniq, schedule} = action.payload\r\n        state.activeSchedule = schedule as ScheduleData\r\n        if(uniq)\r\n          state.schedules.push(schedule)\r\n\r\n        if(!schedule.exams && state.activeMode.id === 'exams')\r\n          state.activeMode = initialState.activeMode\r\n      })\r\n  },\r\n})\r\n\r\nexport const { changeMode, changeDay, changeWeek, setSubject, popHistory, setIsDiff, clearHistory } = scheduleSlice.actions\r\nexport default scheduleSlice.reducer","import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\r\nimport { FromWhom } from \"../../types/ILesson\";\r\nimport API from '../../API'\r\nimport { ScheduleData } from \"./schedule\";\r\n\r\ninterface User\r\n{\r\n  id : number\r\n  group : string\r\n  myGroup : ScheduleData | null\r\n  fromWhoms : FromWhom[]  \r\n}\r\n\r\ninterface ProfileState\r\n{\r\n  loadingStreams : boolean\r\n  errorStreams : boolean\r\n  streams : FromWhom[]\r\n\r\n  user : User | null\r\n  userId : number | null\r\n  loadingUser : boolean\r\n  errorUser : boolean\r\n}\r\n\r\nexport const requestStreams = createAsyncThunk(\r\n  'streams/request', API.getStreams\r\n)\r\n\r\nexport const requestUser = createAsyncThunk(\r\n  'user/request',\r\n  async (id : number) => {\r\n    const user = await API.requestUser(id)\r\n    if(user) return user\r\n\r\n    const res = await API.registerUser(id)\r\n\r\n    return res\r\n  }\r\n)\r\n\r\nexport const addGroup = createAsyncThunk(\r\n  'group/add',\r\n  async ({uid, group} : {uid : number, group : string}) => {\r\n    const data = await API.addGroup({uid, group})\r\n\r\n    return data\r\n  }\r\n)\r\n\r\nexport const delGroup = createAsyncThunk(\r\n  'group/del',\r\n  async (id : number) => {\r\n    const data = await API.delGroup(id)\r\n\r\n    return data\r\n  }\r\n)\r\n\r\nconst initialState : ProfileState = {\r\n  loadingStreams : false,\r\n  errorStreams : false,\r\n  streams : [],\r\n\r\n  user : null,\r\n  // user : { id : 17, groupId : '', myGroup : null, fromWhoms : [] },\r\n  userId : null,\r\n  loadingUser : false,\r\n  errorUser : false,\r\n}\r\n\r\nconst profileSlice = createSlice({\r\n  name : 'profile',\r\n  initialState,\r\n  reducers : {},\r\n  extraReducers(builder)\r\n  {\r\n    builder\r\n      .addCase(requestUser.pending, (state, action) => {\r\n        state.loadingUser = true\r\n        state.errorUser = false\r\n        state.userId = action.meta.arg\r\n      })\r\n      .addCase(requestUser.rejected, (state) => {\r\n        state.loadingUser = false\r\n        state.errorUser = true\r\n      })\r\n      .addCase(requestUser.fulfilled, (state, action) => {\r\n        state.loadingUser = false\r\n        state.errorUser = false\r\n        state.user = action.payload\r\n      })\r\n\r\n      .addCase(addGroup.pending, (state) => {\r\n        state.loadingUser = true\r\n        state.errorUser = false\r\n      })\r\n      .addCase(addGroup.rejected, (state) => {\r\n        state.loadingUser = false\r\n        state.errorUser = true\r\n      })\r\n      .addCase(addGroup.fulfilled, (state, action) => {\r\n        state.loadingUser = false\r\n        state.errorUser = false\r\n        state.user!.group = action.payload.group\r\n        state.user!.myGroup = action.payload.myGroup\r\n        state.user!.fromWhoms = action.payload.fromWhoms\r\n      })\r\n\r\n      .addCase(delGroup.pending, (state) => {\r\n        state.loadingUser = true\r\n        state.errorUser = false\r\n      })\r\n      .addCase(delGroup.rejected, (state) => {\r\n        state.loadingUser = false\r\n        state.errorUser = true\r\n      })\r\n      .addCase(delGroup.fulfilled, (state) => {\r\n        state.loadingUser = false\r\n        state.errorUser = false\r\n        state.user!.group = ''\r\n        state.user!.myGroup = null\r\n        state.user!.fromWhoms = []\r\n      })\r\n\r\n      .addCase(requestStreams.pending, (state) => {\r\n        state.loadingStreams = true\r\n        state.errorStreams = false\r\n      })\r\n      .addCase(requestStreams.rejected, (state) => {\r\n        state.loadingStreams = false\r\n        state.errorStreams = true\r\n      })\r\n      .addCase(requestStreams.fulfilled, (state, action) => {\r\n        state.loadingStreams = false\r\n        state.errorStreams = false\r\n        state.streams = action.payload\r\n      })\r\n  }\r\n})\r\n\r\nexport default profileSlice.reducer","import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\"\r\n\r\nimport API from '../../API'\r\n\r\ntype ListType = {\r\n  instituts : {[key:string]:number},\r\n  groups : {[key:string]:number}\r\n}\r\n\r\ninterface ListState\r\n{\r\n  loadingList : boolean\r\n  errorList : boolean\r\n  list : ListType | null\r\n}\r\n\r\nexport const requestList = createAsyncThunk(\r\n  'list/request', API.getList\r\n)\r\n\r\nconst initialState : ListState = {\r\n  loadingList : false,\r\n  errorList : false,\r\n  list : null\r\n}\r\n\r\nconst listSlice = createSlice({\r\n  name : 'list',\r\n  initialState,\r\n  reducers : {},\r\n  extraReducers(builder)\r\n  {\r\n    builder\r\n      .addCase(requestList.pending, (state) => {\r\n        state.loadingList = true\r\n        state.errorList = false\r\n      })\r\n      .addCase(requestList.rejected, (state) => {\r\n        state.loadingList = false\r\n        state.errorList = true\r\n      })\r\n      .addCase(requestList.fulfilled, (state, action) => {\r\n        state.loadingList = false\r\n        state.errorList = false\r\n        state.list = action.payload\r\n      })\r\n  }\r\n})\r\n\r\nexport default listSlice.reducer","import { combineReducers } from \"@reduxjs/toolkit\"\r\n\r\nimport navigation from './slices/navigation'\r\nimport search from './slices/search'\r\nimport schedule from './slices/schedule'\r\nimport profile from './slices/profile'\r\nimport list from './slices/list'\r\n\r\nconst rootReducer = combineReducers({\r\n  navigation,\r\n  search,\r\n  schedule,\r\n  profile,\r\n  list,\r\n})\r\n\r\nexport type RootState = ReturnType<typeof rootReducer>\r\nexport default rootReducer","import { configureStore } from \"@reduxjs/toolkit\"\r\n\r\nimport rootReducer from './rootReducer'\r\n\r\nconst store = configureStore({ reducer : rootReducer })\r\n\r\nexport default store","import React from 'react'\r\nimport './Title.sass'\r\n\r\nimport { Card, Div, Link, Spinner } from '@vkontakte/vkui'\r\nimport Icon28Favorite from '@vkontakte/icons/dist/28/favorite'\r\nimport Icon28ViewOutline from '@vkontakte/icons/dist/28/view_outline'\r\n\r\nexport interface TitleProps\r\n{\r\n  title : string\r\n  href ?: string\r\n  isDiff ?: boolean\r\n  mySchedule ?: boolean\r\n  loading ?: boolean\r\n}\r\n\r\nconst Title : React.FC<TitleProps> = ({\r\n  title,\r\n  href,\r\n  mySchedule = false,\r\n  isDiff = false,\r\n  loading = false\r\n}) => {\r\n  const link = `http://www.bstu.ru/static/themes/bstu/schedule/index.php${href}`\r\n  return(\r\n    <Div>\r\n      <Card>\r\n        <Div className='title'>\r\n          {isDiff && <Icon28ViewOutline height=\"20\" width=\"20\" fill=\"#4bb34b\" />}\r\n          {href ? <Link href={link}>{title}</Link> : title}\r\n          {loading && <Spinner size=\"small\" className=\"title__spinner\" />}\r\n          {!loading && mySchedule && <Icon28Favorite height=\"20\" width=\"20\" fill=\"#cc00ff\" />}\r\n        </Div>\r\n      </Card>\r\n    </Div>\r\n  )\r\n}\r\n\r\nexport default Title","import React from 'react'\r\nimport './Lesson.sass'\r\n\r\nimport Icon28InfoCircleOutline from '@vkontakte/icons/dist/28/info_outline'\r\n\r\nimport { FromWhom, ILesson } from '../../types/ILesson'\r\nimport { requestSchedule, setIsDiff, setSubject } from '../../redux/slices/schedule'\r\nimport { useDispatch } from 'react-redux'\r\nimport { useLastSchedules } from '../../utils'\r\nimport { COUNT_LAST_SCHEDULES } from '../../constans'\r\n\r\ninterface LessonProps extends ILesson\r\n{\r\n  current : boolean\r\n  infoShow : boolean\r\n}\r\n\r\nconst Lesson : React.FC<LessonProps> = ({\r\n  time,\r\n  place,\r\n  type,\r\n  subject,\r\n  fromWhoms,\r\n  current,\r\n  infoShow\r\n}) => {\r\n  const dispatch = useDispatch()\r\n\r\n  const { setLast } = useLastSchedules(COUNT_LAST_SCHEDULES)\r\n  \r\n  const getStats = (subject : string) => {\r\n    if(type > 2) return\r\n    \r\n    const s = subject.replace(/\\(\\d гр.\\)/,'')\r\n    dispatch(setSubject(s))\r\n  }\r\n\r\n  const goToSchedule = (s : FromWhom) => {\r\n    setLast(s)\r\n    dispatch(requestSchedule({href : s.href}))\r\n    dispatch(setIsDiff(false))\r\n  }\r\n\r\n  return(\r\n    <div className=\"lesson-wrapper\">\r\n      <div className={`lesson__time ${current ? `lesson__time-current` : ''}`}>\r\n        {time?.map((t, i) => <div key={i}>{t}</div> )}\r\n      </div>\r\n      <div className={`lesson__info lesson__info-${['lec', 'pr', 'lab', 'cons', 'exam'][type]}`}>\r\n        <div className=\"lesson__place\">{place}</div>\r\n        <div\r\n          className=\"lesson__subject\"\r\n          onClick={() => getStats(subject)}\r\n        >\r\n          <div className=\"lesson__subject-text\">{subject}</div>\r\n          {infoShow && <Icon28InfoCircleOutline style={{marginLeft:4}} width=\"18\" height=\"18\"/>}\r\n        </div>\r\n        <div className=\"lesson__fromWhoms\">\r\n          {fromWhoms.map((fw, i) => {\r\n            return(\r\n              <div\r\n                key={i}\r\n                className=\"linkable\"\r\n                onClick={() => goToSchedule(fw)}\r\n              >{fw.title}</div>\r\n            )\r\n          })}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Lesson","import React from 'react'\r\n\r\nimport { Card, Div } from '@vkontakte/vkui'\r\n\r\nimport Lesson from '../Lesson'\r\n\r\nimport { ILesson } from '../../types/ILesson'\r\nimport { Day } from '../../types/Day'\r\nimport { Week } from '../../types/Week'\r\nimport { currentLesson } from '../../utils'\r\n\r\nexport interface DayCardProps\r\n{\r\n  lessons : ILesson[]\r\n  day ?: Day\r\n  week ?: Week\r\n  infoShow ?: boolean\r\n}\r\n\r\nconst DayCard : React.FC<DayCardProps> = ({\r\n  lessons,\r\n  day,\r\n  week,\r\n  infoShow = true\r\n}) => {\r\n  return(\r\n    <Div>\r\n      <Card className='day-card'>\r\n        <Div>\r\n          {lessons.map((l,i) => {\r\n            const isExam = day === undefined && week === undefined\r\n            const current = isExam ? false : currentLesson(l.time!, day!, week!)\r\n\r\n            return <Lesson infoShow={infoShow} key={i} {...l} current={current} />\r\n          })}\r\n        </Div>\r\n      </Card>\r\n    </Div>\r\n  )\r\n}\r\n\r\nexport default DayCard","import React from 'react'\r\nimport './Cell.sass'\r\n\r\nimport { PlainLesson } from '../../types/PlainLesson'\r\nimport { currentLesson, currentWeek, getTimeByLesson } from '../../utils'\r\nimport { useDispatch } from 'react-redux'\r\nimport { requestSchedule, setIsDiff, setSubject } from '../../redux/slices/schedule'\r\nimport { useLastSchedules } from '../../utils'\r\nimport { FromWhom } from '../../types/ILesson'\r\nimport { COUNT_LAST_SCHEDULES } from '../../constans'\r\n\r\ninterface SingleCellProps\r\n{\r\n  column : number\r\n  row : number\r\n  lesson : PlainLesson\r\n}\r\n\r\nconst SingleCell : React.FC<SingleCellProps> = ({\r\n  lesson,\r\n  column,\r\n  row\r\n}) => {\r\n  const dispatch = useDispatch()\r\n\r\n  const { setLast } = useLastSchedules(COUNT_LAST_SCHEDULES)\r\n\r\n  const getStats = (subject : string) => {\r\n    const s = subject.replace(/\\(\\d гр.\\)/,'')\r\n    dispatch(setSubject(s))\r\n  }\r\n\r\n  const goToSchedule = (s : FromWhom) => {\r\n    setLast(s)\r\n    dispatch(requestSchedule({href : s.href}))\r\n    dispatch(setIsDiff(false))\r\n  }\r\n\r\n  const w = lesson.coords.z\r\n  const cn = [\r\n    lesson.coords.j === 3 ? 'break_bottom' : '',\r\n    currentLesson(getTimeByLesson(lesson.coords.j), lesson.coords.i, w === 2 ? currentWeek() : w) ? 'current' : ''\r\n  ].join(' ')\r\n\r\n  return(\r\n    <div\r\n      className={`cell cell__single cell__single-${['lec', 'pr', 'lab'][lesson.type]}`}\r\n      style={{\r\n        gridRow : row,\r\n        gridColumn : column,\r\n      }}\r\n    >\r\n      <div className=\"cell__single-place\">{lesson.place}</div>\r\n      <div\r\n        className={`cell__single-subject ${cn}`}\r\n        onClick={() => getStats(lesson.subject)}\r\n      >{lesson.subject}</div>\r\n      <div className=\"cell__single-fromWhoms\">\r\n        {lesson.fromWhoms.map((fw, i) => {\r\n          return <div\r\n            key={i}\r\n            onClick={() => goToSchedule(fw)}\r\n            className={'linkable'}\r\n          >{fw.title}</div>\r\n        })}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SingleCell","import React from 'react'\r\nimport './Cell.sass'\r\n\r\nimport { PlainLesson } from '../../types/PlainLesson'\r\nimport SingleCell from './SingleCell'\r\n\r\ninterface HalfCellProps\r\n{\r\n  column : number\r\n  row : number\r\n  lessons : PlainLesson[]\r\n}\r\n\r\nconst HalfCell : React.FC<HalfCellProps> = ({\r\n  column,\r\n  row,\r\n  lessons\r\n}) => {\r\n  const isHalf = lessons[0].coords.k === 2\r\n  const grid = {[`gridTemplate${isHalf ? 'Rows' : 'Columns'}`] : 'repeat(2,1fr)'}\r\n\r\n  return(\r\n    <div\r\n      className=\"cell__half\"\r\n      style={{\r\n        ...grid,\r\n        gridRow : row,\r\n        gridColumn : column,\r\n      }}\r\n    >\r\n      {lessons.map((l, i) => {\r\n        const column = isHalf ? 1 : l.coords.k + 1\r\n        const row = isHalf ? l.coords.z + 1 : 1\r\n\r\n        return <SingleCell key={i} column={column} row={row} lesson={l} />\r\n      })}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default HalfCell","import React from 'react'\r\nimport './Cell.sass'\r\n\r\nimport { PlainLesson } from '../../types/PlainLesson'\r\nimport SingleCell from './SingleCell'\r\n\r\ninterface QuarterCellProps\r\n{\r\n  column : number\r\n  row : number\r\n  lessons : PlainLesson[]\r\n}\r\n\r\nconst QuarterCell : React.FC<QuarterCellProps> = ({\r\n  column,\r\n  row,\r\n  lessons\r\n}) => {\r\n  return(\r\n    <div\r\n      className=\"cell__quarter\"\r\n      style={{\r\n        gridRow : row,\r\n        gridColumn : column,\r\n      }}\r\n    >\r\n      {lessons.map((l, i) => {\r\n        const column = l.coords.k + 1\r\n        const row = l.coords.z + 1\r\n\r\n        return <SingleCell key={i} column={column} row={row} lesson={l} />\r\n      })}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default QuarterCell","import React from 'react'\r\nimport './FullSchedule.sass'\r\n\r\nimport { Card } from '@vkontakte/vkui'\r\n\r\nimport SingleCell from '../Cell/SingleCell'\r\nimport HalfCell from '../Cell/HalfCell'\r\nimport QuarterCell from '../Cell/QuarterCell'\r\n\r\nimport { IDay } from '../../utils/fullSchedule'\r\nimport { PlainLesson } from '../../types/PlainLesson'\r\nimport { currentDay, fullSchedule } from '../../utils'\r\n\r\ninterface FullScheduleProps\r\n{\r\n  schedule : PlainLesson[]\r\n}\r\n\r\nconst HEADERS = [\r\n  'Время',\r\n  'Понедельник',\r\n  'Вторник',\r\n  'Среда',\r\n  'Четверг',\r\n  'Пятница',\r\n  'Суббота'\r\n]\r\n\r\nconst TIME = [\r\n  ['08:15', '09:50'],\r\n  ['10:00', '11:35'],\r\n  ['11:45', '12:35', '13:20','14:10'],\r\n  ['14:20', '15:55'],\r\n  ['16:05', '17:40'],\r\n  ['17:50', '19:25'],\r\n  ['19:35', '21:10'],\r\n]\r\n\r\nconst FullSchedule : React.FC<FullScheduleProps> = ({\r\n  schedule\r\n}) => {\r\n  const lastLessonNum = schedule.reduce((max : number, l) => {\r\n    const j = l.coords.j\r\n    const lessonNum = j > 2 ? j - 1 : j\r\n\r\n    return lessonNum > max ? lessonNum : max\r\n  }, 0)\r\n\r\n  const full = fullSchedule(schedule)\r\n\r\n  return(\r\n    <div className=\"card__wrapper-vertical\">\r\n      <div className=\"card__wrapper-horizontal\">\r\n        <div\r\n          className=\"card__container\"\r\n          style={{\r\n            gridTemplateRows : `18px repeat(${lastLessonNum + 1},auto)`\r\n          }}\r\n        >\r\n          {HEADERS.slice(0, full[full.length - 1].day + 2).map((h, i) => {\r\n            const cn = (currentDay() + 1 === i) ? 'current' : ''\r\n\r\n            return <div\r\n              key={i}\r\n              className={`card__cell card__cell-header ${cn}`}\r\n              style={{ gridRow : 1, gridColumn : i + 1 }}\r\n            >{h}</div>\r\n          })}\r\n          {TIME.slice(0, lastLessonNum + 1).map((time, i) => {\r\n            return <div\r\n              key={i}\r\n              className=\"card__cell card__cell-time\"\r\n              style={{ gridRow : i + 2, gridColumn : 1 }}\r\n            >\r\n              {time.map((t, j) => {\r\n                const cn = (i === 2 && (j === 1 || j === 3)) ? 'break-bottom' : ''\r\n\r\n                return <div key={j} className={cn}>{t}</div>\r\n              })}\r\n            </div>\r\n          })}\r\n          {\r\n            full.reduce((cells : React.ReactNode[], d : IDay) : React.ReactNode[] => {\r\n              const lessons = d.lessons.map(l => {\r\n                const column = d.day + 2\r\n                const row = l.lessonNum + 2\r\n\r\n                const isHalf = l.children[0].coords.z !== 2\r\n                const isHalfQuarter = l.children[0].coords.k !== 2\r\n                const isQuarter = isHalf && isHalfQuarter\r\n\r\n                const key = Object.values(l.children[0].coords).reduce((k : string,c : number) : string => k + c ,'')\r\n\r\n                if(isQuarter) return <QuarterCell key={key} column={column} row={row} lessons={l.children} />\r\n                else if(isHalf) return <HalfCell key={key} column={column} row={row} lessons={l.children} />\r\n                else if(isHalfQuarter) return <HalfCell key={key} column={column} row={row} lessons={l.children} />\r\n                else return <SingleCell key={key} column={column} row={row} lesson={l.children[0]} />\r\n              })\r\n\r\n              return [...cells, ...lessons] as React.ReactNode[]\r\n            }, [])\r\n          }\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default FullSchedule","import { Day } from \"../types/Day\";\r\nimport { Lesson } from \"../types/Lesson\";\r\nimport { PlainLesson } from \"../types/PlainLesson\";\r\n\r\ninterface ILesson\r\n{\r\n  lessonNum : Lesson\r\n  children : PlainLesson[]\r\n}\r\n\r\nexport interface IDay\r\n{\r\n  day : Day\r\n  lessons : ILesson[]\r\n}\r\n\r\nexport const fullSchedule = (schedule : PlainLesson[]) : IDay[] => {\r\n  const data : IDay[] = []\r\n\r\n  schedule.forEach((l,i) => {\r\n    const dayId = l.coords.i\r\n    const j = l.coords.j\r\n    const lessonId = (j > 2 ? j - 1 : j) as Lesson\r\n    \r\n    if(!data[dayId])\r\n      data[dayId] = { day : dayId, lessons : [] }\r\n      \r\n    if(!data[dayId].lessons[lessonId])\r\n      data[dayId].lessons[lessonId] = { lessonNum: lessonId, children: [] }\r\n      \r\n    data[dayId].lessons[lessonId].children.push(l)\r\n  })\r\n  \r\n  return data\r\n}","import React from 'react'\r\nimport './TabsSchedule.sass'\r\n\r\nimport { Tabs, TabsItem } from '@vkontakte/vkui'\r\n\r\nimport { Day } from '../../types/Day'\r\nimport { Week } from '../../types/Week'\r\nimport { currentDay, currentWeek } from '../../utils'\r\nimport { useDispatch } from 'react-redux'\r\nimport { changeDay, changeWeek } from '../../redux/slices/schedule'\r\n\r\nexport interface TabsScheduleProps\r\n{\r\n  week : Week\r\n  day : Day\r\n}\r\n\r\nconst DAYS = ['ПН','ВТ','СР','ЧТ','ПТ','СБ']\r\n\r\nconst TabsSchedule : React.FC<TabsScheduleProps> = ({\r\n  week,\r\n  day,\r\n}) => {\r\n  const dispatch = useDispatch()\r\n\r\n  return(\r\n    <>\r\n      <Tabs mode=\"default\" style={{ fontSize : '12px' }}>\r\n        <TabsItem\r\n          style={{ color : currentWeek() === 0 ? 'red' : '' }}\r\n          onClick={() => dispatch(changeWeek(0))} selected={week === 0}\r\n        >Числитель</TabsItem>\r\n        <TabsItem\r\n          style={{ color : currentWeek() === 1 ? 'red' : '' }}\r\n          onClick={() => dispatch(changeWeek(1))} selected={week === 1}\r\n        >Знаменатель</TabsItem>\r\n      </Tabs>\r\n      <Tabs mode=\"default\" style={{ fontSize : '12px' }}>\r\n        {DAYS.map((d, i) => {\r\n          const selected = i === day\r\n\r\n          return <TabsItem\r\n            key={i}\r\n            selected={selected}\r\n            style={{ color : currentDay() === i ? 'red' : '' }}\r\n            onClick={() => dispatch(changeDay(i as Day))}\r\n          >{d}</TabsItem>\r\n        })}\r\n      </Tabs>    \r\n    </>\r\n  )\r\n}\r\n\r\nexport default TabsSchedule","import React from 'react'\r\nimport { Gallery } from '@vkontakte/vkui'\r\n\r\nimport DayCard from '../DayCard'\r\nimport TabsSchedule from '../TabsSchedule'\r\nimport { selectDay } from '../../utils'\r\nimport { PlainLesson } from '../../types/PlainLesson'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { changeDay } from '../../redux/slices/schedule'\r\nimport { RootState } from '../../redux/rootReducer'\r\nimport { Day } from '../../types/Day'\r\n\r\ninterface ByDayProps\r\n{\r\n  schedule : PlainLesson[]\r\n}\r\n\r\nconst DAYS = [0,1,2,3,4,5]\r\n\r\nconst ByDay : React.FC<ByDayProps> = ({\r\n  schedule\r\n}) => {\r\n  const dispatch = useDispatch()\r\n  const { day, week } = useSelector((s : RootState) => s.schedule)\r\n  \r\n  const dayChange = (d : Day) => dispatch(changeDay(d))\r\n\r\n  return(\r\n    <>\r\n      <TabsSchedule week={week} day={day} />\r\n      <Gallery\r\n        style={{height:'100%'}}\r\n        slideIndex={day}\r\n        onChange={dayChange}\r\n      >\r\n        {DAYS.map(d => {\r\n          return <DayCard key={d} day={day} week={week} lessons={selectDay(schedule, d, week)} />\r\n        })}\r\n      </Gallery>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ByDay","import React from 'react'\r\n\r\nimport Icon28ArticleOutline from '@vkontakte/icons/dist/28/article_outline' // по дням\r\nimport Icon28GridSquareOutline from '@vkontakte/icons/dist/28/grid_square_outline' // полностью\r\nimport Icon28Users3Outline from '@vkontakte/icons/dist/28/users_3_outline' // экзамены\r\nimport Icon28FavoriteOutline from '@vkontakte/icons/dist/28/favorite_outline' // сохранить\r\nimport Icon28UnfavoriteOutline from '@vkontakte/icons/dist/28/unfavorite_outline' // удалить\r\nimport Icon28ViewOutline from '@vkontakte/icons/dist/28/view_outline' // разница\r\nimport Icon28HideOutline from '@vkontakte/icons/dist/28/hide_outline' // без разницы\r\n\r\nexport type MenuItemId =  'byDays' | 'full' | 'exams' | 'without_diff' | 'with_diff' | 'save' | 'delete'\r\n\r\ninterface MenuItemIconProps\r\n{\r\n  id : MenuItemId\r\n}\r\n\r\nconst MenuItemIcon : React.FC<MenuItemIconProps> = ({\r\n  id\r\n}) => {\r\n  switch(id)\r\n  {\r\n    case 'byDays': return <Icon28ArticleOutline />\r\n    case 'full': return <Icon28GridSquareOutline />\r\n    case 'exams': return <Icon28Users3Outline />\r\n    case 'save': return <Icon28FavoriteOutline fill=\"orange\" />\r\n    case 'delete': return <Icon28UnfavoriteOutline fill=\"red\" />\r\n    case 'with_diff': return <Icon28ViewOutline fill=\"#4bb34b\" />\r\n    case 'without_diff': return <Icon28HideOutline fill=\"gray\" />\r\n  }\r\n}\r\n\r\nexport default MenuItemIcon","import React from 'react'\r\nimport './Schedule.sass'\r\n\r\nimport { Button, Cell, List, Panel, PanelHeader, PanelHeaderBack, PanelHeaderContent, PanelHeaderContext, PanelSpinner, Placeholder } from \"@vkontakte/vkui\"\r\nimport Icon16Dropdown from '@vkontakte/icons/dist/16/dropdown'\r\nimport Icon24Done from '@vkontakte/icons/dist/24/done'\r\n\r\nimport Title from '../../components/Title'\r\nimport DayCard from '../../components/DayCard'\r\nimport FullSchedule from '../../components/FullSchedule'\r\nimport ByDay from '../../components/ByDay'\r\n\r\nimport { ILesson } from '../../types/ILesson'\r\nimport { PlainLesson } from '../../types/PlainLesson'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { RootState } from '../../redux/rootReducer'\r\nimport { changeMode, popHistory, requestSchedule, setIsDiff } from '../../redux/slices/schedule'\r\nimport { changePanel } from '../../redux/slices/navigation'\r\nimport { SCHEDULE_STORY, SEARCH_PANEL } from '../../constans'\r\nimport { addGroup, delGroup } from '../../redux/slices/profile'\r\nimport MenuItemIcon, { MenuItemId } from './MenuItemIcon'\r\nimport { getDiff } from '../../utils/'\r\n\r\ninterface ISchedulePanelProps\r\n{\r\n  id : string\r\n}\r\n\r\nexport type MenuItem = { text : string, id : string }\r\nconst MENU = [\r\n  { text : 'По дням', id : 'byDays' },\r\n  { text : 'Полностью', id : 'full' },\r\n  { text : 'Экзамены', id : 'exams' },\r\n  { text : 'Без разницы', id : 'without_diff' },\r\n  { text : 'Разница', id : 'with_diff' },\r\n  { text : 'Сохранить', id : 'save' },\r\n  { text : 'Удалить', id : 'delete' },\r\n]\r\n\r\nconst Schedule : React.FC<ISchedulePanelProps> = ({\r\n  id,\r\n}) => {\r\n  const dispatch = useDispatch()\r\n  const { activeMode, activeSchedule, loading, error, history, isDiff } = useSelector((s : RootState) => s.schedule)\r\n  const { user, loadingUser } = useSelector((s : RootState) => s.profile)\r\n\r\n  const [menuOpened, setMenuOpened] = React.useState<boolean>(false)\r\n  const toggleMenu = () => setMenuOpened(!menuOpened && !loading)\r\n\r\n  const selectMenuItem = (item : MenuItem) => {\r\n    if(item.id !== activeMode.id)\r\n    {\r\n      if(item.id === 'save' && user)\r\n      {\r\n        dispatch(addGroup({uid : user.id, group : history[history.length-1]}))\r\n        dispatch(setIsDiff(false))\r\n      }\r\n      else if(item.id === 'delete' && user)\r\n      {\r\n        dispatch(delGroup(user.id))\r\n        dispatch(setIsDiff(false))\r\n      }\r\n      else if(item.id === 'with_diff' || item.id === 'without_diff')\r\n      {\r\n        dispatch(setIsDiff(item.id === 'with_diff'))\r\n      }\r\n      else if(item.id === 'exams')\r\n      {\r\n        dispatch(changeMode(item))\r\n        dispatch(setIsDiff(false))\r\n      }\r\n      else dispatch(changeMode(item))\r\n    }\r\n\r\n    requestAnimationFrame(toggleMenu)\r\n  }\r\n\r\n  const goBack = () => {\r\n    dispatch(popHistory())\r\n\r\n    if(history.length < 2)\r\n      dispatch(changePanel({story : SCHEDULE_STORY, panel : SEARCH_PANEL}))\r\n  }\r\n\r\n  const handleError = () => {\r\n    dispatch(requestSchedule({href : history[history.length - 1], add : false}))\r\n  }\r\n\r\n  const diff = React.useMemo(() => {\r\n    if(isDiff && user && user.myGroup && activeSchedule)\r\n      return getDiff(activeSchedule.schedule as PlainLesson[], user.myGroup.schedule)\r\n\r\n    return []\r\n  }, [isDiff, user, activeSchedule])\r\n\r\n  return(\r\n    <Panel id={id}>\r\n      <PanelHeader left={<PanelHeaderBack onClick={goBack} />}>\r\n        <div onClick={toggleMenu} className='header'>\r\n          {activeMode.text}\r\n          <Icon16Dropdown fill='var(--accent)' style={{ transform: `rotate(${menuOpened && activeSchedule ? '180deg' : '0'})` }} />\r\n        </div>\r\n      </PanelHeader>\r\n      {activeSchedule &&\r\n        <PanelHeaderContext\r\n          opened={menuOpened}\r\n          onClose={toggleMenu}\r\n        >\r\n          <List>\r\n            {MENU.map((item,i) => {\r\n              const notExams = !activeSchedule?.exams && item.id === 'exams'\r\n              const examsSelected = activeMode.id === 'exams' && (item.id === 'with_diff' || item.id === 'without_diff')\r\n\r\n              const myGroup = user && user.group === activeSchedule.href\r\n              const myGroupSave = myGroup && item.id === 'save'\r\n              const notMyGroupDelete = !myGroup && item.id === 'delete'\r\n\r\n              const withoutDiff = isDiff && item.id === 'with_diff'\r\n              const withDiff = !isDiff && item.id === 'without_diff'\r\n              const ownDiff = (item.id === 'without_diff' || item.id === 'with_diff') && myGroup\r\n\r\n              const notUserGroup = user && !user.group && (item.id === 'with_diff' || item.id === 'without_diff')\r\n\r\n              if(\r\n                examsSelected ||\r\n                notExams ||\r\n                myGroupSave ||\r\n                notMyGroupDelete ||\r\n                withoutDiff ||\r\n                withDiff ||\r\n                ownDiff ||\r\n                notUserGroup\r\n              ) return\r\n\r\n              let cn = ''\r\n              if(item.id === 'save') cn = 'save'\r\n              else if(item.id === 'delete') cn = 'delete'\r\n\r\n              return <Cell\r\n                key={i}\r\n                before={<MenuItemIcon id={item.id as MenuItemId} />}\r\n                onClick={() => selectMenuItem(item)}\r\n                className={cn}\r\n                asideContent={activeMode.id === item.id ? <Icon24Done fill='var(--accent)' /> : null}\r\n              >{item.text}</Cell>\r\n            })}        \r\n          </List>\r\n        </PanelHeaderContext>\r\n      }\r\n      \r\n      {loading && <PanelSpinner />}\r\n      {error && \r\n        <Placeholder\r\n          action={<Button mode=\"tertiary\" onClick={handleError}>Попробовать еще</Button>}\r\n          stretched\r\n        >Произошла ошибка</Placeholder>\r\n      }\r\n      {activeSchedule && <>\r\n        <Title\r\n          href={activeSchedule.href}\r\n          isDiff={isDiff}\r\n          mySchedule={(user && user.group === activeSchedule.href) as boolean}\r\n          title={activeSchedule!.title}\r\n          loading={loadingUser}\r\n        />\r\n        {activeMode.id === 'exams' && <DayCard infoShow={false} lessons={activeSchedule!.exams as ILesson[]} />}\r\n        {activeMode.id === 'byDays' &&\r\n          <ByDay schedule={isDiff ? diff : activeSchedule.schedule as PlainLesson[]}/>\r\n        }\r\n        {activeMode.id === 'full' &&\r\n          <FullSchedule schedule={isDiff ? diff : activeSchedule.schedule as PlainLesson[]}/>\r\n        }\r\n      </>}\r\n    </Panel>\r\n  )\r\n}\r\n\r\nexport default Schedule","import { PlainLesson, Coords } from \"../types/PlainLesson\"\r\n\r\nexport const getDiff = (a : PlainLesson[], b : PlainLesson[]) : PlainLesson[] => {\r\n  console.log('DIFF...')\r\n  \r\n  const isEqual = (a : Coords, b : Coords) : boolean => {\r\n    const dayEqual = a.i === b.i\r\n    const lessonNumEqual = a.j === b.j\r\n    const weekEqual = a.z === b.z || a.z === 2 || b.z === 2\r\n    const groupEqual = a.k === b.k || a.k === 2 || b.k === 2\r\n\r\n    return dayEqual && lessonNumEqual && weekEqual && groupEqual\r\n  }\r\n  \r\n  return a.filter(la => !b.find(lb => isEqual(la.coords, lb.coords)))\r\n}","import React from 'react'\r\nimport './Profile.sass'\r\n\r\nimport { Avatar, Banner, Button, Card, CardScroll, CellButton, Div, Group, Header, InfoRow, Link, Panel, PanelHeader, PanelHeaderButton, PanelSpinner, Placeholder, Progress, Snackbar, usePlatform } from \"@vkontakte/vkui\"\r\nimport Icon28GlobeOutline from '@vkontakte/icons/dist/28/globe_outline'\r\nimport Icon16Favorite from '@vkontakte/icons/dist/16/favorite';\r\nimport Icon16OnlineMobile from '@vkontakte/icons/dist/16/online_mobile';\r\nimport Icon16Share from '@vkontakte/icons/dist/16/share';\r\nimport Icon16ErrorCircleOutline from '@vkontakte/icons/dist/16/error_circle_outline';\r\nimport Icon16DoneCircle from '@vkontakte/icons/dist/16/done_circle';\r\nimport Icon24NotificationOutline from '@vkontakte/icons/dist/24/notification_outline';\r\nimport Icon24NotificationSlashOutline from '@vkontakte/icons/dist/24/notification_slash_outline';\r\nimport bridge from '@vkontakte/vk-bridge'\r\n\r\nimport bg1 from '../../assets/banner_bg.jpg'\r\nimport bg2 from '../../assets/banner_bg1.jpg'\r\n\r\nimport { currentWeek, toEnd } from '../../utils'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { changePanel, changeStory } from '../../redux/slices/navigation'\r\nimport { COUNT_LAST_SCHEDULES, MAP_PANEL, PROFILE_STORY, SCHEDULE_PANEL, SCHEDULE_STORY, SEARCH_PANEL } from '../../constans'\r\nimport { RootState } from '../../redux/rootReducer'\r\nimport { clearHistory, requestSchedule, setIsDiff } from '../../redux/slices/schedule'\r\nimport { delGroup, requestStreams, requestUser } from '../../redux/slices/profile'\r\nimport { FromWhom } from '../../types/ILesson'\r\nimport { useLastSchedules } from '../../utils'\r\n\r\n\r\ninterface IProfilePanelProps\r\n{\r\n  id : string\r\n}\r\n\r\nconst Profile : React.FC<IProfilePanelProps> = ({\r\n  id,\r\n}) => {\r\n  const platform = usePlatform()\r\n  \r\n  const dispatch = useDispatch()\r\n  const {\r\n    user, loadingUser, errorUser, userId,\r\n    streams, loadingStreams, errorStreams,\r\n  } = useSelector((s : RootState) => s.profile)\r\n\r\n  const [snackbar, setSnackbar] = React.useState<React.ReactElement | null>(null)\r\n  const openSnackbar = (text : string) => {\r\n    setSnackbar(\r\n      <Snackbar\r\n        before={\r\n          <Avatar size={24} style={{backgroundColor:'var(--accent)'}}>\r\n            <Icon16DoneCircle fill=\"#fff\" width={14} height={14} />\r\n          </Avatar>\r\n        }\r\n        onClose={() => setSnackbar(null)}\r\n      >{text}</Snackbar>\r\n    )\r\n  }\r\n\r\n  const { setLast } = useLastSchedules(COUNT_LAST_SCHEDULES)\r\n  const [now, total, diff] = toEnd()\r\n\r\n  const goToSchedule = (s : FromWhom) => {\r\n    setLast(s)\r\n    dispatch(requestSchedule({href : s.href}))\r\n    dispatch(changeStory(SCHEDULE_STORY))\r\n    dispatch(changePanel({story:SCHEDULE_STORY,panel:SCHEDULE_PANEL}))\r\n  }\r\n\r\n  const addToFavorites = () => {\r\n    bridge.send('VKWebAppAddToFavorites')\r\n      .then(_=>openSnackbar('Добавлено в избранное'))\r\n      .catch(err=>err)\r\n  }\r\n\r\n  const allowNotifications = () => {\r\n    bridge.send('VKWebAppAllowNotifications')\r\n      .then(_=>openSnackbar('Уведомления разрешены'))\r\n      .catch(err=>err)\r\n  }\r\n  \r\n  const addToHomeScreen = () => {\r\n    bridge.send('VKWebAppAddToHomeScreen')\r\n      .then(res=>res)\r\n      .catch(err=>err)\r\n  }\r\n\r\n  const share = () => {\r\n    bridge.send('VKWebAppShare')\r\n      .then(res=>res)\r\n      .catch(err=>err)\r\n  }\r\n  \r\n  return(\r\n    <Panel id={id}>\r\n      <PanelHeader\r\n        left={\r\n          <PanelHeaderButton\r\n            onClick={() => dispatch(changePanel({story : PROFILE_STORY, panel : MAP_PANEL}))}\r\n          ><Icon28GlobeOutline /></PanelHeaderButton>\r\n        }\r\n      >Профиль</PanelHeader>\r\n\r\n      {!loadingUser && !errorUser &&\r\n        <Group>\r\n          <Banner\r\n            mode=\"image\"\r\n            header=\"Ускорение доступа\"\r\n            background={\r\n              <div\r\n                style={{\r\n                  backgroundColor: '#5b9be6',\r\n                  backgroundImage: `url(${bg1})`,\r\n                  backgroundPosition: 'right bottom',\r\n                  backgroundSize: '100%',\r\n                  backgroundRepeat: 'no-repeat',\r\n                }}\r\n              />\r\n            }\r\n            actions={\r\n              <div\r\n                style={{\r\n                  display:'flex',\r\n                  flexDirection : 'column',\r\n                  marginTop : 12,\r\n                  width : '70%',\r\n                }}\r\n              >\r\n                  <Button\r\n                    mode=\"overlay_primary\"\r\n                    onClick={addToFavorites}\r\n                    before={<Icon16Favorite/>}\r\n                  >В избранное</Button>\r\n                  <Button\r\n                    style={{marginTop:8}}\r\n                    mode=\"overlay_primary\"\r\n                    onClick={allowNotifications}\r\n                    before={<Icon24NotificationOutline width={16}/>}\r\n                  >Уведомления</Button>\r\n                {platform === 'android' &&\r\n                  <Button\r\n                    style={{marginTop:8}}\r\n                    mode=\"overlay_primary\"\r\n                    onClick={addToHomeScreen}\r\n                    before={<Icon16OnlineMobile/>}\r\n                  >На дом. экран</Button>\r\n                }\r\n              </div>\r\n            }\r\n          />\r\n\r\n          <Banner\r\n            mode=\"image\"\r\n            header=\"Помощь приложению\"\r\n            background={ <div style={{ backgroundColor: '#ed765e' }}/>}\r\n            actions={\r\n              <div style={{ display:'flex', marginTop : 12 }}>\r\n                <Button\r\n                  mode=\"commerce\"\r\n                  onClick={share}\r\n                  before={<Icon16Share/>}\r\n                  style={{flex:1}}\r\n                >Поделиться</Button>\r\n                <Button\r\n                  style={{marginLeft:8, flex:1}}\r\n                  mode=\"destructive\"\r\n                  before={<Icon16ErrorCircleOutline/>}\r\n                ><Link style={{color:'white'}} href={'https://vk.com/board198278031'}>Ошибка!</Link></Button>\r\n              </div>\r\n            }\r\n          />\r\n\r\n          <Banner\r\n            mode=\"image\"\r\n            header={`Текущая неделя : ${currentWeek() === 0 ? 'числитель' : 'знаменатель'}`}\r\n            subheader={`Конец семестра 03.01.2021г`}\r\n            background={\r\n              <div\r\n                style={{\r\n                  backgroundColor: '#65c063',\r\n                  backgroundImage: `url(${bg2})`,\r\n                  backgroundPosition: 'right bottom',\r\n                  backgroundSize: 320,\r\n                  backgroundRepeat: 'no-repeat',\r\n                }}\r\n              />\r\n            }\r\n            actions={\r\n              <InfoRow style={{marginTop:4}} header={`Осталось ${diff} дн.`}>\r\n                <Progress\r\n                  style={{width:'70%', marginTop : 8, background : 'gray'}}\r\n                  value={(now / total) * 100}\r\n                />\r\n              </InfoRow>\r\n            }\r\n          />\r\n\r\n          <Div style={{padding:'0px 12px'}}>\r\n            <Card className=\"card-wrapper\">\r\n              <Header>Трансляции</Header>\r\n                {loadingStreams\r\n                  ? <PanelSpinner />\r\n                  : errorStreams\r\n                    ? <Div style={{display:'flex', justifyContent:'center'}}>\r\n                        <Button\r\n                          mode=\"tertiary\"\r\n                          onClick={() => dispatch(requestStreams())}\r\n                        >Попробовать еще</Button>\r\n                    </Div>\r\n                    : <CardScroll>\r\n                        {streams.map((stream, i) => {\r\n                          return <Card\r\n                            key={i}\r\n                            className=\"card-stream\"\r\n                          ><Link href={stream.href}>{stream.title}</Link></Card>\r\n                          })\r\n                        }\r\n                      </CardScroll>\r\n                }\r\n              \r\n            </Card>\r\n          </Div>\r\n\r\n          <Banner\r\n            mode=\"image\"\r\n            header=\"Ваше расписание\"\r\n            background={<div style={{ backgroundColor:'#fea858' }} />}\r\n            actions={\r\n              user && user.myGroup\r\n                ? <div\r\n                    style={{\r\n                      display:'flex',\r\n                      flexDirection : 'column',\r\n                      marginTop : 12,\r\n                    }}\r\n                  >\r\n                    <Button\r\n                      onClick={() => goToSchedule(user.myGroup!)}\r\n                    >{user.myGroup.title}</Button>\r\n                    <Button\r\n                      mode=\"destructive\"\r\n                      style={{marginTop:8}}\r\n                      onClick={() => {\r\n                        dispatch(setIsDiff(false))\r\n                        dispatch(delGroup(user.id))\r\n                      }}\r\n                    >Удалить расписание</Button>\r\n                  </div>\r\n                : <Button\r\n                    size=\"xl\"\r\n                    onClick={() => {\r\n                      dispatch(changeStory(SCHEDULE_STORY))\r\n                      dispatch(changePanel({story:SCHEDULE_STORY,panel:SEARCH_PANEL}))\r\n                      dispatch(clearHistory())\r\n                    }}\r\n                  >Выбрать</Button>\r\n            }\r\n          />\r\n          {user && user.myGroup &&\r\n            <Div style={{padding:'0px 12px 12px 12px'}}>\r\n              <Card>\r\n                <Group\r\n                  header={<Header>{user.group.includes('t') ? 'Группы' : 'Преподаватели'}</Header>}\r\n                  style={{marginTop:8}}\r\n                >\r\n                  {user.fromWhoms.map((fw,i) => {\r\n                    return <CellButton\r\n                      key={i}\r\n                      onClick={() => goToSchedule(fw)}\r\n                    >{fw.title}</CellButton>\r\n                  })}\r\n                </Group>\r\n              </Card>\r\n            </Div>\r\n          }\r\n        </Group>\r\n      }\r\n\r\n      {snackbar}\r\n\r\n      {errorUser &&\r\n        <Placeholder\r\n          action={\r\n            <Button\r\n              mode=\"tertiary\"\r\n              onClick={() => dispatch(requestUser(userId as number))}\r\n            >Попробовать еще</Button>\r\n          }\r\n          stretched\r\n        >Произошла ошибка</Placeholder>\r\n      }\r\n    </Panel>\r\n  )\r\n}\r\n\r\nexport default Profile","export const toEnd = () => {\r\n  const start = new Date(2020, 8, 1).getTime()\r\n  const now = new Date().getTime()\r\n  const end = new Date(2021, 0, 3).getTime()\r\n\r\n  const DAYS = 1000 * 60 * 60 * 24\r\n\r\n  const wasted = (now - start) / DAYS\r\n  const total  = (end - start) / DAYS\r\n  const diff   = (end - now) / DAYS\r\n\r\n  return [wasted, total, diff].map(Math.floor)\r\n}","import React from 'react'\r\n\r\nimport { Cell, Div, Group, Panel, PanelHeader, PanelHeaderBack } from \"@vkontakte/vkui\"\r\n\r\nimport map from '../../assets/map.png'\r\nimport { useDispatch } from 'react-redux'\r\nimport { changePanel } from '../../redux/slices/navigation'\r\nimport { PROFILE_PANEL, PROFILE_STORY } from '../../constans'\r\n\r\ninterface IMapPanelProps\r\n{\r\n  id : string\r\n}\r\n\r\nconst Map : React.FC<IMapPanelProps> = ({\r\n  id,\r\n}) => {\r\n  const dispatch = useDispatch()\r\n  return(\r\n    <Panel id={id}>\r\n      <PanelHeader\r\n        left={\r\n          <PanelHeaderBack\r\n            onClick={() => dispatch(changePanel({story : PROFILE_STORY, panel : PROFILE_PANEL}))}\r\n          />\r\n        }\r\n      >Карта</PanelHeader>\r\n\r\n      <Div>\r\n        <img src={map} alt=\"карта\" style={{width:'100%'}}/>\r\n      </Div>\r\n\r\n      <Div>\r\n        <Group header=\"Расшифровка аббревиатур\">\r\n          <Cell>УК - учебный корпус</Cell>\r\n          <Cell>ГУК - главный учебный корпус</Cell>\r\n          <Cell>СДК - студенческий дворец культуры</Cell>\r\n          <Cell>УСК - учебно-спортивный комплекс</Cell>\r\n        </Group>\r\n      </Div>\r\n    </Panel>\r\n  )\r\n}\r\n\r\nexport default Map","import React from 'react'\r\nimport './Search.sass'\r\nimport schedules from '../../data/schedules.json'\r\n\r\nimport { Card, CardScroll, CellButton, FixedLayout, List, Panel, PanelHeader, PanelSpinner, Placeholder, Search } from \"@vkontakte/vkui\"\r\n\r\nimport { FromWhom } from '../../types/ILesson'\r\nimport { changePanel } from '../../redux/slices/navigation'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { COUNT_LAST_SCHEDULES, SCHEDULE_PANEL, SCHEDULE_STORY } from '../../constans'\r\nimport { setQuery, setLoading } from '../../redux/slices/search'\r\nimport { RootState } from '../../redux/rootReducer'\r\nimport { clearHistory, requestSchedule } from '../../redux/slices/schedule'\r\nimport { useLastSchedules } from '../../utils'\r\n\r\ninterface ISearchPanelProps\r\n{\r\n  id : string\r\n}\r\n\r\nconst SearchPanel : React.FC<ISearchPanelProps> = ({\r\n  id,\r\n}) => {\r\n\r\n  const dispatch = useDispatch()\r\n  const {query, loading} = useSelector((s : RootState) => s.search)\r\n  \r\n  const { last, setLast } = useLastSchedules(COUNT_LAST_SCHEDULES)\r\n\r\n  const filterSearch = (value : string) => (s : FromWhom) =>\r\n    s.title.toLowerCase().includes(value.toLowerCase())\r\n    \r\n  const [searchResult, setSearchResult] = React.useState<typeof schedules>(query ? schedules.filter(filterSearch(query)) : [])\r\n  React.useEffect(() => {\r\n    let tid : number | undefined\r\n    if(query)\r\n    {\r\n      tid = setTimeout(() => {\r\n        dispatch(setLoading(false))\r\n        setSearchResult(schedules.filter(filterSearch(query)))\r\n      }, 150) as unknown as number\r\n    }\r\n    else\r\n    {\r\n      dispatch(setLoading(false))\r\n      setSearchResult([])\r\n    }\r\n\r\n    return () => clearTimeout(tid)\r\n  }, [query])\r\n  const handleChange = (e : React.FormEvent<HTMLInputElement>) => {\r\n    dispatch(setQuery(e.currentTarget.value))\r\n    dispatch(setLoading(true))\r\n  }\r\n  \r\n  const goToSchedule = (s : FromWhom) => {\r\n    setLast(s)\r\n    dispatch(requestSchedule({href : s.href}))\r\n    dispatch(changePanel({ story : SCHEDULE_STORY, panel : SCHEDULE_PANEL }))\r\n  }\r\n\r\n  return(\r\n    <Panel id={id}>\r\n      <PanelHeader separator={false}>Поиск</PanelHeader>\r\n      <FixedLayout vertical=\"top\">\r\n        <Search\r\n          placeholder=\"Группа или преподаватель\"\r\n          value={query}\r\n          onChange={handleChange}\r\n          after={null}\r\n        />\r\n        {last.length !== 0 &&\r\n          <CardScroll>\r\n            {last.map(s => {\r\n              return <Card\r\n                key={s.href}\r\n                className=\"last-card\"\r\n                onClick={() => goToSchedule(s)}\r\n              >{s.title}</Card>\r\n            })}\r\n          </CardScroll>\r\n        }\r\n      </FixedLayout>\r\n      {\r\n        loading\r\n          ? <div style={{marginTop:100}}><PanelSpinner/></div>\r\n          : searchResult.length === 0\r\n            ? <Placeholder stretched>Ничего не найдено</Placeholder>\r\n            : (\r\n              <List style={{ marginTop : 52 + (last.length === 0 ? 0 : 50) }}>\r\n                {searchResult.map(s => {\r\n                  return <CellButton\r\n                    key={s.href}\r\n                    onClick={() => goToSchedule(s)}\r\n                  >{s.title}</CellButton>\r\n                })}\r\n              </List>\r\n            )\r\n      }\r\n\r\n    </Panel>\r\n  )\r\n}\r\n\r\nexport default SearchPanel","import React from 'react'\r\nimport './StaticsLesson.sass'\r\n\r\nimport { CellButton, Div, Group, InfoRow, ModalPage, ModalPageHeader, ModalRoot, PanelHeaderButton, Progress } from '@vkontakte/vkui'\r\nimport { getStatsLesson } from '../../utils'\r\nimport Title from '../Title'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { RootState } from '../../redux/rootReducer'\r\nimport { requestSchedule, setIsDiff, setSubject } from '../../redux/slices/schedule'\r\nimport { PlainLesson } from '../../types/PlainLesson'\r\nimport { FromWhom } from '../../types/ILesson'\r\nimport { useLastSchedules } from '../../utils'\r\nimport { COUNT_LAST_SCHEDULES } from '../../constans'\r\n\r\ninterface StaticsLessonProps{}\r\n\r\nconst TYPE_LESSON = {\r\n  lec : 'Лекции',\r\n  pr : 'Практики',\r\n  lab : 'Лабораторные'\r\n}\r\n\r\nconst StaticsLesson : React.FC<StaticsLessonProps> = ({\r\n  \r\n}) => {\r\n  const dispatch = useDispatch()\r\n  const { activeSubject, activeSchedule } = useSelector((s : RootState) => s.schedule)\r\n\r\n  const { setLast } = useLastSchedules(COUNT_LAST_SCHEDULES)\r\n\r\n  const closeModal = () => dispatch(setSubject(null))\r\n\r\n  const goToSchedule = (s : FromWhom) => {\r\n    setLast(s)\r\n    closeModal()\r\n    dispatch(requestSchedule({href : s.href}))\r\n    dispatch(setIsDiff(false))\r\n  }\r\n  \r\n  if(!activeSchedule) return null\r\n  \r\n  const data = getStatsLesson(activeSubject as string, activeSchedule.schedule)\r\n\r\n  return(\r\n    <ModalRoot\r\n      activeModal={activeSubject ? 'statics_lesson' : null}\r\n      onClose={closeModal}\r\n    >\r\n      <ModalPage\r\n        id=\"statics_lesson\"\r\n        dynamicContentHeight={true}\r\n        onClose={closeModal}\r\n        header={\r\n          <ModalPageHeader\r\n            right={<PanelHeaderButton onClick={closeModal}>Закрыть</PanelHeaderButton>}\r\n          >Статистика</ModalPageHeader>\r\n        }\r\n      >\r\n        <Title title={activeSubject as string}/>\r\n        <Div>\r\n          <Group header=\"Занятия\" separator=\"hide\">\r\n            {data && Object.entries(data.stats).map((entrie, i) => {\r\n              const [key, [now, total]] = entrie\r\n\r\n              if(total === 0) return\r\n\r\n              return(\r\n                <Div key={i}>\r\n                  <InfoRow header={`${TYPE_LESSON[key as keyof typeof TYPE_LESSON]} ${now}/${total}`}>\r\n                    <Progress className={`progress__${key}`} value={(now / total) * 100} />\r\n                  </InfoRow>\r\n                </Div>\r\n              )\r\n            })}\r\n          </Group>\r\n          {data && data.fromWhoms.length !== 0 &&\r\n            <Group header={activeSchedule.href.includes('t') ? 'Группы' : 'Преподаватели'} separator=\"hide\">\r\n              {data.fromWhoms.map(fw => {\r\n                return <CellButton\r\n                  key={fw.href}\r\n                  onClick={() => goToSchedule(fw)}\r\n                >{fw.title}</CellButton>\r\n              })}\r\n            </Group>\r\n          }\r\n        </Div>\r\n      </ModalPage>\r\n    </ModalRoot>\r\n  )\r\n}\r\n\r\nexport default StaticsLesson","import weeks from '../data/weeks.json'\r\n\r\nimport { FromWhom } from '../types/ILesson'\r\nimport { PlainLesson } from '../types/PlainLesson'\r\n\r\nexport const getStatsLesson = (subject : string, schedule : PlainLesson[]) => {\r\n  const byWeek = [[0,0],[0,0],[0,0]]\r\n  const fromWhoms : FromWhom[] = []\r\n\r\n  const now = new Date()\r\n  \r\n  const dd = now.getDay()\r\n  const currentDay = dd === 0 ? 6 : dd - 1\r\n  \r\n  const d = now.getTime()\r\n  const currentWeekIndex = weeks.findIndex(({ date : [start, end] }) => start < d && d < end)\r\n  \r\n\r\n  schedule.forEach(l => {\r\n    if(l.subject === subject)\r\n    {\r\n      weeks.forEach((w, i) => {\r\n        const week = l.coords.z\r\n        const day = l.coords.i\r\n        const group = l.coords.k\r\n\r\n        if(week === w.week || week === 2)\r\n        {\r\n          if(\r\n            group !== 2 && (l.fromWhoms.length === 2 || week !== 2) ||\r\n            group === 2\r\n          )\r\n            byWeek[l.type][1]++\r\n          else\r\n            byWeek[l.type][1] += 0.5\r\n\r\n          if(\r\n            i < currentWeekIndex ||\r\n            i === currentWeekIndex && day <= currentDay\r\n          )\r\n          {\r\n            if(\r\n              group !== 2 && (l.fromWhoms.length === 2 || week !== 2) ||\r\n              group === 2\r\n            )\r\n              byWeek[l.type][0]++\r\n            else\r\n              byWeek[l.type][0] += 0.5\r\n          }\r\n        }\r\n      })\r\n\r\n      l.fromWhoms.map(fw => {\r\n        if(fromWhoms.find(_ => _.href === fw.href)) return\r\n\r\n        fromWhoms.push(fw)\r\n      })\r\n    }\r\n  })\r\n\r\n  return {\r\n    fromWhoms,\r\n    stats : {\r\n      lec : byWeek[0].map(Math.floor),\r\n      pr  : byWeek[1].map(Math.floor),\r\n      lab : byWeek[2].map(Math.floor),\r\n    },\r\n  }\r\n}","import React from 'react'\r\nimport './List.sass'\r\n\r\nimport { Button, Div, FixedLayout, List, Panel, PanelHeader, PanelHeaderButton, PanelSpinner, Placeholder, SimpleCell, Tabs, TabsItem } from '@vkontakte/vkui'\r\nimport Icon28ShareOutline from '@vkontakte/icons/dist/28/share_outline';\r\nimport bridge from '@vkontakte/vk-bridge'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { RootState } from '../../redux/rootReducer';\r\nimport { requestList } from '../../redux/slices/list';\r\n\r\ninterface ListPanelProps\r\n{\r\n  id : string\r\n}\r\n\r\nconst ListPanel : React.FC<ListPanelProps> = ({\r\n  id,\r\n}) => {\r\n  const dispatch = useDispatch()\r\n  const { loadingList, errorList, list } = useSelector((s : RootState) => s.list)\r\n\r\n  const [activeTab, setActiveTab] = React.useState<'instituts'|'groups'>('groups')\r\n\r\n  const share = () => {\r\n    bridge.send('VKWebAppShare')\r\n      .then(res=>res)\r\n      .catch(err=>err)\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    if(!list) dispatch(requestList())\r\n  },[])\r\n\r\n  return (\r\n    <Panel id={id}>\r\n      <PanelHeader\r\n        separator={false}\r\n        left={\r\n          <PanelHeaderButton\r\n            onClick={share}\r\n          ><Icon28ShareOutline/></PanelHeaderButton>\r\n        }\r\n      >Список</PanelHeader>\r\n      <FixedLayout style={{width:'100%'}}>\r\n        <Tabs>\r\n          <TabsItem\r\n            selected={activeTab === 'groups'}\r\n            onClick={() => setActiveTab('groups')}\r\n          >Группы</TabsItem>\r\n          <TabsItem\r\n            selected={activeTab === 'instituts'}\r\n            onClick={() => setActiveTab('instituts')}\r\n          >Институты</TabsItem>\r\n        </Tabs>\r\n      </FixedLayout>\r\n\r\n      {loadingList && <div style={{marginTop:60}}><PanelSpinner/></div>}\r\n      {errorList &&\r\n        <Placeholder\r\n         style={{marginTop:52}}\r\n          action={\r\n            <Button\r\n              mode=\"tertiary\"\r\n              onClick={() => dispatch(requestList())}\r\n            >Попробовать еще</Button>\r\n          }\r\n          stretched\r\n        >Произошла ошибка</Placeholder>\r\n      }\r\n      {list &&\r\n        <List style={{marginTop:52}}>\r\n          {Object.entries(list[activeTab]).map((entrie,i) => {\r\n            const [key, count] = entrie\r\n\r\n            let cn = ''\r\n            if(i < 5) cn = `place-${i+1}`\r\n\r\n            return <SimpleCell\r\n              key={i}\r\n              disabled\r\n              before={<b className={cn}>{`${i+1}`}</b>}\r\n              after={count as number}\r\n            >{key}</SimpleCell>\r\n          })}\r\n        </List>\r\n      }\r\n    </Panel>\r\n  )\r\n}\r\n\r\nexport default ListPanel","import React from 'react'\n\nimport bridge from '@vkontakte/vk-bridge'\nimport { ConfigProvider, Epic, ScreenSpinner, Tabbar, TabbarItem, View } from '@vkontakte/vkui'\nimport Icon28UserCircleOutline from \"@vkontakte/icons/dist/28/user_circle_outline\"\nimport Icon28GridSquareOutline from \"@vkontakte/icons/dist/28/grid_square_outline\"\nimport Icon28ListOutline from '@vkontakte/icons/dist/28/list_outline';\n\nimport Schedule from './panels/Schedule'\nimport Profile from './panels/Profile'\nimport Map from './panels/Map'\nimport SearchPanel from './panels/Search'\nimport StaticsLesson from './components/StaticsLesson'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { RootState } from './redux/rootReducer'\nimport { changePanel, changeStory } from './redux/slices/navigation'\nimport { SCHEDULE_PANEL, SCHEDULE_STORY, SEARCH_PANEL } from './constans'\nimport { requestStreams, requestUser } from './redux/slices/profile'\nimport { clearHistory } from './redux/slices/schedule'\nimport ListPanel from './panels/List'\n\nconst App : React.FC = () => {\n\tconst dispatch = useDispatch()\n\tconst { story, panels } = useSelector((s : RootState) => s.navigation)\n\tconst { loadingUser } = useSelector((s : RootState) => s.profile)\n\n\tconst changeActiveStory = (e : React.MouseEvent<HTMLDivElement>) => {\n\t\tconst newStory = e.currentTarget.dataset.story\n\t\tif(\n\t\t\tnewStory === SCHEDULE_STORY &&\n\t\t\tstory === SCHEDULE_STORY &&\n\t\t\tpanels.schedule === SCHEDULE_PANEL\n\t\t)\n\t\t{\n\t\t\tdispatch(changePanel({story:SCHEDULE_STORY, panel:SEARCH_PANEL}))\n\t\t\tdispatch(clearHistory())\n\t\t}\n\t\telse if(newStory === story) return\n\t\telse dispatch(changeStory(newStory))\n\t}\n\n\tReact.useEffect(() => {\n\t\tasync function init()\n\t\t{\n\t\t\tconst userData = await bridge.send('VKWebAppGetUserInfo')\n\t\t\tdispatch(requestStreams())\n\t\t\tdispatch(requestUser(userData.id))\n\t\t}\n\n\t\tinit()\n\t},[])\n\t\n\treturn(\n\t\t<ConfigProvider isWebView={true}>\n\t\t\t<Epic\n\t\t\t\tactiveStory={story}\n\t\t\t\ttabbar={\n\t\t\t\t\t<Tabbar>\n\t\t\t\t\t\t<TabbarItem\n\t\t\t\t\t\t\tonClick={changeActiveStory}\n\t\t\t\t\t\t\tselected={story === 'list'}\n\t\t\t\t\t\t\tdata-story={'list'}\n\t\t\t\t\t\t\ttext=\"Список\"\n\t\t\t\t\t\t><Icon28ListOutline/></TabbarItem>\t\t\t\t\t\t\n\t\t\t\t\t\t<TabbarItem\n\t\t\t\t\t\t\tonClick={changeActiveStory}\n\t\t\t\t\t\t\tselected={story === 'schedule'}\n\t\t\t\t\t\t\tdata-story={'schedule'}\n\t\t\t\t\t\t\ttext=\"Расписание\"\n\t\t\t\t\t\t><Icon28GridSquareOutline/></TabbarItem>\n\t\t\t\t\t\t<TabbarItem\n\t\t\t\t\t\t\tonClick={changeActiveStory}\n\t\t\t\t\t\t\tselected={story === 'profile'}\n\t\t\t\t\t\t\tdata-story={'profile'}\n\t\t\t\t\t\t\ttext=\"Профиль\"\n\t\t\t\t\t\t><Icon28UserCircleOutline/></TabbarItem>\n\t\t\t\t\t</Tabbar>\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t<View\n\t\t\t\t\tid={'list'}\n\t\t\t\t\tactivePanel={panels.list}\n\t\t\t\t>\n\t\t\t\t\t<ListPanel id=\"list\" />\n\t\t\t\t</View>\n\t\t\t\t<View\n\t\t\t\t\tid={'schedule'}\n\t\t\t\t\tactivePanel={panels.schedule}\n\t\t\t\t\tmodal={<StaticsLesson />}\n\t\t\t\t>\n\t\t\t\t\t<SearchPanel id='search' />\n\t\t\t\t\t<Schedule id='schedule' />\n\t\t\t\t</View>\n\t\t\t\t<View\n\t\t\t\t\tid={'profile'}\n\t\t\t\t\tactivePanel={panels.profile}\n\t\t\t\t\tpopout={loadingUser ? <ScreenSpinner /> : null}\n\t\t\t\t>\n\t\t\t\t\t<Profile id='profile' />\n\t\t\t\t\t<Map id='map' />\n\t\t\t\t</View>\t\t\n\t\t\t</Epic>\n\t\t</ConfigProvider>\n\t)\n}\n\nexport default App","import React from 'react'\r\n\r\nimport { Placeholder, Link} from \"@vkontakte/vkui\"\r\nimport Icon28MoonOutline from \"@vkontakte/icons/dist/28/moon_outline\"\r\n\r\nconst Sleep = ({ }) => {\r\n  return(\r\n    <Placeholder\r\n      icon={<Icon28MoonOutline width={56} height={56} />}\r\n      action={\r\n        <>\r\n          <Link href={`http://www.bstu.ru/about/useful/schedule`}>Посмотреть расписание на сайте</Link>\r\n          <br /><br/>\r\n          <Link href={`https://vk.com/club198278031`}>Группа приложения</Link>        \r\n        </>\r\n      }\r\n      stretched\r\n    >\r\n      Приложение отдыхает<br/> с 23:00 до 07:00 каждого дня\r\n    </Placeholder>\r\n  )\r\n}\r\n\r\nexport default Sleep","import React from 'react'\r\n\r\nimport store from '../../redux/store'\r\nimport { Provider } from 'react-redux'\r\n\r\nimport App from '../../App'\r\nimport Sleep from '../../panels/Sleep'\r\n\r\nconst Switcher = () => {\r\n  const hours = new Date().getUTCHours()\r\n  \r\n  return (hours >= 20 || hours < 4) ? <Sleep /> : <Provider store={store}><App /></Provider>\r\n}\r\n\r\nexport default Switcher","import 'core-js/features/map'\nimport 'core-js/features/set'\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport eruda from 'eruda'\n\nimport bridge from '@vkontakte/vk-bridge'\nimport '@vkontakte/vkui/dist/vkui.css'\n\nimport './index.sass'\nimport Switcher from './components/Switcher'\n\neruda.init()\n\nbridge.send('VKWebAppInit')\nbridge.subscribe(e => {\n  if(e.detail.type === 'VKWebAppUpdateConfig')\n    document.body.setAttribute('scheme', e.detail.data.scheme)\n})\n\nReactDOM.render(<Switcher />, document.getElementById('root'))"],"sourceRoot":""}