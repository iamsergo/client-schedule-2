{"version":3,"sources":["assets/map.png","components/Title/index.tsx","API/constants.ts","API/schedule.ts","API/user.ts","API/group.ts","API/index.ts","API/profile.ts","utils/getTimeByLesson.ts","utils/normalizeLesson.ts","utils/selectDay.ts","utils/currentDay.ts","utils/currentWeek.ts","utils/currentLesson.ts","utils/useLastSchedules.ts","utils/getBackgrounds.ts","redux/slices/schedule.ts","components/Lesson/index.tsx","constans/index.ts","components/DayCard/index.tsx","components/Cell/SingleCell.tsx","components/Cell/HalfCell.tsx","components/Cell/QuarterCell.tsx","components/FullSchedule/index.tsx","utils/fullSchedule.ts","components/TabsSchedule/index.tsx","components/ByDay/index.tsx","redux/slices/navigation.ts","redux/slices/profile.ts","panels/Schedule/MenuItemIcon.tsx","panels/Schedule/index.tsx","utils/getDiff.ts","panels/Profile/index.tsx","utils/toEnd.ts","panels/Map/index.tsx","redux/slices/search.ts","panels/Search/index.tsx","components/StaticsLesson/index.tsx","utils/getStatsLesson.ts","App.tsx","redux/rootReducer.ts","redux/store.ts","index.tsx"],"names":["module","exports","Title","title","mySchedule","isDiff","className","height","width","fill","BASE_URL","requestSchedule","href","a","id","replace","url","fetch","res","json","requestUser","registerUser","opts","method","headers","addGroup","uid","group","body","JSON","stringify","delGroup","requestEvents","getTimeByLesson","normalizeLesson","lesson","time","coords","j","k","place","type","subject","fromWhoms","selectDay","lessons","day","week","filter","l","i","z","map","currentDay","Date","getDay","currentWeek","d","getTime","weeks","date","start","end","currentLesson","now","split","sh","sm","lessonStart","setHours","eh","em","lessonEnd","n","useLastSchedules","limit","lsLast","localStorage","getItem","last","parse","setLast","s","filterLast","length","fw","newLast","setItem","createBackground","from","to","createAsyncThunk","thunkAPI","schedules","getState","schedule","find","uniq","API","data","initialState","activeMode","text","activeSubject","loading","error","activeSchedule","history","scheduleSlice","createSlice","name","reducers","changeMode","state","action","payload","changeDay","changeWeek","setSubject","setIsDiff","popHistory","pop","newActiveHref","exams","clearHistory","extraReducers","builder","addCase","pending","meta","arg","add","push","rejected","fulfilled","actions","Lesson","current","dispatch","useDispatch","t","key","onClick","getStats","DayCard","undefined","SingleCell","column","row","w","cn","join","style","gridRow","gridColumn","HalfCell","isHalf","grid","QuarterCell","HEADERS","TIME","FullSchedule","lastLessonNum","reduce","max","lessonNum","full","forEach","dayId","lessonId","children","fullSchedule","gridTemplateRows","slice","h","cells","isHalfQuarter","isQuarter","Object","values","c","DAYS","TabsSchedule","mode","fontSize","color","selected","ByDay","useSelector","slideIndex","onChange","story","panels","profile","navigationSlice","changeStory","changePanel","panel","user","profileSlice","events","loadingEvents","errorEvents","userId","loadingUser","errorUser","myGroup","MenuItemIcon","MENU","Schedule","React","useState","menuOpened","setMenuOpened","toggleMenu","diff","useMemo","b","console","log","la","lb","dayEqual","lessonNumEqual","weekEqual","groupEqual","isEqual","getDiff","left","transform","opened","onClose","item","notExams","examsSelected","myGroupSave","notMyGroupDelete","withoutDiff","withDiff","ownDiff","notUserGroup","before","requestAnimationFrame","selectMenuItem","asideContent","stretched","Profile","backgrounds","count","BACKGROUNDS","bgs","Math","floor","random","splice","bg","getBackgrounds","toEnd","total","goToSchedule","separator","header","margin","e","background","value","marginTop","size","includes","Map","src","alt","searchSlice","query","setQuery","setLoading","SearchPanel","search","filterSearch","toLowerCase","searchResult","setSearchResult","useEffect","tid","setTimeout","clearTimeout","vertical","placeholder","currentTarget","after","TYPE_LESSON","lec","pr","lab","StaticsLesson","closeModal","byWeek","dd","currentWeekIndex","findIndex","_","stats","getStatsLesson","activeModal","dynamicContentHeight","right","entries","entrie","App","navigation","changeActiveStory","newStory","dataset","init","activeStory","tabbar","data-story","activePanel","modal","onSwipeBack","args","popout","rootReducer","combineReducers","store","configureStore","reducer","bridge","send","subscribe","detail","document","setAttribute","scheme","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.e3c832cf.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","import React from 'react'\r\nimport './Title.sass'\r\n\r\nimport { Card, Div } from '@vkontakte/vkui'\r\nimport Icon28Favorite from '@vkontakte/icons/dist/28/favorite'\r\nimport Icon28ViewOutline from '@vkontakte/icons/dist/28/view_outline'\r\n\r\nexport interface TitleProps\r\n{\r\n  title : string\r\n  isDiff ?: boolean\r\n  mySchedule ?: boolean\r\n}\r\n\r\nconst Title : React.FC<TitleProps> = ({\r\n  title,\r\n  mySchedule = false,\r\n  isDiff = false\r\n}) => {\r\n  return(\r\n    <Div>\r\n      <Card>\r\n        <Div className='title'>\r\n          {isDiff && <Icon28ViewOutline height=\"20\" width=\"20\" fill=\"#4bb34b\" />}\r\n          {title}\r\n          {mySchedule && <Icon28Favorite height=\"20\" width=\"20\" fill=\"#cc00ff\" />}\r\n        </Div>\r\n      </Card>\r\n    </Div>\r\n  )\r\n}\r\n\r\nexport default Title","export const BASE_URL = 'http://localhost:5000'","import { BASE_URL } from \"./constants\"\r\n\r\nexport const requestSchedule = async (href : string) => {\r\n  const id = href.replace(/(\\?|&)/g,'').replace('=','/')\r\n  const url = `${BASE_URL}/schedule/${id}`\r\n  const res = await fetch(url)\r\n  \r\n  return res.json()\r\n}","import { BASE_URL } from \"./constants\"\r\n\r\nexport const requestUser = async (id : number) => {\r\n  const url = `${BASE_URL}/user/${id}`\r\n  const res = await fetch(url)\r\n\r\n  return res.json()\r\n}\r\n\r\nexport const registerUser = async (id : number) => {\r\n  const url = `${BASE_URL}/user/${id}`\r\n  const opts = {\r\n    method : 'POST', \r\n    headers : {'Content-Type': 'application/json;charset=utf-8'}\r\n  }\r\n  const res = await fetch(url, opts)\r\n\r\n  return res.json()\r\n}","import { BASE_URL } from \"./constants\"\r\n\r\nexport const addGroup = async ({uid, group} : {uid : number, group : string}) => {\r\n  const url = `${BASE_URL}/user/group`\r\n  const opts = {\r\n    method : 'PUT', \r\n    headers : {'Content-Type': 'application/json;charset=utf-8'},\r\n    body : JSON.stringify({uid, group})\r\n  }\r\n  const res = await fetch(url, opts)\r\n\r\n  return res.json()\r\n}\r\n\r\nexport const delGroup = async (uid : number) => {\r\n  const url = `${BASE_URL}/user/group`\r\n  const opts = {\r\n    method : 'DELETE', \r\n    headers : {'Content-Type': 'application/json;charset=utf-8'},\r\n    body : JSON.stringify({uid})\r\n  }\r\n  const res = await fetch(url, opts)\r\n\r\n  return res.json()\r\n}","import {requestSchedule} from './schedule'\r\nimport {registerUser,requestUser} from './user'\r\nimport {addGroup,delGroup} from './group'\r\nimport {requestEvents} from './profile'\r\n\r\nexport default {\r\n  requestSchedule,\r\n  requestUser,\r\n  delGroup,\r\n  requestEvents,\r\n  registerUser,\r\n  addGroup,\r\n}","import { BASE_URL } from \"./constants\"\r\n\r\nexport const requestEvents = async () => {\r\n  const url = `${BASE_URL}/events`\r\n  const res = await fetch(url)\r\n\r\n  return await res.json()\r\n}","import { Lesson } from \"../types/Lesson\"\r\n\r\nexport const getTimeByLesson = (id : Lesson) => {\r\n  return [\r\n    ['08:15', '09:50'],\r\n    ['10:00', '11:35'],\r\n    ['11:45', '13:20'],\r\n    ['12:35', '14:10'],\r\n    ['14:20', '15:55'],\r\n    ['16:05', '17:40'],\r\n    ['17:50', '19:25'],\r\n    ['19:35', '21:10'],\r\n  ][id]\r\n}","import { ILesson } from \"../types/ILesson\";\r\nimport { PlainLesson } from \"../types/PlainLesson\";\r\nimport { getTimeByLesson } from \"./getTimeByLesson\";\r\n\r\nexport const normalizeLesson = (lesson : PlainLesson) : ILesson => {\r\n  const time = getTimeByLesson(lesson.coords.j)\r\n\r\n  const group = lesson.coords.k !== 2 ? `(${lesson.coords.k + 1} гр.)` : ''\r\n\r\n  return {\r\n    place : lesson.place,\r\n    type : lesson.type,\r\n    subject : `${lesson.subject}${group}`,\r\n    fromWhoms : lesson.fromWhoms,\r\n    time,\r\n  }\r\n}","import { ILesson } from \"../types/ILesson\";\r\nimport { PlainLesson } from \"../types/PlainLesson\";\r\nimport { normalizeLesson } from \"./normalizeLesson\";\r\n\r\nexport const selectDay = (\r\n  lessons : PlainLesson[],\r\n  day : number,\r\n  week : number\r\n) : ILesson[] => {\r\n  return lessons.filter(l => {\r\n    const { i, z } = l.coords\r\n\r\n    return i === day && (z === week || z === 2)\r\n  }).map(normalizeLesson)\r\n}","import { Day } from \"../types/Day\"\r\n\r\nexport const currentDay = () : Day => {\r\n  const id = new Date().getDay()\r\n\r\n  return (id > 0 ? id - 1 : id) as Day\r\n}","import weeks from '../data/weeks.json'\r\n\r\nimport { Week } from '../types/Week'\r\n\r\nexport const currentWeek = () : Week => {\r\n  const d = new Date().getTime()\r\n\r\n  return (weeks.filter(({date : [start, end]}) => d >= start && d <= end)[0].week) as Week\r\n}","import { Day } from \"../types/Day\"\r\nimport { Week } from \"../types/Week\"\r\nimport { currentWeek } from \"./currentWeek\"\r\n\r\nexport const currentLesson = (time : string[], day : Day, week : Week) : boolean => {\r\n  const now = new Date()\r\n\r\n  if(now.getDay() === day + 1 && week === currentWeek())\r\n  {\r\n    const TEN_MIN = 10 * 60 * 1000\r\n\r\n    const [start, end] = time    \r\n    const [sh, sm] = start.split(':').map(d => +d)\r\n    const lessonStart = new Date().setHours(sh, sm) - TEN_MIN\r\n    const [eh, em] = end.split(':').map(d => +d)\r\n    const lessonEnd = new Date().setHours(eh, em)\r\n\r\n    const n = now.getTime()\r\n\r\n    return lessonStart <= n && n <= lessonEnd\r\n  }\r\n\r\n  return false\r\n}","import { FromWhom } from \"../types/ILesson\"\r\n\r\nexport const useLastSchedules = (limit : number) => {\r\n  const LAST_SCHEDULES = 'lastSchedules'\r\n\r\n  const lsLast = localStorage.getItem(LAST_SCHEDULES)\r\n  const last : FromWhom[] = lsLast ? JSON.parse(lsLast) : []\r\n\r\n  const setLast = (s : FromWhom) => {\r\n    const overloadFilter = (fw : FromWhom, i : number) =>\r\n      fw.href.replace('&', '') !== s.href.replace('&', '') && i !== last.length - 1\r\n    const normalFilter = (fw : FromWhom) => fw.href.replace('&', '') !== s.href.replace('&', '')\r\n\r\n    const filterLast = last.filter(last.length < limit ? normalFilter : overloadFilter)    \r\n    const newLast = [s, ...filterLast]\r\n\r\n    localStorage.setItem(LAST_SCHEDULES, JSON.stringify(newLast))\r\n  }\r\n\r\n  return { last, setLast }\r\n}","const createBackground = (from : string, to : string) =>\r\n  `linear-gradient(45deg, ${from} 0%, ${to} 100%)`\r\n\r\nexport const getBackgrounds = (count : number) => {\r\n  const BACKGROUNDS = [\r\n    createBackground('#ed765e', '#fea858'),\r\n    createBackground('#4b086d', '#acc0fe'),\r\n    createBackground('#f6a09a', '#8a1f1d'),\r\n    createBackground('#f2ecb6', '#a96f44'),\r\n    createBackground('#50d5b7', '#067d68'),\r\n    createBackground('#f6b2e1', '#58126a'),\r\n    createBackground('#0c7bb3', '#f2bae8'),\r\n    createBackground('#e3ff73', '#e27c39'),\r\n    createBackground('#e65758', '#771d32'),\r\n    createBackground('#b60f46', '#d592ff'),\r\n    createBackground('#849b5c', '#bfffc7'),\r\n  ]\r\n\r\n  const bgs = []\r\n  while(bgs.length < count)\r\n  {\r\n    const id = Math.floor(Math.random() * BACKGROUNDS.length)\r\n    const [bg] = BACKGROUNDS.splice(id, 1)\r\n\r\n    bgs.push(bg)\r\n  }\r\n  \r\n  return bgs\r\n}","import { createAsyncThunk, createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\n\r\nimport API from \"../../API\";\r\n\r\nimport { MenuItem } from '../../panels/Schedule'\r\nimport { Day } from \"../../types/Day\";\r\nimport { FromWhom } from \"../../types/ILesson\";\r\nimport { PlainLesson } from \"../../types/PlainLesson\";\r\nimport { Week } from \"../../types/Week\";\r\nimport { currentDay, currentWeek } from \"../../utils\";\r\nimport { RootState } from \"../rootReducer\";\r\n\r\ninterface Exam\r\n{\r\n  place: string\r\n  subject: string\r\n  type : 3 | 4\r\n  fromWhoms: FromWhom[]\r\n}\r\n\r\nexport interface ScheduleData\r\n{\r\n  title : string\r\n  href : string\r\n  schedule : PlainLesson[]\r\n  exams : Exam[]\r\n}\r\n\r\ninterface ScheduleState\r\n{\r\n  activeMode : MenuItem\r\n  isDiff : boolean\r\n  day : Day\r\n  week : Week\r\n  activeSubject : string | null\r\n  loading : boolean\r\n  error : boolean\r\n  activeSchedule : ScheduleData | null\r\n  schedules : ScheduleData[] // ??? ILesson[]\r\n  history : string[]\r\n}\r\n\r\ntype RequestScheduleParam = {href : string, add ?: boolean}\r\n\r\nexport const requestSchedule = createAsyncThunk(\r\n  'schedule/request',\r\n  async ({href} : RequestScheduleParam, thunkAPI) => {    \r\n    const schedules = (thunkAPI.getState() as RootState).schedule.schedules\r\n    const schedule = schedules.find(s => s.href === href.replace('&', ''))\r\n    \r\n    if(schedule) return { uniq : false, schedule}\r\n\r\n    const data = await API.requestSchedule(href)\r\n    return { uniq : true, schedule : data}\r\n  }\r\n)\r\n\r\nconst initialState : ScheduleState = {\r\n  activeMode : { text : 'По дням', id : 'byDays' },\r\n  isDiff : false,\r\n  day : currentDay(),\r\n  week : currentWeek(),\r\n  activeSubject : null,\r\n  loading : false,\r\n  error : false,\r\n  activeSchedule : null,\r\n  schedules : [],\r\n  history : [],\r\n}\r\n\r\nconst scheduleSlice = createSlice({\r\n  name : 'schedule',\r\n  initialState,\r\n  reducers : {\r\n    changeMode(state, action : PayloadAction<MenuItem>)\r\n    {\r\n      state.activeMode = action.payload\r\n    },\r\n    changeDay(state, action : PayloadAction<Day>)\r\n    {\r\n      state.day = action.payload\r\n    },\r\n    changeWeek(state, action : PayloadAction<Week>)\r\n    {\r\n      state.week = action.payload\r\n    },\r\n    setSubject(state, action)\r\n    {\r\n      state.activeSubject = action.payload\r\n    },\r\n    setIsDiff(state, action)\r\n    {\r\n      state.isDiff = action.payload\r\n    },\r\n    popHistory(state)\r\n    {\r\n      state.isDiff = false\r\n      state.history.pop()\r\n      if(state.history.length !== 0)\r\n      {\r\n        const newActiveHref = state.history[state.history.length - 1]\r\n        const schedule = state.schedules.find(s => s.href === newActiveHref) as ScheduleData\r\n        \r\n        if(!schedule.exams && state.activeMode.id === 'exams')\r\n          state.activeMode = initialState.activeMode\r\n\r\n        state.activeSchedule = schedule\r\n      }\r\n    },\r\n    clearHistory(state)\r\n    {\r\n      state.history = []\r\n      state.isDiff = false\r\n    }\r\n  },\r\n  extraReducers(builder)\r\n  {\r\n    builder\r\n      .addCase(requestSchedule.pending,(state, action) => {\r\n        state.loading = true\r\n        state.error = false\r\n        state.activeSchedule = null\r\n        \r\n        const { add = true, href } = action.meta.arg\r\n        if(add)\r\n          state.history.push(href.replace('&', ''))\r\n      })\r\n      .addCase(requestSchedule.rejected,(state) => {\r\n        state.loading = false\r\n        state.error = true\r\n        state.isDiff = false\r\n      })\r\n      .addCase(requestSchedule.fulfilled,(state, action) => {\r\n        state.loading = false\r\n        state.error = false\r\n        const {uniq, schedule} = action.payload\r\n        state.activeSchedule = schedule as ScheduleData\r\n        if(uniq)\r\n          state.schedules.push(schedule)\r\n\r\n        if(!schedule.exams && state.activeMode.id === 'exams')\r\n          state.activeMode = initialState.activeMode\r\n      })\r\n  },\r\n})\r\n\r\nexport const { changeMode, changeDay, changeWeek, setSubject, popHistory, setIsDiff, clearHistory } = scheduleSlice.actions\r\nexport default scheduleSlice.reducer","import React from 'react'\r\nimport './Lesson.sass'\r\n\r\nimport { FromWhom, ILesson } from '../../types/ILesson'\r\nimport { requestSchedule, setIsDiff, setSubject } from '../../redux/slices/schedule'\r\nimport { useDispatch } from 'react-redux'\r\nimport { useLastSchedules } from '../../utils'\r\nimport { COUNT_LAST_SCHEDULES } from '../../constans'\r\n\r\ninterface LessonProps extends ILesson\r\n{\r\n  current : boolean\r\n}\r\n\r\nconst Lesson : React.FC<LessonProps> = ({\r\n  time,\r\n  place,\r\n  type,\r\n  subject,\r\n  fromWhoms,\r\n  current\r\n}) => {\r\n  const dispatch = useDispatch()\r\n\r\n  const { setLast } = useLastSchedules(COUNT_LAST_SCHEDULES)\r\n  \r\n  const getStats = (subject : string) => {\r\n    if(type > 2) return\r\n    \r\n    const s = subject.replace(/\\(\\d гр.\\)/,'')\r\n    dispatch(setSubject(s))\r\n  }\r\n\r\n  const goToSchedule = (s : FromWhom) => {\r\n    setLast(s)\r\n    dispatch(requestSchedule({href : s.href}))\r\n    dispatch(setIsDiff(false))\r\n  }\r\n\r\n  return(\r\n    <div className=\"lesson-wrapper\">\r\n      <div className={`lesson__time ${current ? `lesson__time-current` : ''}`}>\r\n        {time?.map((t, i) => <div key={i}>{t}</div> )}\r\n      </div>\r\n      <div className={`lesson__info lesson__info-${['lec', 'pr', 'lab', 'cons', 'exam'][type]}`}>\r\n        <div className=\"lesson__place\">{place}</div>\r\n        <div\r\n          className=\"lesson__subject\"\r\n          onClick={() => getStats(subject)}\r\n        >{subject}</div>\r\n        <div className=\"lesson__fromWhoms\">\r\n          {fromWhoms.map((fw, i) => {\r\n            return(\r\n              <div\r\n                key={i}\r\n                className=\"linkable\"\r\n                onClick={() => goToSchedule(fw)}\r\n              >{fw.title}</div>\r\n            )\r\n          })}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Lesson","export const SCHEDULE_STORY = 'schedule'\r\nexport const PROFILE_STORY = 'profile'\r\n\r\nexport const SEARCH_PANEL = 'search'\r\nexport const SCHEDULE_PANEL = 'schedule'\r\nexport const PROFILE_PANEL = 'profile'\r\nexport const MAP_PANEL = 'map'\r\n\r\nexport const COUNT_LAST_SCHEDULES = 6","import React from 'react'\r\n\r\nimport { Card, Div } from '@vkontakte/vkui'\r\n\r\nimport Lesson from '../Lesson'\r\n\r\nimport { ILesson } from '../../types/ILesson'\r\nimport { Day } from '../../types/Day'\r\nimport { Week } from '../../types/Week'\r\nimport { currentLesson } from '../../utils'\r\n\r\nexport interface DayCardProps\r\n{\r\n  lessons : ILesson[]\r\n  day ?: Day\r\n  week ?: Week\r\n}\r\n\r\nconst DayCard : React.FC<DayCardProps> = ({\r\n  lessons,\r\n  day,\r\n  week\r\n}) => {\r\n  return(\r\n    <Div>\r\n      <Card className='day-card'>\r\n        <Div>\r\n          {lessons.map((l,i) => {\r\n            const isExam = day === undefined && week === undefined\r\n            const current = isExam ? false : currentLesson(l.time!, day!, week!)\r\n\r\n            return <Lesson key={i} {...l} current={current} />\r\n          })}\r\n        </Div>\r\n      </Card>\r\n    </Div>\r\n  )\r\n}\r\n\r\nexport default DayCard","import React from 'react'\r\nimport './Cell.sass'\r\n\r\nimport { PlainLesson } from '../../types/PlainLesson'\r\nimport { currentLesson, currentWeek, getTimeByLesson } from '../../utils'\r\nimport { useDispatch } from 'react-redux'\r\nimport { requestSchedule, setIsDiff, setSubject } from '../../redux/slices/schedule'\r\nimport { useLastSchedules } from '../../utils'\r\nimport { FromWhom } from '../../types/ILesson'\r\nimport { COUNT_LAST_SCHEDULES } from '../../constans'\r\n\r\ninterface SingleCellProps\r\n{\r\n  column : number\r\n  row : number\r\n  lesson : PlainLesson\r\n}\r\n\r\nconst SingleCell : React.FC<SingleCellProps> = ({\r\n  lesson,\r\n  column,\r\n  row\r\n}) => {\r\n  const dispatch = useDispatch()\r\n\r\n  const { setLast } = useLastSchedules(COUNT_LAST_SCHEDULES)\r\n\r\n  const getStats = (subject : string) => {\r\n    const s = subject.replace(/\\(\\d гр.\\)/,'')\r\n    dispatch(setSubject(s))\r\n  }\r\n\r\n  const goToSchedule = (s : FromWhom) => {\r\n    setLast(s)\r\n    dispatch(requestSchedule({href : s.href}))\r\n    dispatch(setIsDiff(false))\r\n  }\r\n\r\n  const w = lesson.coords.z\r\n  const cn = [\r\n    lesson.coords.j === 3 ? 'break_bottom' : '',\r\n    currentLesson(getTimeByLesson(lesson.coords.j), lesson.coords.i, w === 2 ? currentWeek() : w) ? 'current' : ''\r\n  ].join(' ')\r\n\r\n  return(\r\n    <div\r\n      className=\"cell cell__single\"\r\n      style={{\r\n        gridRow : row,\r\n        gridColumn : column,\r\n      }}\r\n    >\r\n      <div className=\"cell__single-place\">{lesson.place}</div>\r\n      <div\r\n        className={`cell__single-subject ${cn}`}\r\n        onClick={() => getStats(lesson.subject)}\r\n      >{lesson.subject}</div>\r\n      <div className=\"cell__single-fromWhoms\">\r\n        {lesson.fromWhoms.map((fw, i) => {\r\n          return <div\r\n            key={i}\r\n            onClick={() => goToSchedule(fw)}\r\n            className={'linkable'}\r\n          >{fw.title}</div>\r\n        })}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SingleCell","import React from 'react'\r\nimport './Cell.sass'\r\n\r\nimport { PlainLesson } from '../../types/PlainLesson'\r\nimport SingleCell from './SingleCell'\r\n\r\ninterface HalfCellProps\r\n{\r\n  column : number\r\n  row : number\r\n  lessons : PlainLesson[]\r\n}\r\n\r\nconst HalfCell : React.FC<HalfCellProps> = ({\r\n  column,\r\n  row,\r\n  lessons\r\n}) => {\r\n  const isHalf = lessons[0].coords.k === 2\r\n  const grid = {[`gridTemplate${isHalf ? 'Rows' : 'Columns'}`] : 'repeat(2,1fr)'}\r\n\r\n  return(\r\n    <div\r\n      className=\"cell__half\"\r\n      style={{\r\n        ...grid,\r\n        gridRow : row,\r\n        gridColumn : column,\r\n      }}\r\n    >\r\n      {lessons.map((l, i) => {\r\n        const column = isHalf ? 1 : l.coords.k + 1\r\n        const row = isHalf ? l.coords.z + 1 : 1\r\n\r\n        return <SingleCell key={i} column={column} row={row} lesson={l} />\r\n      })}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default HalfCell","import React from 'react'\r\nimport './Cell.sass'\r\n\r\nimport { PlainLesson } from '../../types/PlainLesson'\r\nimport SingleCell from './SingleCell'\r\n\r\ninterface QuarterCellProps\r\n{\r\n  column : number\r\n  row : number\r\n  lessons : PlainLesson[]\r\n}\r\n\r\nconst QuarterCell : React.FC<QuarterCellProps> = ({\r\n  column,\r\n  row,\r\n  lessons\r\n}) => {\r\n  return(\r\n    <div\r\n      className=\"cell__quarter\"\r\n      style={{\r\n        gridRow : row,\r\n        gridColumn : column,\r\n      }}\r\n    >\r\n      {lessons.map((l, i) => {\r\n        const column = l.coords.k + 1\r\n        const row = l.coords.z + 1\r\n\r\n        return <SingleCell key={i} column={column} row={row} lesson={l} />\r\n      })}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default QuarterCell","import React from 'react'\r\nimport './FullSchedule.sass'\r\n\r\nimport { Card } from '@vkontakte/vkui'\r\n\r\nimport SingleCell from '../Cell/SingleCell'\r\nimport HalfCell from '../Cell/HalfCell'\r\nimport QuarterCell from '../Cell/QuarterCell'\r\n\r\nimport { IDay } from '../../utils/fullSchedule'\r\nimport { PlainLesson } from '../../types/PlainLesson'\r\nimport { currentDay, fullSchedule } from '../../utils'\r\n\r\ninterface FullScheduleProps\r\n{\r\n  schedule : PlainLesson[]\r\n}\r\n\r\nconst HEADERS = [\r\n  'Время',\r\n  'Понедельник',\r\n  'Вторник',\r\n  'Среда',\r\n  'Четверг',\r\n  'Пятница',\r\n  'Суббота'\r\n]\r\n\r\nconst TIME = [\r\n  ['08:15', '09:50'],\r\n  ['10:00', '11:35'],\r\n  ['11:45', '12:35', '13:20','14:10'],\r\n  ['14:20', '15:55'],\r\n  ['16:05', '17:40'],\r\n  ['17:50', '19:25'],\r\n  ['19:35', '21:10'],\r\n]\r\n\r\nconst FullSchedule : React.FC<FullScheduleProps> = ({\r\n  schedule\r\n}) => {\r\n  const lastLessonNum = schedule.reduce((max : number, l) => {\r\n    const j = l.coords.j\r\n    const lessonNum = j > 2 ? j - 1 : j\r\n\r\n    return lessonNum > max ? lessonNum : max\r\n  }, 0)\r\n\r\n  const full = fullSchedule(schedule)\r\n\r\n  return(\r\n    <div className=\"card__wrapper-vertical\">\r\n      <div className=\"card__wrapper-horizontal\">\r\n        <div\r\n          className=\"card__container\"\r\n          style={{\r\n            gridTemplateRows : `18px repeat(${lastLessonNum + 1},auto)`\r\n          }}\r\n        >\r\n          {HEADERS.slice(0, full[full.length - 1].day + 2).map((h, i) => {\r\n            const cn = (currentDay() + 1 === i) ? 'current' : ''\r\n\r\n            return <div\r\n              key={i}\r\n              className={`card__cell card__cell-header ${cn}`}\r\n              style={{ gridRow : 1, gridColumn : i + 1 }}\r\n            >{h}</div>\r\n          })}\r\n          {TIME.slice(0, lastLessonNum + 1).map((time, i) => {\r\n            return <div\r\n              key={i}\r\n              className=\"card__cell card__cell-time\"\r\n              style={{ gridRow : i + 2, gridColumn : 1 }}\r\n            >\r\n              {time.map((t, j) => {\r\n                const cn = (i === 2 && (j === 1 || j === 3)) ? 'break-bottom' : ''\r\n\r\n                return <div key={j} className={cn}>{t}</div>\r\n              })}\r\n            </div>\r\n          })}\r\n          {\r\n            full.reduce((cells : React.ReactNode[], d : IDay) : React.ReactNode[] => {\r\n              const lessons = d.lessons.map(l => {\r\n                const column = d.day + 2\r\n                const row = l.lessonNum + 2\r\n\r\n                const isHalf = l.children[0].coords.z !== 2\r\n                const isHalfQuarter = l.children[0].coords.k !== 2\r\n                const isQuarter = isHalf && isHalfQuarter\r\n\r\n                const key = Object.values(l.children[0].coords).reduce((k : string,c : number) : string => k + c ,'')\r\n\r\n                if(isQuarter) return <QuarterCell key={key} column={column} row={row} lessons={l.children} />\r\n                else if(isHalf) return <HalfCell key={key} column={column} row={row} lessons={l.children} />\r\n                else if(isHalfQuarter) return <HalfCell key={key} column={column} row={row} lessons={l.children} />\r\n                else return <SingleCell key={key} column={column} row={row} lesson={l.children[0]} />\r\n              })\r\n\r\n              return [...cells, ...lessons] as React.ReactNode[]\r\n            }, [])\r\n          }\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default FullSchedule","import { Day } from \"../types/Day\";\r\nimport { Lesson } from \"../types/Lesson\";\r\nimport { PlainLesson } from \"../types/PlainLesson\";\r\n\r\ninterface ILesson\r\n{\r\n  lessonNum : Lesson\r\n  children : PlainLesson[]\r\n}\r\n\r\nexport interface IDay\r\n{\r\n  day : Day\r\n  lessons : ILesson[]\r\n}\r\n\r\nexport const fullSchedule = (schedule : PlainLesson[]) : IDay[] => {\r\n  const data : IDay[] = []\r\n\r\n  schedule.forEach((l,i) => {\r\n    const dayId = l.coords.i\r\n    const j = l.coords.j\r\n    const lessonId = (j > 2 ? j - 1 : j) as Lesson\r\n    \r\n    if(!data[dayId])\r\n      data[dayId] = { day : dayId, lessons : [] }\r\n      \r\n    if(!data[dayId].lessons[lessonId])\r\n      data[dayId].lessons[lessonId] = { lessonNum: lessonId, children: [] }\r\n      \r\n    data[dayId].lessons[lessonId].children.push(l)\r\n  })\r\n  \r\n  return data\r\n}","import React from 'react'\r\nimport './TabsSchedule.sass'\r\n\r\nimport { Tabs, TabsItem } from '@vkontakte/vkui'\r\n\r\nimport { Day } from '../../types/Day'\r\nimport { Week } from '../../types/Week'\r\nimport { currentDay, currentWeek } from '../../utils'\r\nimport { useDispatch } from 'react-redux'\r\nimport { changeDay, changeWeek } from '../../redux/slices/schedule'\r\n\r\nexport interface TabsScheduleProps\r\n{\r\n  week : Week\r\n  day : Day\r\n}\r\n\r\nconst DAYS = ['ПН','ВТ','СР','ЧТ','ПТ','СБ']\r\n\r\nconst TabsSchedule : React.FC<TabsScheduleProps> = ({\r\n  week,\r\n  day,\r\n}) => {\r\n  const dispatch = useDispatch()\r\n\r\n  return(\r\n    <>\r\n      <Tabs mode=\"default\" style={{ fontSize : '12px' }}>\r\n        <TabsItem\r\n          style={{ color : currentWeek() === 0 ? 'red' : '' }}\r\n          onClick={() => dispatch(changeWeek(0))} selected={week === 0}\r\n        >Числитель</TabsItem>\r\n        <TabsItem\r\n          style={{ color : currentWeek() === 1 ? 'red' : '' }}\r\n          onClick={() => dispatch(changeWeek(1))} selected={week === 1}\r\n        >Знаменатель</TabsItem>\r\n      </Tabs>\r\n      <Tabs mode=\"default\" style={{ fontSize : '12px' }}>\r\n        {DAYS.map((d, i) => {\r\n          const selected = i === day\r\n\r\n          return <TabsItem\r\n            key={i}\r\n            selected={selected}\r\n            style={{ color : currentDay() === i ? 'red' : '' }}\r\n            onClick={() => dispatch(changeDay(i as Day))}\r\n          >{d}</TabsItem>\r\n        })}\r\n      </Tabs>    \r\n    </>\r\n  )\r\n}\r\n\r\nexport default TabsSchedule","import React from 'react'\r\nimport { Gallery } from '@vkontakte/vkui'\r\n\r\nimport DayCard from '../DayCard'\r\nimport TabsSchedule from '../TabsSchedule'\r\nimport { selectDay } from '../../utils'\r\nimport { PlainLesson } from '../../types/PlainLesson'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { changeDay } from '../../redux/slices/schedule'\r\nimport { RootState } from '../../redux/rootReducer'\r\nimport { Day } from '../../types/Day'\r\n\r\ninterface ByDayProps\r\n{\r\n  schedule : PlainLesson[]\r\n}\r\n\r\nconst DAYS = [0,1,2,3,4,5]\r\n\r\nconst ByDay : React.FC<ByDayProps> = ({\r\n  schedule\r\n}) => {\r\n  const dispatch = useDispatch()\r\n  const { day, week } = useSelector((s : RootState) => s.schedule)\r\n  \r\n  const dayChange = (d : Day) => dispatch(changeDay(d))\r\n\r\n  return(\r\n    <>\r\n      <TabsSchedule week={week} day={day} />\r\n      <Gallery\r\n        style={{height:'100%'}}\r\n        slideIndex={day}\r\n        onChange={dayChange}\r\n      >\r\n        {DAYS.map(d => {\r\n          return <DayCard key={d} day={day} week={week} lessons={selectDay(schedule, d, week)} />\r\n        })}\r\n      </Gallery>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ByDay","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\"\r\n\r\nimport { MAP_PANEL, PROFILE_PANEL, PROFILE_STORY, SCHEDULE_PANEL, SCHEDULE_STORY, SEARCH_PANEL } from \"../../constans\"\r\n\r\ntype Story = typeof PROFILE_STORY | typeof SCHEDULE_STORY\r\ntype ProfilePanel = typeof PROFILE_PANEL | typeof MAP_PANEL\r\ntype SchedulePanel = typeof SCHEDULE_PANEL | typeof SEARCH_PANEL\r\ntype Panel = { schedule : SchedulePanel, profile : ProfilePanel }\r\n\r\ntype ChangePanelAction = { story : keyof Panel, panel : ProfilePanel | SchedulePanel }\r\n\r\ninterface NavigationState\r\n{\r\n  story : Story\r\n  panels : Panel\r\n}\r\n\r\nconst initialState : NavigationState = {\r\n  story : PROFILE_STORY,\r\n  panels : {\r\n    schedule : SEARCH_PANEL,\r\n    profile : PROFILE_PANEL\r\n  },\r\n}\r\n\r\nconst navigationSlice = createSlice({\r\n  name : 'navigation',\r\n  initialState,\r\n  reducers : {\r\n    changeStory(state, action)\r\n    {\r\n      state.story = action.payload\r\n    },\r\n    changePanel(state, action : PayloadAction<ChangePanelAction>)\r\n    {\r\n      const { story, panel } = action.payload\r\n      if(story === 'schedule')\r\n        state.panels.schedule = panel as SchedulePanel\r\n      else if(story === 'profile')\r\n        state.panels.profile = panel as ProfilePanel\r\n    },\r\n  }\r\n})\r\n\r\nexport const { changeStory, changePanel } = navigationSlice.actions\r\nexport default navigationSlice.reducer","import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\r\nimport { FromWhom } from \"../../types/ILesson\";\r\nimport API from '../../API'\r\nimport { ScheduleData } from \"./schedule\";\r\n\r\ninterface User\r\n{\r\n  id : number\r\n  group : string\r\n  myGroup : ScheduleData | null\r\n  fromWhoms : FromWhom[]  \r\n}\r\n\r\ninterface ProfileState\r\n{\r\n  events : FromWhom[]\r\n  loadingEvents : boolean\r\n  errorEvents : boolean\r\n\r\n  user : User | null\r\n  userId : number | null\r\n  loadingUser : boolean\r\n  errorUser : boolean\r\n}\r\n\r\nexport const requestUser = createAsyncThunk(\r\n  'user/request',\r\n  async (id : number) => {\r\n    const user = await API.requestUser(id)\r\n    if(user) return user\r\n\r\n    const res = await API.registerUser(id)\r\n\r\n    return res\r\n  }\r\n)\r\n\r\nexport const requestEvents = createAsyncThunk(\r\n  'events/request', API.requestEvents\r\n)\r\n\r\nexport const addGroup = createAsyncThunk(\r\n  'group/add',\r\n  async ({uid, group} : {uid : number, group : string}) => {\r\n    const data = await API.addGroup({uid, group})\r\n\r\n    return data\r\n  }\r\n)\r\n\r\nexport const delGroup = createAsyncThunk(\r\n  'group/del',\r\n  async (id : number) => {\r\n    const data = await API.delGroup(id)\r\n\r\n    return data\r\n  }\r\n)\r\n\r\nconst initialState : ProfileState = {\r\n  events : [],\r\n  loadingEvents : false,\r\n  errorEvents : false,\r\n\r\n  user : null,\r\n  // user : { id : 17, groupId : '', myGroup : null, fromWhoms : [] },\r\n  userId : null,\r\n  loadingUser : true,\r\n  errorUser : false,\r\n}\r\n\r\nconst profileSlice = createSlice({\r\n  name : 'profile',\r\n  initialState,\r\n  reducers : {},\r\n  extraReducers(builder)\r\n  {\r\n    builder\r\n      .addCase(requestUser.pending, (state, action) => {\r\n        state.loadingUser = true\r\n        state.errorUser = false\r\n        state.userId = action.meta.arg\r\n      })\r\n      .addCase(requestUser.rejected, (state) => {\r\n        state.loadingUser = false\r\n        state.errorUser = true\r\n      })\r\n      .addCase(requestUser.fulfilled, (state, action) => {\r\n        state.loadingUser = false\r\n        state.errorUser = false\r\n        state.user = action.payload\r\n      })\r\n\r\n      .addCase(addGroup.pending, (state) => {\r\n        state.loadingUser = true\r\n        state.errorUser = false\r\n      })\r\n      .addCase(addGroup.rejected, (state) => {\r\n        state.loadingUser = false\r\n        state.errorUser = true\r\n      })\r\n      .addCase(addGroup.fulfilled, (state, action) => {\r\n        state.loadingUser = false\r\n        state.errorUser = false\r\n        state.user!.group = action.payload.group\r\n        state.user!.myGroup = action.payload.myGroup\r\n        state.user!.fromWhoms = action.payload.fromWhoms\r\n      })\r\n\r\n      .addCase(delGroup.pending, (state) => {\r\n        state.loadingUser = true\r\n        state.errorUser = false\r\n      })\r\n      .addCase(delGroup.rejected, (state) => {\r\n        state.loadingUser = false\r\n        state.errorUser = true\r\n      })\r\n      .addCase(delGroup.fulfilled, (state) => {\r\n        state.loadingUser = false\r\n        state.errorUser = false\r\n        state.user!.group = ''\r\n        state.user!.myGroup = null\r\n        state.user!.fromWhoms = []\r\n      })\r\n\r\n      .addCase(requestEvents.pending, (state) => {\r\n        state.loadingEvents = true\r\n        state.errorEvents = false\r\n      })\r\n      .addCase(requestEvents.rejected, (state) => {\r\n        state.loadingEvents = false\r\n        state.errorEvents = true\r\n      })\r\n      .addCase(requestEvents.fulfilled, (state, action) => {\r\n        state.loadingEvents = false\r\n        state.errorEvents = false\r\n        state.events = action.payload\r\n      })\r\n  }\r\n})\r\n\r\nexport default profileSlice.reducer","import React from 'react'\r\n\r\nimport Icon28ArticleOutline from '@vkontakte/icons/dist/28/article_outline' // по дням\r\nimport Icon28GridSquareOutline from '@vkontakte/icons/dist/28/grid_square_outline' // полностью\r\nimport Icon28Users3Outline from '@vkontakte/icons/dist/28/users_3_outline' // экзамены\r\nimport Icon28FavoriteOutline from '@vkontakte/icons/dist/28/favorite_outline' // сохранить\r\nimport Icon28UnfavoriteOutline from '@vkontakte/icons/dist/28/unfavorite_outline' // удалить\r\nimport Icon28ViewOutline from '@vkontakte/icons/dist/28/view_outline' // разница\r\nimport Icon28HideOutline from '@vkontakte/icons/dist/28/hide_outline' // без разницы\r\n\r\nexport type MenuItemId =  'byDays' | 'full' | 'exams' | 'without_diff' | 'with_diff' | 'save' | 'delete'\r\n\r\ninterface MenuItemIconProps\r\n{\r\n  id : MenuItemId\r\n}\r\n\r\nconst MenuItemIcon : React.FC<MenuItemIconProps> = ({\r\n  id\r\n}) => {\r\n  switch(id)\r\n  {\r\n    case 'byDays': return <Icon28ArticleOutline />\r\n    case 'full': return <Icon28GridSquareOutline />\r\n    case 'exams': return <Icon28Users3Outline />\r\n    case 'save': return <Icon28FavoriteOutline fill=\"orange\" />\r\n    case 'delete': return <Icon28UnfavoriteOutline fill=\"red\" />\r\n    case 'with_diff': return <Icon28ViewOutline fill=\"#4bb34b\" />\r\n    case 'without_diff': return <Icon28HideOutline fill=\"gray\" />\r\n  }\r\n}\r\n\r\nexport default MenuItemIcon","import React from 'react'\r\nimport './Schedule.sass'\r\n\r\nimport { Button, Cell, List, Panel, PanelHeader, PanelHeaderBack, PanelHeaderContext, PanelSpinner, Placeholder } from \"@vkontakte/vkui\"\r\nimport Icon16Dropdown from '@vkontakte/icons/dist/16/dropdown'\r\nimport Icon24Done from '@vkontakte/icons/dist/24/done'\r\n\r\nimport Title from '../../components/Title'\r\nimport DayCard from '../../components/DayCard'\r\nimport FullSchedule from '../../components/FullSchedule'\r\nimport ByDay from '../../components/ByDay'\r\n\r\nimport { ILesson } from '../../types/ILesson'\r\nimport { PlainLesson } from '../../types/PlainLesson'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { RootState } from '../../redux/rootReducer'\r\nimport { changeMode, popHistory, requestSchedule, setIsDiff } from '../../redux/slices/schedule'\r\nimport { changePanel } from '../../redux/slices/navigation'\r\nimport { SCHEDULE_STORY, SEARCH_PANEL } from '../../constans'\r\nimport { addGroup, delGroup } from '../../redux/slices/profile'\r\nimport MenuItemIcon, { MenuItemId } from './MenuItemIcon'\r\nimport { getDiff } from '../../utils/'\r\n\r\ninterface ISchedulePanelProps\r\n{\r\n  id : string\r\n}\r\n\r\nexport type MenuItem = { text : string, id : string }\r\nconst MENU = [\r\n  { text : 'По дням', id : 'byDays' },\r\n  { text : 'Полностью', id : 'full' },\r\n  { text : 'Экзамены', id : 'exams' },\r\n  { text : 'Без разницы', id : 'without_diff' },\r\n  { text : 'Разница', id : 'with_diff' },\r\n  { text : 'Сохранить', id : 'save' },\r\n  { text : 'Удалить', id : 'delete' },\r\n]\r\n\r\nconst Schedule : React.FC<ISchedulePanelProps> = ({\r\n  id,\r\n}) => {\r\n  const dispatch = useDispatch()\r\n  const { activeMode, activeSchedule, loading, error, history, isDiff } = useSelector((s : RootState) => s.schedule)\r\n  const { user } = useSelector((s : RootState) => s.profile)\r\n\r\n  const [menuOpened, setMenuOpened] = React.useState<boolean>(false)\r\n  const toggleMenu = () => setMenuOpened(!menuOpened && !loading)\r\n\r\n  const selectMenuItem = (item : MenuItem) => {\r\n    if(item.id !== activeMode.id)\r\n    {\r\n      if(item.id === 'save' && user)\r\n      {\r\n        dispatch(addGroup({uid : user.id, group : history[history.length-1]}))\r\n        dispatch(setIsDiff(false))\r\n      }\r\n      else if(item.id === 'delete' && user)\r\n      {\r\n        dispatch(delGroup(user.id))\r\n        dispatch(setIsDiff(false))\r\n      }\r\n      else if(item.id === 'with_diff' || item.id === 'without_diff')\r\n      {\r\n        dispatch(setIsDiff(item.id === 'with_diff'))\r\n      }\r\n      else if(item.id === 'exams')\r\n      {\r\n        dispatch(changeMode(item))\r\n        dispatch(setIsDiff(false))\r\n      }\r\n      else dispatch(changeMode(item))\r\n    }\r\n\r\n    requestAnimationFrame(toggleMenu)\r\n  }\r\n\r\n  const goBack = () => {\r\n    dispatch(popHistory())\r\n\r\n    if(history.length < 2)\r\n      dispatch(changePanel({story : SCHEDULE_STORY, panel : SEARCH_PANEL}))\r\n  }\r\n\r\n  const handleError = () => {\r\n    dispatch(requestSchedule({href : history[history.length - 1], add : false}))\r\n  }\r\n\r\n  const diff = React.useMemo(() => {\r\n    if(isDiff && user && user.myGroup && activeSchedule)\r\n      return getDiff(activeSchedule.schedule as PlainLesson[], user.myGroup.schedule)\r\n\r\n    return []\r\n  }, [isDiff, user, activeSchedule])\r\n\r\n  return(\r\n    <Panel id={id}>\r\n      <PanelHeader left={<PanelHeaderBack onClick={goBack} />}>\r\n        <div onClick={toggleMenu} className='header'>\r\n          {activeMode.text}\r\n          <Icon16Dropdown fill='var(--accent)' style={{ transform: `rotate(${menuOpened ? '180deg' : '0'})` }} />\r\n        </div>\r\n      </PanelHeader>\r\n      {activeSchedule &&\r\n        <PanelHeaderContext\r\n          opened={menuOpened}\r\n          onClose={toggleMenu}\r\n        >\r\n          <List>\r\n            {MENU.map((item,i) => {\r\n              const notExams = !activeSchedule?.exams && item.id === 'exams'\r\n              const examsSelected = activeMode.id === 'exams' && (item.id === 'with_diff' || item.id === 'without_diff')\r\n\r\n              const myGroup = user && user.group === activeSchedule.href\r\n              const myGroupSave = myGroup && item.id === 'save'\r\n              const notMyGroupDelete = !myGroup && item.id === 'delete'\r\n\r\n              const withoutDiff = isDiff && item.id === 'with_diff'\r\n              const withDiff = !isDiff && item.id === 'without_diff'\r\n              const ownDiff = (item.id === 'without_diff' || item.id === 'with_diff') && myGroup\r\n\r\n              const notUserGroup = user && !user.group && (item.id === 'with_diff' || item.id === 'without_diff')\r\n\r\n              if(\r\n                examsSelected ||\r\n                notExams ||\r\n                myGroupSave ||\r\n                notMyGroupDelete ||\r\n                withoutDiff ||\r\n                withDiff ||\r\n                ownDiff ||\r\n                notUserGroup\r\n              ) return\r\n\r\n              let cn = ''\r\n              if(item.id === 'save') cn = 'save'\r\n              else if(item.id === 'delete') cn = 'delete'\r\n\r\n              return <Cell\r\n                key={i}\r\n                before={<MenuItemIcon id={item.id as MenuItemId} />}\r\n                onClick={() => selectMenuItem(item)}\r\n                className={cn}\r\n                asideContent={activeMode.id === item.id ? <Icon24Done fill='var(--accent)' /> : null}\r\n              >{item.text}</Cell>\r\n            })}        \r\n          </List>\r\n        </PanelHeaderContext>\r\n      }\r\n      \r\n      {loading && <PanelSpinner />}\r\n      {error && \r\n        <Placeholder\r\n          action={<Button mode=\"tertiary\" onClick={handleError}>Попробовать еще</Button>}\r\n          stretched\r\n        >Произошла ошибка</Placeholder>\r\n      }\r\n      {activeSchedule && <>\r\n        <Title isDiff={isDiff} mySchedule={(user && user.group === activeSchedule.href) as boolean} title={activeSchedule!.title} />\r\n        {activeMode.id === 'exams' && <DayCard lessons={activeSchedule!.exams as ILesson[]} />}\r\n        {activeMode.id === 'byDays' &&\r\n          <ByDay schedule={isDiff ? diff : activeSchedule.schedule as PlainLesson[]}/>\r\n        }\r\n        {activeMode.id === 'full' &&\r\n          <FullSchedule schedule={isDiff ? diff : activeSchedule.schedule as PlainLesson[]}/>\r\n        }\r\n      </>}\r\n    </Panel>\r\n  )\r\n}\r\n\r\nexport default Schedule","import { PlainLesson, Coords } from \"../types/PlainLesson\"\r\n\r\nexport const getDiff = (a : PlainLesson[], b : PlainLesson[]) : PlainLesson[] => {\r\n  console.log('DIFF...')\r\n  \r\n  const isEqual = (a : Coords, b : Coords) : boolean => {\r\n    const dayEqual = a.i === b.i\r\n    const lessonNumEqual = a.j === b.j\r\n    const weekEqual = a.z === b.z || a.z === 2 || b.z === 2\r\n    const groupEqual = a.k === b.k || a.k === 2 || b.k === 2\r\n\r\n    return dayEqual && lessonNumEqual && weekEqual && groupEqual\r\n  }\r\n  \r\n  return a.filter(la => !b.find(lb => isEqual(la.coords, lb.coords)))\r\n}","import React from 'react'\r\nimport './Profile.sass'\r\n\r\nimport { Button, Card, CardScroll, CellButton, Div, Group, InfoRow, Link, Panel, PanelHeader, PanelHeaderButton, PanelSpinner, Placeholder, Progress, ScreenSpinner } from \"@vkontakte/vkui\"\r\nimport Icon28GlobeOutline from '@vkontakte/icons/dist/28/globe_outline'\r\nimport { currentWeek, getBackgrounds, toEnd } from '../../utils'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { changePanel, changeStory } from '../../redux/slices/navigation'\r\nimport { COUNT_LAST_SCHEDULES, MAP_PANEL, PROFILE_STORY, SCHEDULE_PANEL, SCHEDULE_STORY, SEARCH_PANEL } from '../../constans'\r\nimport { RootState } from '../../redux/rootReducer'\r\nimport { requestSchedule } from '../../redux/slices/schedule'\r\nimport { requestEvents, delGroup, requestUser } from '../../redux/slices/profile'\r\nimport { FromWhom } from '../../types/ILesson'\r\nimport { useLastSchedules } from '../../utils'\r\n\r\ninterface IProfilePanelProps\r\n{\r\n  id : string\r\n}\r\n\r\nconst Profile : React.FC<IProfilePanelProps> = ({\r\n  id,\r\n}) => {\r\n  const dispatch = useDispatch()\r\n  \r\n  const {\r\n    events, loadingEvents, errorEvents,\r\n    user, loadingUser, errorUser, userId\r\n  } = useSelector((s : RootState) => s.profile)\r\n  \r\n  const backgrounds = getBackgrounds(events.length)\r\n  const { setLast } = useLastSchedules(COUNT_LAST_SCHEDULES)\r\n  const [now, total, diff] = toEnd()\r\n\r\n  const goToSchedule = (s : FromWhom) => {\r\n    setLast(s)\r\n    dispatch(requestSchedule({href : s.href}))\r\n    dispatch(changeStory(SCHEDULE_STORY))\r\n    dispatch(changePanel({story:SCHEDULE_STORY,panel:SCHEDULE_PANEL}))\r\n  }\r\n  \r\n  return(\r\n    <Panel id={id}>\r\n      <PanelHeader\r\n        left={\r\n          <PanelHeaderButton\r\n            onClick={() => dispatch(changePanel({story : PROFILE_STORY, panel : MAP_PANEL}))}\r\n          ><Icon28GlobeOutline /></PanelHeaderButton>\r\n        }\r\n      >Профиль</PanelHeader>\r\n      {errorUser &&\r\n        <Placeholder\r\n          action={<Button mode=\"tertiary\" onClick={() => dispatch(requestUser(userId as number))}>Попробовать еще</Button>}\r\n          stretched\r\n        >Произошла ошибка</Placeholder>\r\n      }\r\n      {!loadingUser && !errorUser &&\r\n        <Div>\r\n          <Group separator={'hide'} header=\"События\" style={{margin : '8px 0px'}}>\r\n            {loadingEvents\r\n              ? <PanelSpinner />\r\n              : errorEvents\r\n                ? <Placeholder\r\n                  action={\r\n                    <Button\r\n                      mode=\"tertiary\"\r\n                      onClick={() => dispatch(requestEvents())}\r\n                    >Попробовать еще</Button>}\r\n                >Произошла ошибка</Placeholder>\r\n                : <CardScroll>\r\n                    {events.map((e,i) => {\r\n                      return <Card\r\n                        key={i}\r\n                        className=\"event-card\"\r\n                        style={{ background : backgrounds[i] }}\r\n                      ><Link href={e.href}>{e.title}</Link></Card>\r\n                    })}\r\n                </CardScroll>\r\n            }\r\n          </Group>\r\n          <Card>\r\n            <Div>\r\n              <b>Текущая неделя : </b>{currentWeek() === 0 ? 'Числитель' : 'Знаменатель'}\r\n            </Div>\r\n            <Div>\r\n              <InfoRow header={`До конца семестра(03.01.2021г) : ${diff} дн.`}>\r\n                <Progress value={(now / total) * 100} />\r\n              </InfoRow>\r\n            </Div>\r\n          </Card>\r\n          <Group header=\"Ваше расписание\" style={{marginTop:8}}>\r\n            <Button\r\n              mode=\"tertiary\"\r\n              className=\"linkable\"\r\n              onClick={() => {\r\n                if(user && user.myGroup)\r\n                  goToSchedule(user.myGroup)\r\n                else\r\n                {\r\n                  dispatch(changeStory(SCHEDULE_STORY))\r\n                  dispatch(changePanel({story:SCHEDULE_STORY,panel:SEARCH_PANEL}))\r\n                }\r\n              }}\r\n            >{(user && user.myGroup) ? user.myGroup.title : 'Выбрать'}</Button>\r\n            {user && user.myGroup &&\r\n              <Div>\r\n                <Button\r\n                  mode=\"destructive\"\r\n                  size=\"l\"\r\n                  style={{width : '100%'}}\r\n                  onClick={() => dispatch(delGroup(user.id))}\r\n                >Удалить расписание</Button>\r\n              </Div>\r\n            }\r\n          </Group>\r\n          {user && user.myGroup &&\r\n            <Group header={user.group.includes('t') ? 'Группы' : 'Преподаватели'} style={{marginTop:8}}>\r\n              {user.fromWhoms.map((fw,i) => {\r\n                return <CellButton\r\n                  key={i}\r\n                  onClick={() => goToSchedule(fw)}\r\n                >{fw.title}</CellButton>\r\n              })}\r\n            </Group>\r\n          }\r\n        </Div>\r\n      }\r\n    </Panel>\r\n  )\r\n}\r\n\r\nexport default Profile","export const toEnd = () => {\r\n  const start = new Date(2020, 8, 1).getTime()\r\n  const now = new Date().getTime()\r\n  const end = new Date(2021, 0, 3).getTime()\r\n\r\n  const DAYS = 1000 * 60 * 60 * 24\r\n\r\n  const wasted = (now - start) / DAYS\r\n  const total  = (end - start) / DAYS\r\n  const diff   = (end - now) / DAYS\r\n\r\n  return [wasted, total, diff].map(Math.floor)\r\n}","import React from 'react'\r\n\r\nimport { Cell, Div, Group, Panel, PanelHeader, PanelHeaderBack } from \"@vkontakte/vkui\"\r\n\r\nimport map from '../../assets/map.png'\r\nimport { useDispatch } from 'react-redux'\r\nimport { changePanel } from '../../redux/slices/navigation'\r\nimport { PROFILE_PANEL, PROFILE_STORY } from '../../constans'\r\n\r\ninterface IMapPanelProps\r\n{\r\n  id : string\r\n}\r\n\r\nconst Map : React.FC<IMapPanelProps> = ({\r\n  id,\r\n}) => {\r\n  const dispatch = useDispatch()\r\n  return(\r\n    <Panel id={id}>\r\n      <PanelHeader\r\n        left={\r\n          <PanelHeaderBack\r\n            onClick={() => dispatch(changePanel({story : PROFILE_STORY, panel : PROFILE_PANEL}))}\r\n          />\r\n        }\r\n      >Карта</PanelHeader>\r\n\r\n      <Div>\r\n        <img src={map} alt=\"карта\" style={{width:'100%'}}/>\r\n      </Div>\r\n\r\n      <Div>\r\n        <Group header=\"Расшифровка аббревиатур\">\r\n          <Cell>УК - учебный корпус</Cell>\r\n          <Cell>ГУК - главный учебный корпус</Cell>\r\n          <Cell>СДК - студенческий дворец культуры</Cell>\r\n          <Cell>УСК - учебно-спортивный комплекс</Cell>\r\n        </Group>\r\n      </Div>\r\n    </Panel>\r\n  )\r\n}\r\n\r\nexport default Map","import { createSlice } from \"@reduxjs/toolkit\"\r\n\r\ninterface SearchState\r\n{\r\n  query : string\r\n  loading : boolean\r\n}\r\n\r\nconst initialState : SearchState = {\r\n  query : '',\r\n  loading : false\r\n}\r\n\r\nconst searchSlice = createSlice({\r\n  name : 'search',\r\n  initialState,\r\n  reducers : {\r\n    setQuery(state, action)\r\n    {\r\n      state.query = action.payload\r\n    },\r\n    setLoading(state, action)\r\n    {\r\n      state.loading = action.payload\r\n    }\r\n  }\r\n})\r\n\r\nexport const { setQuery, setLoading } = searchSlice.actions\r\nexport default searchSlice.reducer","import React from 'react'\r\nimport './Search.sass'\r\nimport schedules from '../../data/schedules.json'\r\n\r\nimport { Card, CardScroll, CellButton, FixedLayout, List, Panel, PanelHeader, PanelSpinner, Placeholder, Search } from \"@vkontakte/vkui\"\r\n\r\nimport { FromWhom } from '../../types/ILesson'\r\nimport { changePanel } from '../../redux/slices/navigation'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { COUNT_LAST_SCHEDULES, SCHEDULE_PANEL, SCHEDULE_STORY } from '../../constans'\r\nimport { setQuery, setLoading } from '../../redux/slices/search'\r\nimport { RootState } from '../../redux/rootReducer'\r\nimport { requestSchedule } from '../../redux/slices/schedule'\r\nimport { useLastSchedules } from '../../utils'\r\n\r\ninterface ISearchPanelProps\r\n{\r\n  id : string\r\n}\r\n\r\nconst SearchPanel : React.FC<ISearchPanelProps> = ({\r\n  id,\r\n}) => {\r\n\r\n  const dispatch = useDispatch()\r\n  const {query, loading} = useSelector((s : RootState) => s.search)\r\n  \r\n  const { last, setLast } = useLastSchedules(COUNT_LAST_SCHEDULES)\r\n\r\n  const filterSearch = (value : string) => (s : FromWhom) =>\r\n    s.title.toLowerCase().includes(value.toLowerCase())\r\n    \r\n  const [searchResult, setSearchResult] = React.useState<typeof schedules>(query ? schedules.filter(filterSearch(query)) : [])\r\n  React.useEffect(() => {\r\n    let tid : number | undefined\r\n    if(query)\r\n    {\r\n      tid = setTimeout(() => {\r\n        dispatch(setLoading(false))\r\n        setSearchResult(schedules.filter(filterSearch(query)))\r\n      }, 150) as unknown as number\r\n    }\r\n    else\r\n    {\r\n      dispatch(setLoading(false))\r\n      setSearchResult([])\r\n    }\r\n\r\n    return () => clearTimeout(tid)\r\n  }, [query])\r\n  const handleChange = (e : React.FormEvent<HTMLInputElement>) => {\r\n    dispatch(setQuery(e.currentTarget.value))\r\n    dispatch(setLoading(true))\r\n  }\r\n  \r\n  const goToSchedule = (s : FromWhom) => {\r\n    setLast(s)\r\n    dispatch(requestSchedule({href : s.href}))\r\n    dispatch(changePanel({ story : SCHEDULE_STORY, panel : SCHEDULE_PANEL }))\r\n  }\r\n\r\n  return(\r\n    <Panel id={id}>\r\n      <PanelHeader>Поиск</PanelHeader>\r\n      <FixedLayout vertical=\"top\" style={{background:'var(--header_background)'}}>\r\n        <Search\r\n          placeholder=\"Группа или преподаватель\"\r\n          value={query}\r\n          onChange={handleChange}\r\n          after={null}\r\n        />\r\n        {last.length !== 0 &&\r\n          <CardScroll>\r\n            {last.map(s => {\r\n              return <Card\r\n                key={s.href}\r\n                className=\"last-card\"\r\n                onClick={() => goToSchedule(s)}\r\n              >{s.title}</Card>\r\n            })}\r\n          </CardScroll>\r\n        }\r\n      </FixedLayout>\r\n      {\r\n        loading\r\n          ? <div style={{marginTop:100}}><PanelSpinner/></div>\r\n          : searchResult.length === 0\r\n            ? <Placeholder stretched>Ничего не найдено</Placeholder>\r\n            : (\r\n              <List style={{ marginTop : 52 + (last.length === 0 ? 0 : 50) }}>\r\n                {searchResult.map(s => {\r\n                  return <CellButton\r\n                    key={s.href}\r\n                    onClick={() => goToSchedule(s)}\r\n                  >{s.title}</CellButton>\r\n                })}\r\n              </List>\r\n            )\r\n      }\r\n\r\n    </Panel>\r\n  )\r\n}\r\n\r\nexport default SearchPanel","import React from 'react'\r\nimport './StaticsLesson.sass'\r\n\r\nimport { CellButton, Div, Group, InfoRow, ModalPage, ModalPageHeader, ModalRoot, PanelHeaderButton, Progress } from '@vkontakte/vkui'\r\nimport { getStatsLesson } from '../../utils'\r\nimport Title from '../Title'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { RootState } from '../../redux/rootReducer'\r\nimport { requestSchedule, setIsDiff, setSubject } from '../../redux/slices/schedule'\r\nimport { PlainLesson } from '../../types/PlainLesson'\r\nimport { FromWhom } from '../../types/ILesson'\r\nimport { useLastSchedules } from '../../utils'\r\nimport { COUNT_LAST_SCHEDULES } from '../../constans'\r\n\r\ninterface StaticsLessonProps{}\r\n\r\nconst TYPE_LESSON = {\r\n  lec : 'Лекции',\r\n  pr : 'Практики',\r\n  lab : 'Лабораторные'\r\n}\r\n\r\nconst StaticsLesson : React.FC<StaticsLessonProps> = ({\r\n  \r\n}) => {\r\n  const dispatch = useDispatch()\r\n  const { activeSubject, activeSchedule } = useSelector((s : RootState) => s.schedule)\r\n\r\n  const { setLast } = useLastSchedules(COUNT_LAST_SCHEDULES)\r\n\r\n  const closeModal = () => dispatch(setSubject(null))\r\n\r\n  const goToSchedule = (s : FromWhom) => {\r\n    setLast(s)\r\n    closeModal()\r\n    dispatch(requestSchedule({href : s.href}))\r\n    dispatch(setIsDiff(false))\r\n  }\r\n  \r\n  if(!activeSchedule) return null\r\n  \r\n  const data = getStatsLesson(activeSubject as string, activeSchedule.schedule)\r\n\r\n  return(\r\n    <ModalRoot\r\n      activeModal={activeSubject ? 'statics_lesson' : null}\r\n      onClose={closeModal}\r\n    >\r\n      <ModalPage\r\n        id=\"statics_lesson\"\r\n        dynamicContentHeight={true}\r\n        onClose={closeModal}\r\n        header={\r\n          <ModalPageHeader\r\n            right={<PanelHeaderButton onClick={closeModal}>Закрыть</PanelHeaderButton>}\r\n          >Статистика</ModalPageHeader>\r\n        }\r\n      >\r\n        <Title title={activeSubject as string} />\r\n        <Div>\r\n          <Group header=\"Занятия\" separator=\"hide\">\r\n            {data && Object.entries(data.stats).map((entrie, i) => {\r\n              const [key, [now, total]] = entrie\r\n\r\n              if(total === 0) return\r\n\r\n              return(\r\n                <Div key={i}>\r\n                  <InfoRow header={`${TYPE_LESSON[key as keyof typeof TYPE_LESSON]} ${now}/${total}`}>\r\n                    <Progress className={`progress__${key}`} value={(now / total) * 100} />\r\n                  </InfoRow>\r\n                </Div>\r\n              )\r\n            })}\r\n          </Group>\r\n          {data && data.fromWhoms.length !== 0 &&\r\n            <Group header={activeSchedule.href.includes('t') ? 'Группы' : 'Преподаватели'} separator=\"hide\">\r\n              {data.fromWhoms.map(fw => {\r\n                return <CellButton\r\n                  key={fw.href}\r\n                  onClick={() => goToSchedule(fw)}\r\n                >{fw.title}</CellButton>\r\n              })}\r\n            </Group>\r\n          }\r\n        </Div>\r\n      </ModalPage>\r\n    </ModalRoot>\r\n  )\r\n}\r\n\r\nexport default StaticsLesson","import weeks from '../data/weeks.json'\r\n\r\nimport { FromWhom } from '../types/ILesson'\r\nimport { PlainLesson } from '../types/PlainLesson'\r\n\r\nexport const getStatsLesson = (subject : string, schedule : PlainLesson[]) => {\r\n  const byWeek = [[0,0],[0,0],[0,0]]\r\n  const fromWhoms : FromWhom[] = []\r\n\r\n  const now = new Date()\r\n  \r\n  const dd = now.getDay()\r\n  const currentDay = dd === 0 ? 6 : dd - 1\r\n  \r\n  const d = now.getTime()\r\n  const currentWeekIndex = weeks.findIndex(({ date : [start, end] }) => start < d && d < end)\r\n  \r\n\r\n  schedule.forEach(l => {\r\n    if(l.subject === subject)\r\n    {\r\n      weeks.forEach((w, i) => {\r\n        const week = l.coords.z\r\n        const day = l.coords.i\r\n        const group = l.coords.k\r\n\r\n        if(week === w.week || week === 2)\r\n        {\r\n          if(\r\n            group !== 2 && (l.fromWhoms.length === 2 || week !== 2) ||\r\n            group === 2\r\n          )\r\n            byWeek[l.type][1]++\r\n          else\r\n            byWeek[l.type][1] += 0.5\r\n\r\n          if(\r\n            i < currentWeekIndex ||\r\n            i === currentWeekIndex && day <= currentDay\r\n          )\r\n          {\r\n            if(\r\n              group !== 2 && (l.fromWhoms.length === 2 || week !== 2) ||\r\n              group === 2\r\n            )\r\n              byWeek[l.type][0]++\r\n            else\r\n              byWeek[l.type][0] += 0.5\r\n          }\r\n        }\r\n      })\r\n\r\n      l.fromWhoms.map(fw => {\r\n        if(fromWhoms.find(_ => _.href === fw.href)) return\r\n\r\n        fromWhoms.push(fw)\r\n      })\r\n    }\r\n  })\r\n\r\n  return {\r\n    fromWhoms,\r\n    stats : {\r\n      lec : byWeek[0].map(Math.floor),\r\n      pr  : byWeek[1].map(Math.floor),\r\n      lab : byWeek[2].map(Math.floor),\r\n    },\r\n  }\r\n}","import React from 'react'\n\nimport bridge from '@vkontakte/vk-bridge'\nimport { Epic, ScreenSpinner, Tabbar, TabbarItem, View } from '@vkontakte/vkui'\n\nimport Schedule from './panels/Schedule'\nimport Profile from './panels/Profile'\nimport Map from './panels/Map'\nimport SearchPanel from './panels/Search'\nimport StaticsLesson from './components/StaticsLesson'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { RootState } from './redux/rootReducer'\nimport { changePanel, changeStory } from './redux/slices/navigation'\nimport { PROFILE_STORY, SCHEDULE_PANEL, SCHEDULE_STORY, SEARCH_PANEL } from './constans'\nimport { requestEvents, requestUser } from './redux/slices/profile'\nimport { clearHistory } from './redux/slices/schedule'\n\nconst App : React.FC = () => {\n\tconst dispatch = useDispatch()\n\tconst { story, panels } = useSelector((s : RootState) => s.navigation)\n\tconst { loadingUser } = useSelector((s : RootState) => s.profile)\n\n\tconst changeActiveStory = (e : React.MouseEvent<HTMLDivElement>) => {\n\t\tconst newStory = e.currentTarget.dataset.story\n\t\tif(\n\t\t\tnewStory === SCHEDULE_STORY &&\n\t\t\tstory === SCHEDULE_STORY &&\n\t\t\tpanels.schedule === SCHEDULE_PANEL\n\t\t)\n\t\t{\n\t\t\tdispatch(changePanel({story:SCHEDULE_STORY, panel:SEARCH_PANEL}))\n\t\t\tdispatch(clearHistory())\n\t\t}\n\t\telse if(newStory === story) return\n\t\telse dispatch(changeStory(newStory))\n\t}\n\n\tReact.useEffect(() => {\n\t\tasync function init()\n\t\t{\n\t\t\t// const userData = await bridge.send('VKWebAppGetUserInfo')\n\t\t\t// dispatch(requestEvents())\n\t\t\t// dispatch(requestUser(userData.id))\n\n\t\t\tconst vk_id = 42\n\t\t\tdispatch(requestUser(vk_id))\n\t\t}\n\n\t\tinit()\n\t},[])\n\t\n\treturn(\n\t\t<Epic\n\t\t\tactiveStory={story}\n\t\t\ttabbar={\n\t\t\t\t<Tabbar>\n\t\t\t\t\t<TabbarItem\n\t\t\t\t\t\tonClick={changeActiveStory}\n\t\t\t\t\t\tselected={story === 'schedule'}\n\t\t\t\t\t\tdata-story={'schedule'}\n\t\t\t\t\t>schedule</TabbarItem>\n\t\t\t\t\t<TabbarItem\n\t\t\t\t\t\tonClick={changeActiveStory}\n\t\t\t\t\t\tselected={story === 'profile'}\n\t\t\t\t\t\tdata-story={'profile'}\n\t\t\t\t\t>profile</TabbarItem>\n\t\t\t\t</Tabbar>\n\t\t\t}\n\t\t>\n\t\t\t<View\n\t\t\t\tid={'schedule'}\n\t\t\t\tactivePanel={panels.schedule}\n\t\t\t\tmodal={<StaticsLesson />}\n\t\t\t\tonSwipeBack={(...args) => console.log('Swipe : ', ...args)}\n\t\t\t>\n\t\t\t\t<SearchPanel id='search' />\n\t\t\t\t<Schedule id='schedule' />\n\t\t\t</View>\n\t\t\t<View\n\t\t\t\tid={'profile'}\n\t\t\t\tactivePanel={panels.profile}\n\t\t\t\tpopout={loadingUser ? <ScreenSpinner /> : null}\n\t\t\t>\n\t\t\t\t<Profile id='profile' />\n\t\t\t\t<Map id='map' />\n\t\t\t</View>\t\t\n\t\t</Epic>\n\t)\n}\n\nexport default App","import { combineReducers } from \"@reduxjs/toolkit\"\r\n\r\nimport navigation from './slices/navigation'\r\nimport search from './slices/search'\r\nimport schedule from './slices/schedule'\r\nimport profile from './slices/profile'\r\n\r\nconst rootReducer = combineReducers({\r\n  navigation,\r\n  search,\r\n  schedule,\r\n  profile,\r\n})\r\n\r\nexport type RootState = ReturnType<typeof rootReducer>\r\nexport default rootReducer","import { configureStore } from \"@reduxjs/toolkit\"\r\n\r\nimport rootReducer from './rootReducer'\r\n\r\nconst store = configureStore({ reducer : rootReducer })\r\n\r\nexport default store","import 'core-js/features/map'\nimport 'core-js/features/set'\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport bridge from '@vkontakte/vk-bridge'\nimport '@vkontakte/vkui/dist/vkui.css'\n\nimport './index.sass'\n\nimport App from './App'\n\nimport { Provider } from 'react-redux'\nimport store from './redux/store'\n\nbridge.send('VKWebAppInit')\nbridge.subscribe(e => {\n  if(e.detail.type === 'VKWebAppUpdateConfig')\n    document.body.setAttribute('scheme', e.detail.data.scheme)//, 'space_gray')\n})\n\nReactDOM.render(\n  <Provider store={store}><App /></Provider>,\n  document.getElementById('root')\n)"],"sourceRoot":""}